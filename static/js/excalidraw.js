(function(){
shadow$provide[551]=function(T,K,xa,v){var u=K(13);!function(q,r){"object"==typeof v&&"object"==typeof xa?xa.exports=r(K(3),K(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],r):"object"==typeof v?v.Excalidraw=r(K(3),K(12)):q.Excalidraw=r(q.React,q.ReactDOM)}(self,function(q,r){return(()=>{function m(x){if(a[x])return a[x].exports;var l=a[x]={id:x,exports:{}};return p[x](l,l.exports,m),l.exports}var f,e,k,p={5374:x=>{function l(h,y,A,D,L,O,I){try{var H=h[O](I),E=H.value}catch(G){return void A(G)}H.done?
y(E):Promise.resolve(E).then(D,L)}x.exports=function(h){return function(){var y=this,A=arguments;return new Promise(function(D,L){function O(E){l(H,D,L,O,I,"next",E)}function I(E){l(H,D,L,O,I,"throw",E)}var H=h.apply(y,A);O(void 0)})}}},566:x=>{x.exports=function(l,h,y){return h in l?Object.defineProperty(l,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):l[h]=y,l}},6950:x=>{function l(){return x.exports=l=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var A=arguments[y],D;for(D in A)Object.prototype.hasOwnProperty.call(A,
D)&&(h[D]=A[D])}return h},l.apply(this,arguments)}x.exports=l},5474:(x,l,h)=>{var y=h(8387);x.exports=function(A,D){if(null==A)return{};var L,O=y(A,D);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);for(L=0;L<I.length;L++){var H=I[L];0<=D.indexOf(H)||Object.prototype.propertyIsEnumerable.call(A,H)&&(O[H]=A[H])}}return O}},8387:x=>{x.exports=function(l,h){if(null==l)return{};var y,A={},D=Object.keys(l);for(y=0;y<D.length;y++){var L=D[y];0<=h.indexOf(L)||(A[L]=l[L])}return A}},
6009:(x,l,h)=>{l=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},1395:(x,l,h)=>{l=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},3211:(x,l,h)=>{l=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},5574:(x,l,h)=>{l=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4518:(x,l,h)=>{l=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},3040:(x,l,h)=>{l=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8623:(x,l,h)=>{l=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4193:(x,l,h)=>{l=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},341:(x,l,h)=>{l=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},9705:(x,l,h)=>{l=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",
singleton:!1});x.exports=h.locals||{}},7143:(x,l,h)=>{l=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},7428:(x,l,h)=>{l=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8465:(x,l,h)=>{l=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||
{}},8680:(x,l,h)=>{l=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},205:(x,l,h)=>{l=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8416:(x,l,h)=>{l=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},2816:(x,l,h)=>{l=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},1575:(x,l,h)=>{l=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},7287:(x,l,h)=>{l=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8518:(x,l,h)=>{l=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},5849:(x,l,h)=>{l=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},9478:(x,l,h)=>{l=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},2680:(x,l,h)=>{l=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",
singleton:!1});x.exports=h.locals||{}},3142:(x,l,h)=>{l=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8234:(x,l,h)=>{l=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4651:(x,l,h)=>{l=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||
{}},2189:(x,l,h)=>{l=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},487:(x,l,h)=>{function y(ha){for(var Y=-1,da=0;da<G.length;da++)if(G[da].identifier===ha){Y=da;break}return Y}function A(ha,Y){for(var da={},ca=[],pa=0;pa<ha.length;pa++){var J=ha[pa],R=Y.base?J[0]+Y.base:J[0],fa=da[R]||0,ia="".concat(R," ").concat(fa);da[R]=fa+1;R=y(ia);J={css:J[1],media:J[2],sourceMap:J[3]};-1!==R?(G[R].references++,G[R].updater(J)):
G.push({identifier:ia,updater:I(J,Y),references:1});ca.push(ia)}return ca}function D(ha){var Y=document.createElement("style"),da=ha.attributes||{};if(void 0===da.nonce){var ca=h.nc;ca&&(da.nonce=ca)}if(Object.keys(da).forEach(function(pa){Y.setAttribute(pa,da[pa])}),"function"==typeof ha.insert)ha.insert(Y);else{ha=E(ha.insert||"head");if(!ha)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ha.appendChild(Y)}return Y}function L(ha,
Y,da,ca){da=da?"":ca.media?"@media ".concat(ca.media," {").concat(ca.css,"}"):ca.css;ha.styleSheet?ha.styleSheet.cssText=ma(Y,da):(da=document.createTextNode(da),ca=ha.childNodes,ca[Y]&&ha.removeChild(ca[Y]),ca.length?ha.insertBefore(da,ca[Y]):ha.appendChild(da))}function O(ha,Y,da){Y=da.css;var ca=da.media;da=da.sourceMap;if(ca?ha.setAttribute("media",ca):ha.removeAttribute("media"),da&&"undefined"!=typeof btoa&&(Y+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(da)))),
" */")),ha.styleSheet)ha.styleSheet.cssText=Y;else{for(;ha.firstChild;)ha.removeChild(ha.firstChild);ha.appendChild(document.createTextNode(Y))}}function I(ha,Y){if(Y.singleton){var da=qa++;var ca=V||(V=D(Y));var pa=L.bind(null,ca,da,!1);var J=L.bind(null,ca,da,!0)}else ca=D(Y),pa=O.bind(null,ca,Y),J=function(){if(null===ca.parentNode)var R=!1;else ca.parentNode.removeChild(ca),R=void 0;!R};return pa(ha),function(R){R?(R.css!==ha.css||R.media!==ha.media||R.sourceMap!==ha.sourceMap)&&pa(ha=R):J()}}
var H,E=function(){var ha={};return function(Y){if(void 0===ha[Y]){var da=document.querySelector(Y);if(window.HTMLIFrameElement&&da instanceof window.HTMLIFrameElement)try{da=da.contentDocument.head}catch(ca){da=null}ha[Y]=da}return ha[Y]}}(),G=[],Z,ma=(Z=[],function(ha,Y){return Z[ha]=Y,Z.filter(Boolean).join("\n")}),V=null,qa=0;x.exports=function(ha,Y){(Y=Y||{}).singleton||"boolean"==typeof Y.singleton||(Y.singleton=(void 0===H&&(H=!(!(window&&document&&document.all)||window.atob)),H));var da=A(ha=
ha||[],Y);return function(ca){if(ca=ca||[],"[object Array]"===Object.prototype.toString.call(ca)){for(var pa=0;pa<da.length;pa++){var J=y(da[pa]);G[J].references--}ca=A(ca,Y);for(pa=0;pa<da.length;pa++)J=y(da[pa]),0===G[J].references&&(G[J].updater(),G.splice(J,1));da=ca}}}},2829:x=>{x.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:x=>{x.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(x,l,h)=>{function y(D){if(!h.o(A,D))return Promise.resolve().then(()=>
{var I=Error("Cannot find module '"+D+"'");throw I.code="MODULE_NOT_FOUND",I;});var L=A[D],O=L[0];return Promise.all(L.slice(1).map(h.e)).then(()=>h.t(O,3))}var A={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(A);y.id=788;x.exports=y},7154:x=>{function l(){return x.exports=l=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var A=arguments[y],D;for(D in A)Object.prototype.hasOwnProperty.call(A,D)&&(h[D]=A[D])}return h},l.apply(this,arguments)}x.exports=l},6479:(x,l,h)=>{var y=h(7316);x.exports=function(A,D){if(null==A)return{};var L,O=y(A,D);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);
for(L=0;L<I.length;L++){var H=I[L];0<=D.indexOf(H)||Object.prototype.propertyIsEnumerable.call(A,H)&&(O[H]=A[H])}}return O}},7316:x=>{x.exports=function(l,h){if(null==l)return{};var y,A={},D=Object.keys(l);for(y=0;y<D.length;y++){var L=D[y];0<=h.indexOf(L)||(A[L]=l[L])}return A}},8328:(x,l,h)=>{h.r(l);h.d(l,{default:()=>D});l=h(3645);var y=h.n(l);l=h(1667);l=h.n(l);var A=h(7464);h=h(9638);y=y()(function(L){return L[1]});A=l()(A.Z);h=l()(h.Z);y.push([x.id,'@font-face{font-family:"Virgil";src:url('+
A+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const D=y},6121:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=h},2510:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=h},7972:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=h},190:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=h},6718:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=h},3623:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=h},103:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=h},7061:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);
h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=h},1498:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=h},666:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=h},849:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=h},6915:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});
l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=h},7030:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=h},3994:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=h},700:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=h},287:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=h},5657:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=h},7392:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=h},6065:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=h},83:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=h},1554:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=h},1970:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=h},961:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=h},4878:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=h},1988:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=h},3245:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=h},3645:x=>{x.exports=function(l){var h=[];return h.toString=function(){return this.map(function(y){var A=l(y);return y[2]?"@media ".concat(y[2]," {").concat(A,"}"):A}).join("")},h.i=function(y,A,D){"string"==typeof y&&(y=[[null,
y,""]]);var L={};if(D)for(var O=0;O<this.length;O++){var I=this[O][0];null!=I&&(L[I]=!0)}for(O=0;O<y.length;O++)I=[].concat(y[O]),D&&L[I[0]]||(A&&(I[2]?I[2]="".concat(A," and ").concat(I[2]):I[2]=A),h.push(I))},h}},1667:x=>{x.exports=function(l,h){return h||(h={}),"string"!=typeof(l=l&&l.__esModule?l.default:l)?l:(/^['"].*['"]$/.test(l)&&(l=l.slice(1,-1)),h.hash&&(l+=h.hash),/["'() \t\n]/.test(l)||h.needQuotes?'"'.concat(l.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):l)}},9638:(x,l,h)=>{h.d(l,{Z:()=>
y});const y=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(x,l,h)=>{h.d(l,{Z:()=>y});const y=h.p+"excalidraw-assets/Virgil.woff2"},8288:(x,l,h)=>{h.d(l,{iC:()=>A,f:()=>D,qx:()=>L,Iw:()=>O,$e:()=>I,wZ:()=>H,ay:()=>E,oc:()=>G,Oh:()=>Z,Ks:()=>y,Vi:()=>ma,$C:()=>V,ut:()=>qa,_D:()=>ha,n5:()=>Y,rk:()=>da,Hg:()=>ca,hs:()=>pa,eQ:()=>J,k:()=>R,LO:()=>fa,I:()=>ia,Gj:()=>ra,nM:()=>na,Lg:()=>ka,HM:()=>sa,V4:()=>Na,EH:()=>cb,Gi:()=>eb});var y;x=h(2189);h=h.n(x);var A="Excalidraw",D=10,L=8,O=5,I=1,H=30,E=Math.PI/
12,G={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},Z={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ya){Ya.COPY="copy";Ya.PASTE="paste";Ya.CUT="cut";Ya.KEYDOWN="keydown";Ya.KEYUP="keyup";Ya.MOUSE_MOVE="mousemove";Ya.RESIZE="resize";Ya.UNLOAD="unload";Ya.BLUR="blur";Ya.DRAG_OVER="dragover";Ya.DROP="drop";Ya.GESTURE_END="gestureend";Ya.BEFORE_UNLOAD="beforeunload";Ya.GESTURE_START="gesturestart";Ya.GESTURE_CHANGE="gesturechange";Ya.POINTER_MOVE="pointermove";
Ya.POINTER_UP="pointerup";Ya.STATE_CHANGE="statechange";Ya.WHEEL="wheel";Ya.TOUCH_START="touchstart";Ya.TOUCH_END="touchend";Ya.HASHCHANGE="hashchange";Ya.VISIBILITY_CHANGE="visibilitychange";Ya.SCROLL="scroll"}(y||(y={}));var ma={TEST:"test",DEVELOPMENT:"development"},V={SHAPE_ACTIONS_MENU:"App-menu__left"},qa={1:"Virgil",2:"Helvetica",3:"Cascadia"},ha="Segoe UI Emoji",Y=20,da=1,ca="left",pa="top",J="{version}",R=20,fa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ia={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ra=300,na=500,ka=5E3,sa=100,Na=.1,cb={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},eb=h().appearanceFilter},3956:(x,l,h)=>{function y(d,t){return Math.pow(d[0]-t[0],2)+Math.pow(d[1]-t[1],2)}function A(d,t,w){return[d[0]+(t[0]-d[0])*w,d[1]+(t[1]-d[1])*w]}function D(d,t,w,F){F=F||[];var S=d[t+0],aa=d[t+1],wa=d[t+2];const ua=d[t+3];var Ba=3*aa[0]-2*S[0]-ua[0];Ba*=Ba;aa=3*aa[1]-2*S[1]-ua[1];aa*=aa;let Ma=3*wa[0]-2*ua[0]-S[0];Ma*=Ma;S=3*wa[1]-2*ua[1]-S[1];
(S*=S,Ba<Ma&&(Ba=Ma),aa<S&&(aa=S),Ba+aa)<w?(w=d[t+0],F.length?1<(Ga=F[F.length-1],gb=w,Math.sqrt(y(Ga,gb)))&&F.push(w):F.push(w),F.push(d[t+3])):(Ga=d[t+0],Ba=d[t+1],gb=d[t+2],d=d[t+3],t=A(Ga,Ba,.5),S=A(Ba,gb,.5),gb=A(gb,d,.5),Ba=A(t,S,.5),S=A(S,gb,.5),wa=A(Ba,S,.5),D([Ga,t,Ba,wa],0,w,F),D([wa,S,gb,d],0,w,F));var Ga,gb;return F}function L(d,t){return O(d,0,d.length,t)}function O(d,t,w,F,S){S=S||[];const aa=d[t],wa=d[w-1];let ua=0,Ba=1;for(let nb=t+1;nb<w-1;++nb){var Ma=d[nb];var Ga=aa,gb=wa,mb=y(Ga,
gb);0===mb?Ma=y(Ma,Ga):(mb=((Ma[0]-Ga[0])*(gb[0]-Ga[0])+(Ma[1]-Ga[1])*(gb[1]-Ga[1]))/mb,Ma=(mb=Math.max(0,Math.min(1,mb)),y(Ma,A(Ga,gb,mb))));Ma>ua&&(ua=Ma,Ba=nb)}return Math.sqrt(ua)>F?(O(d,t,Ba+1,F,S),O(d,Ba,w,F,S)):(S.length||S.push(aa),S.push(wa)),S}function I(d,t=.15,w){const F=[],S=(d.length-1)/3;for(let aa=0;aa<S;aa++)D(d,3*aa,t,F);return w&&0<w?O(F,0,F.length,w):F}function H(d,t,w){if(d&&d.length){const [F,S]=t;t=Math.PI/180*w;const aa=Math.cos(t),wa=Math.sin(t);d.forEach(ua=>{const [Ba,Ma]=
ua;ua[0]=(Ba-F)*aa-(Ma-S)*wa+F;ua[1]=(Ba-F)*wa+(Ma-S)*aa+S})}}function E(d){const t=d[0];d=d[1];return Math.sqrt(Math.pow(t[0]-d[0],2)+Math.pow(t[1]-d[1],2))}function G(d,t,w,F){const S=t[1]-d[1];t=d[0]-t[0];d=S*d[0]+t*d[1];const aa=F[1]-w[1];F=w[0]-F[0];w=aa*w[0]+F*w[1];const wa=S*F-aa*t;return wa?[(F*d-t*w)/wa,(S*w-aa*d)/wa]:null}function Z(d,t,w){const F=d.length;if(3>F)return!1;const S=[Number.MAX_SAFE_INTEGER,w];t=[t,w];w=0;for(let aa=0;aa<F;aa++){const wa=d[aa],ua=d[(aa+1)%F];if(qa(wa,ua,t,
S)){if(0===V(wa,t,ua))return ma(wa,t,ua);w++}}return 1==w%2}function ma(d,t,w){return t[0]<=Math.max(d[0],w[0])&&t[0]>=Math.min(d[0],w[0])&&t[1]<=Math.max(d[1],w[1])&&t[1]>=Math.min(d[1],w[1])}function V(d,t,w){d=(t[1]-d[1])*(w[0]-t[0])-(t[0]-d[0])*(w[1]-t[1]);return 0===d?0:0<d?1:2}function qa(d,t,w,F){const S=V(d,t,w),aa=V(d,t,F),wa=V(w,F,d),ua=V(w,F,t);return S!==aa&&wa!==ua||!(0!==S||!ma(d,w,t))||!(0!==aa||!ma(d,F,t))||!(0!==wa||!ma(w,d,F))||!(0!==ua||!ma(w,t,F))}function ha(d,t){const w=[0,0],
F=Math.round(t.hachureAngle+90);F&&H(d,w,F);t=function(S,aa){var wa=[...S];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);S=[];if(wa&&2<wa.length){let Ba=aa.hachureGap;0>Ba&&(Ba=4*aa.strokeWidth);Ba=Math.max(Ba,.1);aa=[];for(var ua=0;ua<wa.length-1;ua++){const gb=wa[ua],mb=wa[ua+1];if(gb[1]!==mb[1]){const nb=Math.min(gb[1],mb[1]);aa.push({ymin:nb,ymax:Math.max(gb[1],mb[1]),x:nb===gb[1]?gb[0]:mb[0],islope:(mb[0]-gb[0])/(mb[1]-gb[1])})}}if(aa.sort((gb,mb)=>gb.ymin<mb.ymin?
-1:gb.ymin>mb.ymin?1:gb.x<mb.x?-1:gb.x>mb.x?1:gb.ymax===mb.ymax?0:(gb.ymax-mb.ymax)/Math.abs(gb.ymax-mb.ymax)),!aa.length)return S;let Ma=[],Ga=aa[0].ymin;for(;Ma.length||aa.length;){if(aa.length){wa=-1;for(ua=0;ua<aa.length&&!(aa[ua].ymin>Ga);ua++)wa=ua;aa.splice(0,wa+1).forEach(gb=>{Ma.push({s:Ga,edge:gb})})}if(Ma=Ma.filter(gb=>!(gb.edge.ymax<=Ga)),Ma.sort((gb,mb)=>gb.edge.x===mb.edge.x?0:(gb.edge.x-mb.edge.x)/Math.abs(gb.edge.x-mb.edge.x)),1<Ma.length)for(wa=0;wa<Ma.length;wa+=2){ua=wa+1;if(ua>=
Ma.length)break;S.push([[Math.round(Ma[wa].edge.x),Ga],[Math.round(Ma[ua].edge.x),Ga]])}Ga+=Ba;Ma.forEach(gb=>{gb.edge.x+=Ba*gb.edge.islope})}}return S}(d,t);return F&&(H(d,w,-F),function(S,aa,wa){const ua=[];S.forEach(Ba=>ua.push(...Ba));H(ua,aa,wa)}(t,w,-F)),t}function Y(d){const t=[];a:{var w=d;for(var F=[];""!==w;){if(!w.match(/^([ \t\r\n,]+)/))if(w.match(/^([aAcChHlLmMqQsStTvVzZ])/))F[F.length]={type:0,text:RegExp.$1};else{if(!w.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){w=
[];break a}F[F.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}w=w.substr(RegExp.$1.length)}w=(F[F.length]={type:2,text:""},F)}F="BOD";let S=0;for(var aa=w[S];2!==aa.type;){let wa=0;const ua=[];if("BOD"===F){if("M"!==aa.text&&"m"!==aa.text)return Y("M0,0"+d);S++;wa=vh[aa.text];F=aa.text}else 1===aa.type?wa=vh[F]:(S++,wa=vh[aa.text],F=aa.text);if(!(S+wa<w.length))throw Error("Path data ended short");for(aa=S;aa<S+wa;aa++){const Ba=w[aa];if(1!==Ba.type)throw Error("Param not a number: "+F+","+Ba.text);
ua[ua.length]=+Ba.text}if("number"!=typeof vh[F])throw Error("Bad segment: "+F);t.push({key:F,data:ua});S+=wa;aa=w[S];"M"===F&&(F="L");"m"===F&&(F="l")}return t}function da(d){let t=0,w=0,F=0,S=0;const aa=[];for(const {key:wa,data:ua}of d)switch(wa){case "M":aa.push({key:"M",data:[...ua]});[t,w]=ua;[F,S]=ua;break;case "m":t+=ua[0];w+=ua[1];aa.push({key:"M",data:[t,w]});F=t;S=w;break;case "L":aa.push({key:"L",data:[...ua]});[t,w]=ua;break;case "l":t+=ua[0];w+=ua[1];aa.push({key:"L",data:[t,w]});break;
case "C":aa.push({key:"C",data:[...ua]});t=ua[4];w=ua[5];break;case "c":d=ua.map((Ba,Ma)=>Ma%2?Ba+w:Ba+t);aa.push({key:"C",data:d});t=d[4];w=d[5];break;case "Q":aa.push({key:"Q",data:[...ua]});t=ua[2];w=ua[3];break;case "q":d=ua.map((Ba,Ma)=>Ma%2?Ba+w:Ba+t);aa.push({key:"Q",data:d});t=d[2];w=d[3];break;case "A":aa.push({key:"A",data:[...ua]});t=ua[5];w=ua[6];break;case "a":t+=ua[5];w+=ua[6];aa.push({key:"A",data:[ua[0],ua[1],ua[2],ua[3],ua[4],t,w]});break;case "H":aa.push({key:"H",data:[...ua]});
t=ua[0];break;case "h":t+=ua[0];aa.push({key:"H",data:[t]});break;case "V":aa.push({key:"V",data:[...ua]});w=ua[0];break;case "v":w+=ua[0];aa.push({key:"V",data:[w]});break;case "S":aa.push({key:"S",data:[...ua]});t=ua[2];w=ua[3];break;case "s":d=ua.map((Ba,Ma)=>Ma%2?Ba+w:Ba+t);aa.push({key:"S",data:d});t=d[2];w=d[3];break;case "T":aa.push({key:"T",data:[...ua]});t=ua[0];w=ua[1];break;case "t":t+=ua[0];w+=ua[1];aa.push({key:"T",data:[t,w]});break;case "Z":case "z":aa.push({key:"Z",data:[]}),t=F,w=
S}return aa}function ca(d){const t=[];var w="";let F=0,S=0,aa=0,wa=0,ua=0,Ba=0;for(const {key:Ga,data:gb}of d){switch(Ga){case "M":t.push({key:"M",data:[...gb]});[F,S]=gb;[aa,wa]=gb;break;case "C":t.push({key:"C",data:[...gb]});F=gb[4];S=gb[5];ua=gb[2];Ba=gb[3];break;case "L":t.push({key:"L",data:[...gb]});[F,S]=gb;break;case "H":F=gb[0];t.push({key:"L",data:[F,S]});break;case "V":S=gb[0];t.push({key:"L",data:[F,S]});break;case "S":var Ma=d=0;"C"===w||"S"===w?(d=F+(F-ua),Ma=S+(S-Ba)):(d=F,Ma=S);t.push({key:"C",
data:[d,Ma,...gb]});ua=gb[0];Ba=gb[1];F=gb[2];S=gb[3];break;case "T":const [mb,nb]=gb;Ma=d=0;"Q"===w||"T"===w?(d=F+(F-ua),Ma=S+(S-Ba)):(d=F,Ma=S);t.push({key:"C",data:[F+2*(d-F)/3,S+2*(Ma-S)/3,mb+2*(d-mb)/3,nb+2*(Ma-nb)/3,mb,nb]});ua=d;Ba=Ma;F=mb;S=nb;break;case "Q":const [Xb,Sb,qc,Xc]=gb;t.push({key:"C",data:[F+2*(Xb-F)/3,S+2*(Sb-S)/3,qc+2*(Xb-qc)/3,Xc+2*(Sb-Xc)/3,qc,Xc]});ua=Xb;Ba=Sb;F=qc;S=Xc;break;case "A":w=Math.abs(gb[0]);d=Math.abs(gb[1]);Ma=gb[2];const cd=gb[3],md=gb[4],ce=gb[5],ae=gb[6];
if(0===w||0===d)t.push({key:"C",data:[F,S,ce,ae,ce,ae]}),F=ce,S=ae;else if(F!==ce||S!==ae)J(F,S,ce,ae,w,d,Ma,cd,md).forEach(function(Be){t.push({key:"C",data:Be})}),F=ce,S=ae;break;case "Z":t.push({key:"Z",data:[]}),F=aa,S=wa}w=Ga}return t}function pa(d,t,w){return[d*Math.cos(w)-t*Math.sin(w),d*Math.sin(w)+t*Math.cos(w)]}function J(d,t,w,F,S,aa,wa,ua,Ba,Ma){const Ga=(gb=wa,Math.PI*gb/180);var gb;gb=[];if(Ma)[ua,mb,nb,Xb]=Ma;else{[d,t]=pa(d,t,-Ga);[w,F]=pa(w,F,-Ga);var mb=(d-w)/2;var nb=(t-F)/2;var Xb=
mb*mb/(S*S)+nb*nb/(aa*aa);1<Xb&&(Xb=Math.sqrt(Xb),S*=Xb,aa*=Xb);Xb=S*S;var Sb=aa*aa;ua=(ua===Ba?-1:1)*Math.sqrt(Math.abs((Xb*Sb-Xb*nb*nb-Sb*mb*mb)/(Xb*nb*nb+Sb*mb*mb)));nb=ua*S*nb/aa+(d+w)/2;Xb=ua*-aa*mb/S+(t+F)/2;ua=Math.asin(parseFloat(((t-Xb)/aa).toFixed(9)));mb=Math.asin(parseFloat(((F-Xb)/aa).toFixed(9)));d<nb&&(ua=Math.PI-ua);w<nb&&(mb=Math.PI-mb);0>ua&&(ua=2*Math.PI+ua);0>mb&&(mb=2*Math.PI+mb);Ba&&ua>mb&&(ua-=2*Math.PI);!Ba&&mb>ua&&(mb-=2*Math.PI)}if(Math.abs(mb-ua)>120*Math.PI/180){gb=mb;
Sb=w;const qc=F;mb=Ba&&mb>ua?ua+120*Math.PI/180:ua+120*Math.PI/180*-1;gb=J(w=nb+S*Math.cos(mb),F=Xb+aa*Math.sin(mb),Sb,qc,S,aa,wa,0,Ba,[mb,gb,nb,Xb])}wa=Math.tan((mb-ua)/4);S=4/3*S*wa;wa*=4/3*aa;aa=[d,t];d=[d+S*Math.sin(ua),t-wa*Math.cos(ua)];t=[w+S*Math.sin(mb),F-wa*Math.cos(mb)];w=[w,F];if(d[0]=2*aa[0]-d[0],d[1]=2*aa[1]-d[1],Ma)return[d,t,w].concat(gb);gb=[d,t,w].concat(gb);Ma=[];for(w=0;w<gb.length;w+=3)F=pa(gb[w][0],gb[w][1],Ga),d=pa(gb[w+1][0],gb[w+1][1],Ga),t=pa(gb[w+2][0],gb[w+2][1],Ga),Ma.push([F[0],
F[1],d[0],d[1],t[0],t[1]]);return Ma}function R(d,t,w){const F=(d||[]).length;if(2<F){const S=[];for(let aa=0;aa<F-1;aa++)S.push(...Ya(d[aa][0],d[aa][1],d[aa+1][0],d[aa+1][1],w));return t&&S.push(...Ya(d[F-1][0],d[F-1][1],d[0][0],d[0][1],w)),{type:"path",ops:S}}return 2===F?{type:"path",ops:Ya(d[0][0],d[0][1],d[1][0],d[1][1],w)}:{type:"path",ops:[]}}function fa(d,t){let w=bc(d,1+.2*t.roughness,t);if(!t.disableMultiStroke){var F=1.5*(1+.22*t.roughness);const S=Object.assign({},t);S.randomizer=void 0;
t.seed&&(S.seed=t.seed+1);d=bc(d,F,S);w=w.concat(d)}return{type:"path",ops:w}}function ia(d,t,w){const F=2*Math.PI/Math.max(w.curveStepCount,w.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(t/2,2))/2)));d=Math.abs(d/2);t=Math.abs(t/2);const S=1-w.curveFitting;return d+=eb(d*S,w),t+=eb(t*S,w),{increment:F,rx:d,ry:t}}function ra(d,t,w,F){const [S,aa]=Ac(F.increment,d,t,F.rx,F.ry,1,F.increment*cb(.1,cb(.4,1,w),w),w);let wa=fc(S,null,w);w.disableMultiStroke||([d]=
Ac(F.increment,d,t,F.rx,F.ry,1.5,0,w),w=fc(d,null,w),wa=wa.concat(w));return{estimatedPoints:aa,opset:{type:"path",ops:wa}}}function na(d,t,w,F,S,aa,wa,ua,Ba){w=Math.abs(w/2);F=Math.abs(F/2);w+=eb(.01*w,Ba);for(F+=eb(.01*F,Ba);0>S;)S+=2*Math.PI,aa+=2*Math.PI;aa-S>2*Math.PI&&(S=0,aa=2*Math.PI);var Ma=Math.min(2*Math.PI/Ba.curveStepCount/2,(aa-S)/2);const Ga=Jc(Ma,d,t,w,F,S,aa,1,Ba);Ba.disableMultiStroke||(Ma=Jc(Ma,d,t,w,F,S,aa,1.5,Ba),Ga.push(...Ma));return wa&&(ua?Ga.push(...Ya(d,t,d+w*Math.cos(S),
t+F*Math.sin(S),Ba),...Ya(d,t,d+w*Math.cos(aa),t+F*Math.sin(aa),Ba)):Ga.push({op:"lineTo",data:[d,t]},{op:"lineTo",data:[d+w*Math.cos(S),t+F*Math.sin(S)]})),{type:"path",ops:Ga}}function ka(d,t){const w=[];if(d.length){const F=t.maxRandomnessOffset||0,S=d.length;if(2<S){w.push({op:"move",data:[d[0][0]+eb(F,t),d[0][1]+eb(F,t)]});for(let aa=1;aa<S;aa++)w.push({op:"lineTo",data:[d[aa][0]+eb(F,t),d[aa][1]+eb(F,t)]})}}return{type:"fillPath",ops:w}}function sa(d,t){var w=Bd;let F=t.fillStyle||"hachure";
if(!gg[F])switch(F){case "zigzag":gg[F]||(gg[F]=new uf(w));break;case "cross-hatch":gg[F]||(gg[F]=new Lf(w));break;case "dots":gg[F]||(gg[F]=new mh(w));break;case "dashed":gg[F]||(gg[F]=new Qi(w));break;case "zigzag-line":gg[F]||(gg[F]=new Dj(w));break;default:F="hachure",gg[F]||(gg[F]=new ee(w))}return gg[F].fillPolygon(d,t)}function Na(d){return d.randomizer||(d.randomizer=new Ve(d.seed||0)),d.randomizer.next()}function cb(d,t,w,F=1){return w.roughness*F*(Na(w)*(t-d)+d)}function eb(d,t,w=1){return cb(-d,
d,t,w)}function Ya(d,t,w,F,S,aa=!1){const wa=aa?S.disableMultiStrokeFill:S.disableMultiStroke;aa=ac(d,t,w,F,S,!0,!1);if(wa)return aa;d=ac(d,t,w,F,S,!0,!0);return aa.concat(d)}function ac(d,t,w,F,S,aa,wa){var ua=Math.pow(d-w,2)+Math.pow(t-F,2),Ba=Math.sqrt(ua);let Ma;Ma=200>Ba?1:500<Ba?.4:-.0016668*Ba+1.233334;let Ga=S.maxRandomnessOffset||0;Ga*Ga*100>ua&&(Ga=Ba/10);ua=Ga/2;Ba=.2+.2*Na(S);let gb=S.bowing*S.maxRandomnessOffset*(F-t)/200,mb=S.bowing*S.maxRandomnessOffset*(d-w)/200;gb=eb(gb,S,Ma);mb=
eb(mb,S,Ma);const nb=[];return aa&&(wa?nb.push({op:"move",data:[d+eb(ua,S,Ma),t+eb(ua,S,Ma)]}):nb.push({op:"move",data:[d+eb(Ga,S,Ma),t+eb(Ga,S,Ma)]})),wa?nb.push({op:"bcurveTo",data:[gb+d+(w-d)*Ba+eb(ua,S,Ma),mb+t+(F-t)*Ba+eb(ua,S,Ma),gb+d+2*(w-d)*Ba+eb(ua,S,Ma),mb+t+2*(F-t)*Ba+eb(ua,S,Ma),w+eb(ua,S,Ma),F+eb(ua,S,Ma)]}):nb.push({op:"bcurveTo",data:[gb+d+(w-d)*Ba+eb(Ga,S,Ma),mb+t+(F-t)*Ba+eb(Ga,S,Ma),gb+d+2*(w-d)*Ba+eb(Ga,S,Ma),mb+t+2*(F-t)*Ba+eb(Ga,S,Ma),w+eb(Ga,S,Ma),F+eb(Ga,S,Ma)]}),nb}function bc(d,
t,w){const F=[];F.push([d[0][0]+eb(t,w),d[0][1]+eb(t,w)]);F.push([d[0][0]+eb(t,w),d[0][1]+eb(t,w)]);for(let S=1;S<d.length;S++)F.push([d[S][0]+eb(t,w),d[S][1]+eb(t,w)]),S===d.length-1&&F.push([d[S][0]+eb(t,w),d[S][1]+eb(t,w)]);return fc(F,null,w)}function fc(d,t,w){const F=d.length,S=[];if(3<F){const aa=[],wa=1-w.curveTightness;S.push({op:"move",data:[d[1][0],d[1][1]]});for(let ua=1;ua+2<F;ua++){const Ba=d[ua];aa[0]=[Ba[0],Ba[1]];aa[1]=[Ba[0]+(wa*d[ua+1][0]-wa*d[ua-1][0])/6,Ba[1]+(wa*d[ua+1][1]-wa*
d[ua-1][1])/6];aa[2]=[d[ua+1][0]+(wa*d[ua][0]-wa*d[ua+2][0])/6,d[ua+1][1]+(wa*d[ua][1]-wa*d[ua+2][1])/6];aa[3]=[d[ua+1][0],d[ua+1][1]];S.push({op:"bcurveTo",data:[aa[1][0],aa[1][1],aa[2][0],aa[2][1],aa[3][0],aa[3][1]]})}t&&2===t.length&&(d=w.maxRandomnessOffset,S.push({op:"lineTo",data:[t[0]+eb(d,w),t[1]+eb(d,w)]}))}else 3===F?(S.push({op:"move",data:[d[1][0],d[1][1]]}),S.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===F&&S.push(...Ya(d[0][0],d[0][1],d[1][0],d[1][1],
w));return S}function Ac(d,t,w,F,S,aa,wa,ua){const Ba=[],Ma=[],Ga=eb(.5,ua)-Math.PI/2;Ma.push([eb(aa,ua)+t+.9*F*Math.cos(Ga-d),eb(aa,ua)+w+.9*S*Math.sin(Ga-d)]);for(let gb=Ga;gb<2*Math.PI+Ga-.01;gb+=d){const mb=[eb(aa,ua)+t+F*Math.cos(gb),eb(aa,ua)+w+S*Math.sin(gb)];Ba.push(mb);Ma.push(mb)}return Ma.push([eb(aa,ua)+t+F*Math.cos(Ga+2*Math.PI+.5*wa),eb(aa,ua)+w+S*Math.sin(Ga+2*Math.PI+.5*wa)]),Ma.push([eb(aa,ua)+t+.98*F*Math.cos(Ga+wa),eb(aa,ua)+w+.98*S*Math.sin(Ga+wa)]),Ma.push([eb(aa,ua)+t+.9*F*Math.cos(Ga+
.5*wa),eb(aa,ua)+w+.9*S*Math.sin(Ga+.5*wa)]),[Ma,Ba]}function Jc(d,t,w,F,S,aa,wa,ua,Ba){var Ma=aa+eb(.1,Ba);aa=[];for(aa.push([eb(ua,Ba)+t+.9*F*Math.cos(Ma-d),eb(ua,Ba)+w+.9*S*Math.sin(Ma-d)]);Ma<=wa;Ma+=d)aa.push([eb(ua,Ba)+t+F*Math.cos(Ma),eb(ua,Ba)+w+S*Math.sin(Ma)]);return aa.push([t+F*Math.cos(wa),w+S*Math.sin(wa)]),aa.push([t+F*Math.cos(wa),w+S*Math.sin(wa)]),fc(aa,null,Ba)}function ic(d,t,w,F,S,aa,wa,ua){const Ba=[],Ma=[ua.maxRandomnessOffset||1,(ua.maxRandomnessOffset||1)+.3];let Ga;const gb=
ua.disableMultiStroke?1:2;for(let mb=0;mb<gb;mb++)0===mb?Ba.push({op:"move",data:[wa[0],wa[1]]}):Ba.push({op:"move",data:[wa[0]+eb(Ma[0],ua),wa[1]+eb(Ma[0],ua)]}),Ga=[S+eb(Ma[mb],ua),aa+eb(Ma[mb],ua)],Ba.push({op:"bcurveTo",data:[d+eb(Ma[mb],ua),t+eb(Ma[mb],ua),w+eb(Ma[mb],ua),F+eb(Ma[mb],ua),Ga[0],Ga[1]]});return Ba}function Cc(d){var t,w,F="";if("string"==typeof d||"number"==typeof d)F+=d;else if("object"==typeof d)if(Array.isArray(d))for(t=0;t<d.length;t++)d[t]&&(w=Cc(d[t]))&&(F&&(F+=" "),F+=w);
else for(t in d)d[t]&&(F&&(F+=" "),F+=t);return F}function Lc(){for(var d,t,w=0,F="";w<arguments.length;)(d=arguments[w++])&&(t=Cc(d))&&(F&&(F+=" "),F+=t);return F}function qd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Ib(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(w),!0).forEach(function(F){xe()(d,
F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):qd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function nc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function hb(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?
arguments[t]:{};t%2?nc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):nc(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Ha(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Oa(d){for(var t=
1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ha(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Ja(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function Ea(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ja(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Qa(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);
t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function ab(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Qa(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Jb(d,t){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Nb(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function oc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(w),
!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Nb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Ec(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function xc(d){for(var t=1;t<arguments.length;t++){var w=
null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ec(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function vc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,
F)}return w}function hd(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):vc(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Gd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function dd(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Gd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function ze(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);
t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function pe(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ze(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function gd(d){var t=d.options,w=d.value,
F=d.label,S=d.onChange,aa=d.onClose,wa=U().useRef(),ua=U().useRef(),Ba=U().useRef(null);U().useEffect(function(){ua.current?ua.current.focus():Ba.current&&Ba.current.focus()},[]);return U().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":F,onKeyDown:function(Ma){var Ga=t.find(function(Xb){return Xb.keyBinding===Ma.key.toLowerCase()});if(Ma.metaKey||Ma.altKey||Ma.ctrlKey||!Ga)if("Tab"===Ma.key)setTimeout(function(){ua.current!==document.activeElement&&aa()},0);
else if(sg(Ma.key)){Ga=zf.rtl;if(-1!==(nb=Array.prototype.indexOf.call(Ba.current.children,document.activeElement))){var gb=t.length,mb=nb;switch(Ma.key){case Ga?"ArrowLeft":"ArrowRight":case "ArrowDown":mb=(nb+1)%gb;break;case Ga?"ArrowRight":"ArrowLeft":case "ArrowUp":mb=(gb+nb-1)%gb}Ba.current.children[mb].focus()}Ma.preventDefault()}else"Escape"!==Ma.key&&"Enter"!==Ma.key||(Ma.preventDefault(),aa());else{var nb=t.indexOf(Ga);Ba.current.children[nb].focus();Ma.preventDefault()}Ma.nativeEvent.stopImmediatePropagation()}},
U().createElement("div",{className:"picker-content",ref:Ba},t.map(function(Ma,Ga){return U().createElement("button",{className:"picker-option",onClick:function(gb){gb.currentTarget.focus();S(Ma.value)},title:"".concat(Ma.text," — ").concat(Ma.keyBinding.toUpperCase()),"aria-label":Ma.text||"none","aria-keyshortcuts":Ma.keyBinding,key:Ma.text,ref:function(gb){gb&&0===Ga&&(wa.current=gb);gb&&Ma.value===w&&(ua.current=gb)},onFocus:function(){S(Ma.value)}},Ma.icon,U().createElement("span",{className:"picker-keybinding"},
Ma.keyBinding))})))}function jd(d){var t,w=d.value,F=d.label,S=d.options,aa=d.onChange;d=d.group;d=void 0===d?"":d;var wa=U().useState(!1),ua=wa[0],Ba=wa[1],Ma=U().useRef(null);wa=zf.rtl;return U().createElement("label",{className:"picker-container"},U().createElement("button",{name:d,className:ua?"active":"","aria-label":F,onClick:function(){return Ba(!ua)},ref:Ma},null===(t=S.find(function(Ga){return Ga.value===w}))||void 0===t?void 0:t.icon),U().createElement(U().Suspense,{fallback:""},ua?U().createElement(U().Fragment,
null,U().createElement(fb,Jd()({onCloseRequest:function(Ga){return Ga.target!==Ma.current&&Ba(!1)}},wa?{right:5.5}:{left:-5.5}),U().createElement(gd,{options:S,value:w,label:F,onChange:aa,onClose:function(){var Ga;Ba(!1);null===(Ga=Ma.current)||void 0===Ga||Ga.focus()}})),U().createElement("div",{className:"picker-triangle"})):null))}function Oe(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function oe(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Oe(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Pe(){return(0,ea.useContext)(cg)}function jf(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=
Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Ye(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?jf(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):jf(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function mf(d,
t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function $f(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):mf(Object(w)).forEach(function(F){Object.defineProperty(d,
F,Object.getOwnPropertyDescriptor(w,F))})}return d}async function Yh(...d){return(await sm).default(...d)}async function Ng(...d){return(await lf).default(...d)}function Re(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Ae(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(w),!0).forEach(function(F){xe()(d,
F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Re(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Nf(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Ce(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?
arguments[t]:{};t%2?Nf(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Nf(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function lb(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function wb(d){for(var t=
1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):lb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function kb(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function Ua(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):kb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function bb(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);
t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function ob(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?bb(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):bb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Kb(d,t){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function gc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Kb(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Kb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,
F))})}return d}function pc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function zc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):pc(Object(w)).forEach(function(F){Object.defineProperty(d,
F,Object.getOwnPropertyDescriptor(w,F))})}return d}function kd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Tc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
kd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Rd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function kc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Rd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Rb(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Zd(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(w),
!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Rb(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function bg(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Mc(d){for(var t=1;t<arguments.length;t++){var w=
null!=arguments[t]?arguments[t]:{};t%2?bg(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):bg(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Sd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,
F)}return w}function ub(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Sd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Va(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function Ub(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Va(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Hc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);
t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function nd(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Hc(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function ud(d,t){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function ke(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ud(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,
F))})}return d}function uc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Pc(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):uc(Object(w)).forEach(function(F){Object.defineProperty(d,
F,Object.getOwnPropertyDescriptor(w,F))})}return d}function cc(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function qb(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
cc(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function rd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function ff(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,
S).enumerable}));w.push.apply(w,F)}return w}function Hd(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Rf(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
Hd(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}function Da(d,t){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);t&&(F=F.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable}));w.push.apply(w,F)}return w}function Ta(d){for(var t=1;t<arguments.length;t++){var w=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(w),!0).forEach(function(F){xe()(d,F,w[F])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Da(Object(w)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(w,F))})}return d}h.r(l);h.d(l,{default:()=>Xt,defaultLang:()=>Nd,getElementMap:()=>Xi,getSceneVersion:()=>Xk,getSyncableElements:()=>Kk,languages:()=>Uc,restore:()=>fn,restoreAppState:()=>en,restoreElements:()=>Zh});var Ra=h(7154),za=h.n(Ra),ta=h(6479),P=h.n(ta),ea=h(4698),U=h.n(ea),Pa=h(8288);const db=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');
"production"!==Pa.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(db.u2,"@").concat(db.i8,"/dist/"));var Cb=h(5374),zb=h.n(Cb),yc=h(2829),zd=h(2051),bd=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=
Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=
0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Nd={code:"en",label:"English"},Uc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Nd]).sort(function(d,t){return d.label>t.label?1:-1}).filter(function(d){return 85<=
zd[d.code]});"production"===Pa.Vi.DEVELOPMENT&&Uc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var He,zf=Nd,xg={},ef=function(){var d=zb()(function(t){return bd(this,function(w){switch(w.label){case 0:return zf=t,document.documentElement.dir=zf.rtl?"rtl":"ltr",document.documentElement.lang=zf.code,t.code.startsWith("__test__")?(xg={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(zf.code,".json"))];case 2:xg=w.sent(),w.label=
3;case 3:return[2]}})});return function(t){return d.apply(this,arguments)}}(),ld=function(d,t){for(var w=0;w<t.length;++w){var F=t[w];if(void 0===d[F])return;d=d[F]}if("string"==typeof d)return d},Mb=function(d,t){if(zf.code.startsWith("__test__"))return d=t?"".concat(d,"(").concat(JSON.stringify(t).slice(1,-1),")"):d,"‪[[".concat(d,"]]‬");var w=d.split(".");w=ld(xg,w)||ld(yc,w);if(void 0===w)throw Error("Can't find translation for ".concat(d));if(t)for(var F in t)w=w.replace("{{".concat(F,"}}"),
t[F]);return w},fg=function(){return U().createElement("div",{className:"LoadingMessage"},U().createElement("span",null,Mb("labels.loadingScene")))},Wg=(He=function(d,t){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,F){w.__proto__=F}||function(w,F){for(var S in F)Object.prototype.hasOwnProperty.call(F,S)&&(w[S]=F[S])})(d,t)},function(d,t){function w(){this.constructor=d}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");
He(d,t);d.prototype=null===t?Object.create(t):(w.prototype=t.prototype,new w)}),Sf=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;
case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,
S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Jh=function(d){function t(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];var S;F=this;return S=F=d.apply(this,w)||this,F.state={isLoading:!0},S}return Wg(t,d),t.prototype.componentDidMount=function(){var w=this;return zb()(function(){var F;return Sf(this,function(S){switch(S.label){case 0:return F=
Uc.find(function(aa){return aa.code===w.props.langCode})||Nd,[4,ef(F)];case 1:return S.sent(),w.setState({isLoading:!1}),[2]}})})()},t.prototype.render=function(){return this.state.isLoading?U().createElement(fg,null):this.props.children},t}(U().Component),Kh=h(566),xe=h.n(Kh);class ee{constructor(d){this.helper=d}fillPolygon(d,t){return this._fillPolygon(d,t)}_fillPolygon(d,t,w=!1){let F=ha(d,t);w&&(d=this.connectingLines(d,F),F=F.concat(d));return{type:"fillSketch",ops:this.renderLines(F,t)}}renderLines(d,
t){const w=[];for(const F of d)w.push(...this.helper.doubleLineOps(F[0][0],F[0][1],F[1][0],F[1][1],t));return w}connectingLines(d,t){const w=[];if(1<t.length)for(let S=1;S<t.length;S++){var F=t[S-1];3>E(F)||(F=[t[S][0],F[1]],3<E(F)&&(F=this.splitOnIntersections(d,F),w.push(...F)))}return w}midPointInPolygon(d,t){return Z(d,(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2)}splitOnIntersections(d,t){var w=Math.max(5,.1*E(t)),F=[];for(var S=0;S<d.length;S++){var aa=d[S],wa=d[(S+1)%d.length];if(qa(aa,wa,...t)&&
(aa=G(aa,wa,t[0],t[1]))){wa=E([aa,t[0]]);const ua=E([aa,t[1]]);wa>w&&ua>w&&F.push({point:aa,distance:wa})}}if(1<F.length){w=F.sort((ua,Ba)=>ua.distance-Ba.distance).map(ua=>ua.point);if(Z(d,...t[0])||w.shift(),Z(d,...t[1])||w.pop(),1>=w.length)return this.midPointInPolygon(d,t)?[t]:[];t=[t[0],...w,t[1]];w=[];for(F=0;F<t.length-1;F+=2)S=[t[F],t[F+1]],this.midPointInPolygon(d,S)&&w.push(S);return w}return this.midPointInPolygon(d,t)?[t]:[]}}class uf extends ee{fillPolygon(d,t){return this._fillPolygon(d,
t,!0)}}class Lf extends ee{fillPolygon(d,t){const w=this._fillPolygon(d,t);t=Object.assign({},t,{hachureAngle:t.hachureAngle+90});d=this._fillPolygon(d,t);return w.ops=w.ops.concat(d.ops),w}}class mh{constructor(d){this.helper=d}fillPolygon(d,t){d=ha(d,t=Object.assign({},t,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,t)}dotsOnLines(d,t){const w=[];let F=t.hachureGap;0>F&&(F=4*t.strokeWidth);F=Math.max(F,.1);let S=t.fillWeight;0>S&&(S=t.strokeWidth/2);const aa=F/4;for(const Ma of d){var wa=
E(Ma);d=Math.ceil(wa/F)-1;wa-=d*F;const Ga=(Ma[0][0]+Ma[1][0])/2-F/4,gb=Math.min(Ma[0][1],Ma[1][1]);for(let mb=0;mb<d;mb++){var ua=gb+wa+mb*F,Ba=this.helper.randOffsetWithRange(Ga-aa,Ga+aa,t);ua=this.helper.randOffsetWithRange(ua-aa,ua+aa,t);Ba=this.helper.ellipse(Ba,ua,S,S,t);w.push(...Ba.ops)}}return{type:"fillSketch",ops:w}}}class Qi{constructor(d){this.helper=d}fillPolygon(d,t){d=ha(d,t);return{type:"fillSketch",ops:this.dashedLine(d,t)}}dashedLine(d,t){const w=0>t.dashOffset?0>t.hachureGap?4*
t.strokeWidth:t.hachureGap:t.dashOffset,F=0>t.dashGap?0>t.hachureGap?4*t.strokeWidth:t.hachureGap:t.dashGap,S=[];return d.forEach(aa=>{var wa=E(aa);const ua=Math.floor(wa/(w+F));wa=(wa+F-ua*(w+F))/2;let Ba=aa[0];var Ma=aa[1];Ba[0]>Ma[0]&&(Ba=aa[1],Ma=aa[0]);aa=Math.atan((Ma[1]-Ba[1])/(Ma[0]-Ba[0]));for(Ma=0;Ma<ua;Ma++){var Ga=Ma*(w+F),gb=Ga+w;Ga=[Ba[0]+Ga*Math.cos(aa)+wa*Math.cos(aa),Ba[1]+Ga*Math.sin(aa)+wa*Math.sin(aa)];gb=[Ba[0]+gb*Math.cos(aa)+wa*Math.cos(aa),Ba[1]+gb*Math.sin(aa)+wa*Math.sin(aa)];
S.push(...this.helper.doubleLineOps(Ga[0],Ga[1],gb[0],gb[1],t))}}),S}}class Dj{constructor(d){this.helper=d}fillPolygon(d,t){const w=0>t.hachureGap?4*t.strokeWidth:t.hachureGap,F=0>t.zigzagOffset?w:t.zigzagOffset;d=ha(d,t=Object.assign({},t,{hachureGap:w+F}));return{type:"fillSketch",ops:this.zigzagLines(d,F,t)}}zigzagLines(d,t,w){const F=[];return d.forEach(S=>{var aa=E(S);aa=Math.round(aa/(2*t));let wa=S[0];var ua=S[1];wa[0]>ua[0]&&(wa=S[1],ua=S[0]);S=Math.atan((ua[1]-wa[1])/(ua[0]-wa[0]));for(ua=
0;ua<aa;ua++){var Ba=2*ua*t,Ma=2*(ua+1)*t,Ga=Math.sqrt(2*Math.pow(t,2));Ba=[wa[0]+Ba*Math.cos(S),wa[1]+Ba*Math.sin(S)];Ma=[wa[0]+Ma*Math.cos(S),wa[1]+Ma*Math.sin(S)];Ga=[Ba[0]+Ga*Math.cos(S+Math.PI/4),Ba[1]+Ga*Math.sin(S+Math.PI/4)];F.push(...this.helper.doubleLineOps(Ba[0],Ba[1],Ga[0],Ga[1],w),...this.helper.doubleLineOps(Ga[0],Ga[1],Ma[0],Ma[1],w))}}),F}}const gg={};class Ve{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}
const vh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Bd={randOffset:function(d,t){return eb(d,t)},randOffsetWithRange:function(d,t,w){return cb(d,t,w)},ellipse:function(d,t,w,F,S){w=ia(w,F,S);return ra(d,t,S,w).opset},doubleLineOps:function(d,t,w,F,S){return Ya(d,t,w,F,S,!0)}};class wh{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",
fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,t,w){return{shape:d,sets:t||[],options:w||this.defaultOptions}}line(d,t,w,F,S){S=this._o(S);return this._d("line",
[{type:"path",ops:Ya(d,t,w,F,S)}],S)}rectangle(d,t,w,F,S){S=this._o(S);const aa=[];var wa=R([[d,t],[d+w,t],[d+w,t+F],[d,t+F]],!0,S);S.fill&&(d=[[d,t],[d+w,t],[d+w,t+F],[d,t+F]],"solid"===S.fillStyle?aa.push(ka(d,S)):aa.push(sa(d,S)));return"none"!==S.stroke&&aa.push(wa),this._d("rectangle",aa,S)}ellipse(d,t,w,F,S){S=this._o(S);const aa=[];F=ia(w,F,S);w=ra(d,t,S,F);S.fill&&("solid"===S.fillStyle?(d=ra(d,t,S,F).opset,d.type="fillPath",aa.push(d)):aa.push(sa(w.estimatedPoints,S)));return"none"!==S.stroke&&
aa.push(w.opset),this._d("ellipse",aa,S)}circle(d,t,w,F){d=this.ellipse(d,t,w,w,F);return d.shape="circle",d}linearPath(d,t){t=this._o(t);return this._d("linearPath",[R(d,!1,t)],t)}arc(d,t,w,F,S,aa,wa=!1,ua){ua=this._o(ua);const Ba=[],Ma=na(d,t,w,F,S,aa,wa,!0,ua);if(wa&&ua.fill)if("solid"===ua.fillStyle)d=na(d,t,w,F,S,aa,!0,!1,ua),d.type="fillPath",Ba.push(d);else{wa=Ba.push;w=Math.abs(w/2);F=Math.abs(F/2);w+=eb(.01*w,ua);for(F+=eb(.01*F,ua);0>S;)S+=2*Math.PI,aa+=2*Math.PI;aa-S>2*Math.PI&&(S=0,aa=
2*Math.PI);const Ga=(aa-S)/ua.curveStepCount,gb=[];for(;S<=aa;S+=Ga)gb.push([d+w*Math.cos(S),t+F*Math.sin(S)]);d=(gb.push([d+w*Math.cos(aa),t+F*Math.sin(aa)]),gb.push([d,t]),sa(gb,ua));wa.call(Ba,d)}return"none"!==ua.stroke&&Ba.push(Ma),this._d("arc",Ba,ua)}curve(d,t){t=this._o(t);const w=[],F=fa(d,t);t.fill&&"none"!==t.fill&&3<=d.length&&(d=I(function(S,aa=0){var wa=S.length;if(3>wa)throw Error("A curve must have at least three points.");const ua=[];if(3===wa)ua.push([...S[0]],[...S[1]],[...S[2]],
[...S[2]]);else{wa=[];wa.push(S[0],S[0]);for(var Ba=1;Ba<S.length;Ba++)wa.push(S[Ba]),Ba===S.length-1&&wa.push(S[Ba]);S=[];aa=1-aa;ua.push([...wa[0]]);for(Ba=1;Ba+2<wa.length;Ba++){const Ma=wa[Ba];S[0]=[Ma[0],Ma[1]];S[1]=[Ma[0]+(aa*wa[Ba+1][0]-aa*wa[Ba-1][0])/6,Ma[1]+(aa*wa[Ba+1][1]-aa*wa[Ba-1][1])/6];S[2]=[wa[Ba+1][0]+(aa*wa[Ba][0]-aa*wa[Ba+2][0])/6,wa[Ba+1][1]+(aa*wa[Ba][1]-aa*wa[Ba+2][1])/6];S[3]=[wa[Ba+1][0],wa[Ba+1][1]];ua.push(S[1],S[2],S[3])}}return ua}(d),10,(1+t.roughness)/2),"solid"===t.fillStyle?
w.push(ka(d,t)):w.push(sa(d,t)));return"none"!==t.stroke&&w.push(F),this._d("curve",w,t)}polygon(d,t){t=this._o(t);const w=[],F=R(d,!0,t);return t.fill&&("solid"===t.fillStyle?w.push(ka(d,t)):w.push(sa(d,t))),"none"!==t.stroke&&w.push(F),this._d("polygon",w,t)}path(d,t){const w=this._o(t),F=[];if(!d)return this._d("path",F,w);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");t=w.fill&&"transparent"!==w.fill&&"none"!==w.fill;const S="none"!==w.stroke,aa=!!(w.simplification&&
1>w.simplification),wa=function(ua,Ba,Ma){var Ga=ca(da(Y(ua)));ua=[];let gb=[];var mb=[0,0];let nb=[];const Xb=()=>{4<=nb.length&&gb.push(...I(nb,Ba));nb=[]};for(const {key:Sb,data:qc}of Ga)switch(Sb){case "M":Xb();gb.length&&(ua.push(gb),gb=[]);mb=[qc[0],qc[1]];gb.push(mb);break;case "L":Xb();gb.push([qc[0],qc[1]]);break;case "C":nb.length||(Ga=gb.length?gb[gb.length-1]:mb,nb.push([Ga[0],Ga[1]]));nb.push([qc[0],qc[1]]);nb.push([qc[2],qc[3]]);nb.push([qc[4],qc[5]]);break;case "Z":Xb(),gb.push([mb[0],
mb[1]])}Xb();gb.length&&(ua.push(gb),gb=[]);if(!Ma)return ua;mb=[];for(const Sb of ua)ua=L(Sb,Ma),ua.length&&mb.push(ua);return mb}(d,1,aa?4-4*w.simplification:(1+w.roughness)/2);if(t)if(w.combineNestedSvgPaths){const ua=[];wa.forEach(Ba=>ua.push(...Ba));"solid"===w.fillStyle?F.push(ka(ua,w)):F.push(sa(ua,w))}else wa.forEach(ua=>{"solid"===w.fillStyle?F.push(ka(ua,w)):F.push(sa(ua,w))});return S&&(aa?wa.forEach(ua=>{F.push(R(ua,!1,w))}):F.push(function(ua,Ba){ua=ca(da(Y(ua)));const Ma=[];let Ga=[0,
0],gb=[0,0];for(const {key:mb,data:nb}of ua)switch(mb){case "M":const Xb=1*(Ba.maxRandomnessOffset||0);Ma.push({op:"move",data:nb.map(ae=>ae+eb(Xb,Ba))});gb=[nb[0],nb[1]];Ga=[nb[0],nb[1]];break;case "L":Ma.push(...Ya(gb[0],gb[1],nb[0],nb[1],Ba));gb=[nb[0],nb[1]];break;case "C":const [Sb,qc,Xc,cd,md,ce]=nb;Ma.push(...ic(Sb,qc,Xc,cd,md,ce,gb,Ba));gb=[md,ce];break;case "Z":Ma.push(...Ya(gb[0],gb[1],Ga[0],Ga[1],Ba)),gb=[Ga[0],Ga[1]]}return{type:"path",ops:Ma}}(d,w))),this._d("path",F,w)}opsToPath(d){let t=
"";for(const w of d.ops)switch(d=w.data,w.op){case "move":t+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":t+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":t+=`L${d[0]} ${d[1]} `}return t.trim()}toPaths(d){var t=d.sets||[];d=d.options||this.defaultOptions;const w=[];for(const F of t){t=null;switch(F.type){case "path":t={d:this.opsToPath(F),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":t={d:this.opsToPath(F),stroke:"none",strokeWidth:0,fill:d.fill||
"none"};break;case "fillSketch":t=this.fillSketch(F,d)}t&&w.push(t)}return w}fillSketch(d,t){let w=t.fillWeight;return 0>w&&(w=t.strokeWidth/2),{d:this.opsToPath(d),stroke:t.fill||"none",strokeWidth:w,fill:"none"}}}class ni{constructor(d,t){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new wh(t)}draw(d){const t=d.sets||[],w=d.options||this.getDefaultOptions(),F=this.ctx;for(const S of t)switch(S.type){case "path":F.save();F.strokeStyle="none"===w.stroke?"transparent":w.stroke;F.lineWidth=
w.strokeWidth;w.strokeLineDash&&F.setLineDash(w.strokeLineDash);w.strokeLineDashOffset&&(F.lineDashOffset=w.strokeLineDashOffset);this._drawToContext(F,S);F.restore();break;case "fillPath":F.save();F.fillStyle=w.fill||"";this._drawToContext(F,S,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");F.restore();break;case "fillSketch":this.fillSketch(F,S,w)}}fillSketch(d,t,w){let F=w.fillWeight;0>F&&(F=w.strokeWidth/2);d.save();w.fillLineDash&&d.setLineDash(w.fillLineDash);w.fillLineDashOffset&&
(d.lineDashOffset=w.fillLineDashOffset);d.strokeStyle=w.fill||"";d.lineWidth=F;this._drawToContext(d,t);d.restore()}_drawToContext(d,t,w="nonzero"){d.beginPath();for(const F of t.ops){const S=F.data;switch(F.op){case "move":d.moveTo(S[0],S[1]);break;case "bcurveTo":d.bezierCurveTo(S[0],S[1],S[2],S[3],S[4],S[5]);break;case "lineTo":d.lineTo(S[0],S[1])}}"fillPath"===t.type?d.fill(w):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,t,w,F,S){d=this.gen.line(d,
t,w,F,S);return this.draw(d),d}rectangle(d,t,w,F,S){d=this.gen.rectangle(d,t,w,F,S);return this.draw(d),d}ellipse(d,t,w,F,S){d=this.gen.ellipse(d,t,w,F,S);return this.draw(d),d}circle(d,t,w,F){d=this.gen.circle(d,t,w,F);return this.draw(d),d}linearPath(d,t){d=this.gen.linearPath(d,t);return this.draw(d),d}polygon(d,t){d=this.gen.polygon(d,t);return this.draw(d),d}arc(d,t,w,F,S,aa,wa=!1,ua){d=this.gen.arc(d,t,w,F,S,aa,wa,ua);return this.draw(d),d}curve(d,t){d=this.gen.curve(d,t);return this.draw(d),
d}path(d,t){d=this.gen.path(d,t);return this.draw(d),d}}class uk{constructor(d,t){this.svg=d;this.gen=new wh(t)}draw(d){var t=d.sets||[];const w=d.options||this.getDefaultOptions(),F=this.svg.ownerDocument||window.document,S=F.createElementNS("http://www.w3.org/2000/svg","g");for(const aa of t){t=null;switch(aa.type){case "path":t=F.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.opsToPath(aa));t.setAttribute("stroke",w.stroke);t.setAttribute("stroke-width",w.strokeWidth+
"");t.setAttribute("fill","none");w.strokeLineDash&&t.setAttribute("stroke-dasharray",w.strokeLineDash.join(" ").trim());w.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${w.strokeLineDashOffset}`);break;case "fillPath":t=F.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.opsToPath(aa));t.setAttribute("stroke","none");t.setAttribute("stroke-width","0");t.setAttribute("fill",w.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||t.setAttribute("fill-rule","evenodd");
break;case "fillSketch":t=this.fillSketch(F,aa,w)}t&&S.appendChild(t)}return S}fillSketch(d,t,w){let F=w.fillWeight;0>F&&(F=w.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(t)),d.setAttribute("stroke",w.fill||""),d.setAttribute("stroke-width",F+""),d.setAttribute("fill","none"),w.fillLineDash&&d.setAttribute("stroke-dasharray",w.fillLineDash.join(" ").trim()),w.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${w.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,t,w,F,S){d=this.gen.line(d,t,w,F,S);return this.draw(d)}rectangle(d,t,w,F,S){d=this.gen.rectangle(d,t,w,F,S);return this.draw(d)}ellipse(d,t,w,F,S){d=this.gen.ellipse(d,t,w,F,S);return this.draw(d)}circle(d,t,w,F){d=this.gen.circle(d,t,w,F);return this.draw(d)}linearPath(d,t){d=this.gen.linearPath(d,t);return this.draw(d)}polygon(d,t){d=this.gen.polygon(d,t);return this.draw(d)}arc(d,
t,w,F,S,aa,wa=!1,ua){d=this.gen.arc(d,t,w,F,S,aa,wa,ua);return this.draw(d)}curve(d,t){d=this.gen.curve(d,t);return this.draw(d)}path(d,t){d=this.gen.path(d,t);return this.draw(d)}}const Fh={canvas:(d,t)=>new ni(d,t),svg:(d,t)=>new uk(d,t),generator:d=>new wh(d),newSeed:()=>wh.newSeed()};var Xd=function(d){return null!=d&&"text"===d.type},Dg=function(d){return null!=d&&cj(d.type)},cj=function(d){return"arrow"===d||"line"===d||"draw"===d},mg=function(d){return null!=d&&"arrow"===d.type},vk=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Bf=function(d,t,w,F,S){return[(d-w)*Math.cos(S)-(t-F)*Math.sin(S)+w,(d-w)*Math.sin(S)+(t-F)*Math.cos(S)+F]},dj=function(d,t,w){return Bf(d[0],d[1],t[0],t[1],w)},hg=function(d,t,w,F,S,aa,wa,ua){var Ba=Math.cos(F);F=Math.sin(F);return d.e&&d.w?t+=S+wa:d.e?(t+=S*(1+Ba),w+=S*F,t+=wa*(1-Ba),w+=wa*-F):d.w&&(t+=S*(1-Ba),w+=S*-F,t+=wa*(1+Ba),w+=wa*F),d.n&&d.s?w+=aa+ua:d.n?(t+=aa*F,w+=aa*(1-Ba),t+=ua*-F,w+=ua*(1+Ba)):d.s&&
(t+=aa*-F,w+=aa*(1+Ba),t+=ua*F,w+=ua*(1-Ba)),[t,w]},$h=function(d,t){if(void 0===t&&(t=1),3<=d.length){var w=[d[0],d[d.length-1]];d=w[0];w=w[1];return Math.hypot(w[0]-d[0],w[1]-d[1])<=Pa.qx/t}return!1},Bi=function(d,t,w){var F=d.length;if(3>F)return!1;var S=[Number.MAX_SAFE_INTEGER,w];t=[t,w];for(var aa=w=0;aa<F;aa++){var wa=d[aa],ua=d[(aa+1)%F],Ba=wa,Ma=ua,Ga=t,gb=S,mb=ej(Ba,Ma,Ga),nb=ej(Ba,Ma,gb),Xb=ej(Ga,gb,Ba),Sb=ej(Ga,gb,Ma);if(mb!==nb&&Xb!==Sb||0===mb&&wk(Ba,Ga,Ma)||0===nb&&wk(Ba,gb,Ma)||0===
Xb&&wk(Ga,Ba,gb)||0===Sb&&wk(Ga,Ma,gb)){if(0===ej(wa,t,ua))return wk(wa,t,ua);w++}}return 1==w%2},wk=function(d,t,w){return t[0]<=Math.max(d[0],w[0])&&t[0]>=Math.min(d[0],w[0])&&t[1]<=Math.max(d[1],w[1])&&t[1]>=Math.min(d[1],w[1])},ej=function(d,t,w){d=(t[1]-d[1])*(w[0]-t[0])-(t[0]-d[0])*(w[1]-t[1]);return 0===d?0:0<d?1:2},oi=function(d,t,w){return w?[Math.round(d/w)*w,Math.round(t/w)*w]:[d,t]},Di=function(d,t,w){var F=w.map(function(Ba){return Ba[d]}),S=Math.max.apply(Math,F);F=Math.min.apply(Math,
F);S-=F;var aa=0===S?1:t/S,wa=1/0;t=w.map(function(Ba){return Ba.map(function(Ma,Ga){if(Ga!==d)return Ma;Ma*=aa;return wa=Math.min(Ma,wa),Ma})});if(2===t.length)return t;var ua=F-wa;return t.map(function(Ba){return Ba.map(function(Ma,Ga){return Ga===d?Ma+ua:Ma})})},ag=function(d){return Dg(d)?qj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Ei=function(d){for(var t=0,w=d.sets;t<w.length;t++){var F=w[t];if("path"===F.type)return F.ops}return d.sets[0].ops},yk=function(d,t){var w=[0,0];d=d.reduce(function(F,
S){var aa,wa=S.op;S=S.data;if("move"===wa)w=S;else if("bcurveTo"===wa){var ua=[S[0],S[1]],Ba=[S[2],S[3]],Ma=[S[4],S[5]],Ga=w;w=Ma;wa=function(nb,Xb){return Math.pow(1-nb,3)*Ma[Xb]+3*nb*Math.pow(1-nb,2)*Ba[Xb]+3*Math.pow(nb,2)*(1-nb)*ua[Xb]+Ga[Xb]*Math.pow(nb,3)};for(S=0;1>=S;){var gb=wa(S,0),mb=wa(S,1);t&&(gb=(aa=t(gb,mb))[0],mb=aa[1]);F.minY=Math.min(F.minY,mb);F.minX=Math.min(F.minX,gb);F.maxX=Math.max(F.maxX,gb);F.maxY=Math.max(F.maxY,mb);S+=.1}}return F},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});
return[d.minX,d.minY,d.maxX,d.maxY]},qj=function(d){if(2>d.points.length||!ti.get(d)){var t=d.points.reduce(function(w,F){var S=F[0];F=F[1];return w.minY=Math.min(w.minY,F),w.minX=Math.min(w.minX,S),w.maxX=Math.max(w.maxX,S),w.maxY=Math.max(w.maxY,F),w},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[t.minX+d.x,t.minY+d.y,t.maxX+d.x,t.maxY+d.y]}t=ti.get(d);t=Ei(t[0]);t=yk(t);return[t[0]+d.x,t[1]+d.y,t[2]+d.x,t[3]+d.y]},pi=function(d){var t=ag(d),w=t[0],F=t[1],S=t[2],aa=t[3];t=(w+S)/2;var wa=(F+aa)/
2;if(Dg(d))return function(gb,mb,nb){if(2>gb.points.length||!ti.get(gb)){var Xb=gb.points.reduce(function(Sb,qc){var Xc,cd=qc[0];qc=qc[1];return cd=(Xc=Bf(gb.x+cd,gb.y+qc,mb,nb,gb.angle))[0],qc=Xc[1],Sb.minY=Math.min(Sb.minY,qc),Sb.minX=Math.min(Sb.minX,cd),Sb.maxX=Math.max(Sb.maxX,cd),Sb.maxY=Math.max(Sb.maxY,qc),Sb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Xb.minX,Xb.minY,Xb.maxX,Xb.maxY]}Xb=ti.get(gb);Xb=Ei(Xb[0]);return yk(Xb,function(Sb,qc){return Bf(gb.x+Sb,gb.y+qc,mb,nb,gb.angle)})}(d,
t,wa);if("diamond"===d.type){F=Bf(t,F,t,wa,d.angle);var ua=F[0];F=F[1];aa=Bf(t,aa,t,wa,d.angle);var Ba=aa[0];aa=aa[1];var Ma=Bf(w,wa,t,wa,d.angle);w=Ma[0];Ma=Ma[1];wa=Bf(S,wa,t,wa,d.angle);t=wa[0];wa=wa[1];return[Math.min(ua,Ba,w,t),Math.min(F,aa,Ma,wa),Math.max(ua,Ba,w,t),Math.max(F,aa,Ma,wa)]}if("ellipse"===d.type)return S=(S-w)/2,ua=(aa-F)/2,F=Math.cos(d.angle),Ba=Math.sin(d.angle),d=Math.hypot(S*F,ua*Ba),S=Math.hypot(ua*F,S*Ba),[t-d,wa-S,t+d,wa+S];Ba=Bf(w,F,t,wa,d.angle);ua=Ba[0];Ba=Ba[1];Ma=
Bf(w,aa,t,wa,d.angle);w=Ma[0];Ma=Ma[1];var Ga=Bf(S,aa,t,wa,d.angle);aa=Ga[0];Ga=Ga[1];wa=Bf(S,F,t,wa,d.angle);t=wa[0];wa=wa[1];return[Math.min(ua,w,aa,t),Math.min(Ba,Ma,Ga,wa),Math.max(ua,w,aa,t),Math.max(Ba,Ma,Ga,wa)]},zg=function(d){if(!d.length)return[0,0,0,0];var t=1/0,w=-1/0,F=1/0,S=-1/0;return d.forEach(function(aa){aa=pi(aa);var wa=aa[1],ua=aa[2],Ba=aa[3];t=Math.min(t,aa[0]);F=Math.min(F,wa);w=Math.max(w,ua);S=Math.max(S,Ba)}),[t,F,w,S]},Og=function(d,t,w){if(!Dg(d))return[d.x,d.y,d.x+t,d.y+
w];t=Di(0,t,Di(1,w,d.points));w=Fh.generator();t="sharp"===d.strokeSharpness?w.linearPath(t,Nh(d)):w.curve(t,Nh(d));t=Ei(t);t=yk(t);return[t[0]+d.x,t[1]+d.y,t[2]+d.x,t[3]+d.y]},qe=function(d,t,w){var F=Fh.generator();t="sharp"===w?F.linearPath(t,Nh(d)):F.curve(t,Nh(d));t=Ei(t);t=yk(t);return[t[0]+d.x,t[1]+d.y,t[2]+d.x,t[3]+d.y]};const te=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var nh=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},Ig=function(d){return[te.Q6[d],te.iQ[d],te.pl[d],te.ht[d],te.QN[d],te.iN[d],te.sl[d],te.$C[d],te.ek[d],te.LR[d],te.er[d],te.$y[d]]};const Bk={canvasBackground:nh([te.ix,te.MA[0],te.MA[1]],Ig(0)),elementBackground:nh(["transparent",te.MA[4],te.MA[6]],Ig(6)),elementStroke:nh([te.Sn,te.MA[8],te.MA[7]],Ig(9))};var Tf=h(6207),Jg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Ej=/^Win/.test(window.navigator.platform),
Ue=Jg?"metaKey":"ctrlKey",sg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},fj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Ag=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Si=function(d){var t=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Pa.ut[t],", ").concat(Pa._D))},Ti=function(d,
t){var w=document.createElement("div"),F=document.body;w.style.position="absolute";w.style.whiteSpace="pre";w.style.font=t;F.appendChild(w);w.innerText=d.split("\n").map(function(S){return S||" "}).join("\n");d=w.offsetWidth;t=w.offsetHeight;F=document.createElement("span");F.style.display="inline-block";F.style.overflow="hidden";F.style.width="1px";F.style.height="1px";w.appendChild(F);F=F.offsetTop+F.offsetHeight;return document.body.removeChild(w),{width:d,height:t,baseline:F}},qi=function(d,t){var w,
F=0,S=function(){for(var aa=[],wa=0;wa<arguments.length;wa++)aa[wa]=arguments[wa];w=aa;clearTimeout(F);F=window.setTimeout(function(){return d.apply(void 0,aa)},t)};return S.flush=function(){clearTimeout(F);w&&d.apply(void 0,w)},S.cancel=function(){clearTimeout(F)},S},Fi=function(d){d&&(d.style.cursor="")},Gi=function(d,t){d&&(d.style.cursor=t)},ri=function(d,t){d&&("selection"===t?Fi(d):d.style.cursor=Pa.oc.CROSSHAIR)},oh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},Pd=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Jg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},ng=function(d,t){var w=t.zoom,F=1/w.value;return{x:(d.clientX-w.translation.x-t.offsetLeft)*F-t.scrollX,y:(d.clientY-w.translation.y-t.offsetTop)*F-t.scrollY}},ch=function(d,t){var w=t.zoom;return{x:(d.sceneX+t.scrollX+t.offsetLeft)*
w.value+w.translation.x,y:(d.sceneY+t.scrollY+t.offsetTop)*w.value+w.translation.y}},Uf=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},ph=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Bg=function(d){return{x:d[0],y:d[1]}},Dk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Vf=function(d){return function(t){(0,Tf.unstable_batchedUpdates)(d,t)}},ol=function(d,t){var w,F=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(w=F.length-1;0<w&&!(d>=F[w].value);w--);return(d/F[w].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+F[w].symbol},Gf=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Pa.eQ},xh=function(){var d=new Map,t=Pa.rk,w=Pa.n5,F=te.Sn,S=Pa.Hg,aa=window.innerHeight,wa="".concat(Mb("labels.untitled"),"-"),ua=wa.concat;var Ba=new Date;var Ma=Ba.getFullYear();var Ga="".concat(Ba.getMonth()+
1).padStart(2,"0"),gb="".concat(Ba.getDate()).padStart(2,"0"),mb="".concat(Ba.getHours()).padStart(2,"0");Ba="".concat(Ba.getMinutes()).padStart(2,"0");Ma="".concat(Ma,"-").concat(Ga,"-").concat(gb,"-").concat(mb).concat(Ba);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:t,currentItemFontSize:w,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:F,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:S,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:aa,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:ua.call(wa,Ma),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:te.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},dh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},si=function(d,t){for(var w={},F=0,S=
Object.keys(d);F<S.length;F++){var aa=S[F],wa=dh[aa];null!=wa&&wa[t]&&(w[aa]=d[aa])}return w},ig=xh(),Mh=[12,8],Tk=[3,6],ai=function(d,t,w){switch(w.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":t.draw(ti.get(d));break;case "arrow":case "draw":case "line":ti.get(d).forEach(function(gb){t.draw(gb)});break;default:if(!Xd(d))throw Error("Unimplemented type ".concat(d.type));var F=ph.test(d.text),S=F&&!w.canvas.isConnected;S&&document.body.appendChild(w.canvas);w.canvas.setAttribute("dir",
F?"rtl":"ltr");F=w.font;w.font=Si(d);var aa=w.fillStyle;w.fillStyle=d.strokeColor;var wa=w.textAlign;w.textAlign=d.textAlign;var ua=d.text.replace(/\r\n?/g,"\n").split("\n"),Ba=d.height/ua.length,Ma=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ga=0;Ga<ua.length;Ga++)w.fillText(ua[Ga],d,(Ga+1)*Ba-Ma);w.fillStyle=aa;w.font=F;w.textAlign=wa;S&&w.canvas.remove()}w.globalAlpha=1},Ek=new WeakMap,ti=new WeakMap,Nh=function(d){var t={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?Mh:"dotted"===d.strokeStyle?Tk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return t.fillStyle=d.fillStyle,t.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(t.curveFitting=1),t;case "line":case "draw":return $h(d.points)&&
(t.fillStyle=d.fillStyle,t.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),t;case "arrow":return t;default:throw Error("Unimplemented type ".concat(d.type));}},Yj=function(d,t){var w=ti.get(d)||null;if(!w){switch(Ek.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){w=d.width;var F=d.height,S=.25*Math.min(w,F);w=t.path("M ".concat(S," 0 L ").concat(w-S," 0 Q ").concat(w," 0, ").concat(w," ").concat(S," L ").concat(w," ").concat(F-S," Q ").concat(w," ").concat(F,", ").concat(w-
S," ").concat(F," L ").concat(S," ").concat(F," Q 0 ").concat(F,", 0 ").concat(F-S," L 0 ").concat(S," Q 0 0, ").concat(S," 0"),Nh(d))}else w=t.rectangle(0,0,d.width,d.height,Nh(d));break;case "diamond":w=function(wa){var ua=Math.floor(wa.width/2)+1,Ba=Math.floor(wa.height/2)+1;return[ua,0,wa.width,Ba,ua,wa.height,0,Ba]}(d);w=t.polygon([[w[0],w[1]],[w[2],w[3]],[w[4],w[5]],[w[6],w[7]]],Nh(d));break;case "ellipse":w=t.ellipse(d.width/2,d.height/2,d.width,d.height,Nh(d));break;case "line":case "draw":case "arrow":var aa=
Nh(d);w=d.points.length?d.points:[[0,0]];if(w="sharp"===d.strokeSharpness?aa.fill?[t.polygon(w,aa)]:[t.linearPath(w,aa)]:[t.curve(w,aa)],"arrow"===d.type){F=d.startArrowhead;F=void 0===F?null:F;S=d.endArrowhead;S=void 0===S?"arrow":S;function wa(ua,Ba,Ma,Ga){Ba=function(Xb,Sb,qc,Xc){Sb=Ei(Sb[0]);if(1>Sb.length)return null;var cd="start"===qc?1:Sb.length-1,md=Sb[cd].data,ce=[md[4],md[5]],ae=[md[2],md[3]],Be=[md[0],md[1]];Sb=Sb[cd-1];var ye=[0,0];"move"===Sb.op?ye=Sb.data:"bcurveTo"===Sb.op&&(ye=[Sb.data[4],
Sb.data[5]]);cd=function(sd,Qd){return Math.pow(1-sd,3)*ce[Qd]+3*sd*Math.pow(1-sd,2)*ae[Qd]+3*Math.pow(sd,2)*(1-sd)*Be[Qd]+ye[Qd]*Math.pow(sd,3)};Sb="start"===qc?ye:ce;qc=Sb[0];Sb=Sb[1];md=[cd(.3,0),cd(.3,1)];cd=md[0];md=md[1];var We=Math.hypot(qc-cd,Sb-md);cd=(qc-cd)/We;md=(Sb-md)/We;We={arrow:30,bar:15,dot:15}[Xc];Xb=Xb.points.reduce(function(sd,Qd,$d,Me){$d=0<$d?Me[$d-1]:[0,0];return sd+Math.hypot(Qd[0]-$d[0],Qd[1]-$d[1])},0);We=Math.min(We,Xb/2);Xb=qc-cd*We;cd=Sb-md*We;if("dot"===Xc)return[qc,
Sb,Math.hypot(cd-Sb,Xb-qc)];md={arrow:20,bar:90}[Xc];We=Bf(Xb,cd,qc,Sb,-md*Math.PI/180);Xc=We[0];We=We[1];Xb=Bf(Xb,cd,qc,Sb,md*Math.PI/180);return[qc,Sb,Xc,We,Xb[0],Xb[1]]}(ua,Ba,Ma,Ga);if(null===Ba)return[];if("dot"===Ga)return[t.circle(Ba[0],Ba[1],Ba[2],Ib(Ib({},aa),{},{fill:ua.strokeColor,fillStyle:"solid"}))];Ga=Ba[0];Ma=Ba[1];var gb=Ba[2],mb=Ba[3],nb=Ba[4];Ba=Ba[5];return"dotted"===ua.strokeStyle?aa.strokeLineDash=[3,4]:delete aa.strokeLineDash,[t.line(gb,mb,Ga,Ma,aa),t.line(nb,Ba,Ga,Ma,aa)]}
null!==F&&(F=wa(d,w,"start",F),w.push.apply(w,F));null!==S&&(F=wa(d,w,"end",S),w.push.apply(w,F))}break;case "text":w=[]}ti.set(d,w)}},hn=function(d,t,w,F,S){var aa=t.generator;switch(d.type){case "selection":w.translate(d.x+S.scrollX,d.y+S.scrollY);t=w.fillStyle;w.fillStyle="rgba(0, 0, 255, 0.10)";w.fillRect(0,0,d.width,d.height);w.fillStyle=t;w.translate(-d.x-S.scrollX,-d.y-S.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(d,aa),
F){t=S?S.zoom:ig.zoom;aa=(F=Ek.get(d))&&F.canvasZoom!==t.value&&!(null!=S&&S.shouldCacheIgnoreZoom);if(!F||aa){F=document.createElement("canvas");aa=F.getContext("2d");var wa=0,ua=0;if(Dg(d)){wa=ag(d);var Ba=wa[0];ua=wa[1];var Ma=wa[3];F.width=Math.abs(Ba-wa[2])*window.devicePixelRatio*t.value+40*t.value;F.height=Math.abs(ua-Ma)*window.devicePixelRatio*t.value+40*t.value;wa=d.x>Ba?Math.floor(Math.abs(d.x-Ba))*window.devicePixelRatio*t.value:0;ua=d.y>ua?Math.floor(Math.abs(d.y-ua))*window.devicePixelRatio*
t.value:0;aa.translate(wa,ua)}else F.width=d.width*window.devicePixelRatio*t.value+40*t.value,F.height=d.height*window.devicePixelRatio*t.value+40*t.value;aa.translate(20*t.value,20*t.value);aa.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);Ba=Fh.canvas(F);t=(ai(d,Ba,aa),aa.translate(-20*t.value,-20*t.value),aa.scale(1/(window.devicePixelRatio*t.value),1/(window.devicePixelRatio*t.value)),{element:d,canvas:F,canvasZoom:t.value,canvasOffsetX:wa,canvasOffsetY:ua});d=(Ek.set(d,
t),t)}else d=F;t=d.element;wa=ag(t);F=wa[0];aa=wa[1];ua=wa[2];wa=wa[3];Ba=((F+ua)/2+S.scrollX)*window.devicePixelRatio;S=((aa+wa)/2+S.scrollY)*window.devicePixelRatio;w.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);w.translate(Ba,S);w.rotate(t.angle);w.drawImage(d.canvas,-(ua-F)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(wa-aa)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);w.rotate(-t.angle);w.translate(-Ba,
-S);w.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else aa=ag(d),ua=aa[0],F=aa[1],wa=aa[2],Ba=aa[3],aa=(ua+wa)/2+S.scrollX,S=(F+Ba)/2+S.scrollY,ua=(wa-ua)/2-(d.x-ua),F=(Ba-F)/2-(d.y-F),w.translate(aa,S),w.rotate(d.angle),w.translate(-ua,-F),ai(d,t,w),w.translate(ua,F),w.rotate(-d.angle),w.translate(-aa,-S);break;default:throw Error("Unimplemented type ".concat(d.type));}},qh=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}
return d.mapElementToScene=function(t,w){"string"==typeof t?this.sceneMapById.set(t,w):this.sceneMapByElement.set(t,w)},d.getScene=function(t){return"string"==typeof t?this.sceneMapById.get(t)||null:this.sceneMapByElement.get(t)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(t){return this.elementsMap.get(t)||null},d.prototype.getNonDeletedElement=function(t){return(t=
this.getElement(t))&&!t.isDeleted?t:null},d.prototype.getNonDeletedElements=function(t){var w=this,F=[];return t.forEach(function(S){S=w.getNonDeletedElement(S);null!=S&&F.push(S)}),F},d.prototype.replaceAllElements=function(t){var w=this;this.elements=t;this.elementsMap.clear();t.forEach(function(F){w.elementsMap.set(F.id,F);d.mapElementToScene(F,w)});this.nonDeletedElements=Wd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var t=0,w=Array.from(this.callbacks);t<
w.length;t++)(0,w[t])()},d.prototype.addCallback=function(t){var w=this;if(this.callbacks.has(t))throw Error();return this.callbacks.add(t),function(){if(!w.callbacks.has(t))throw Error();w.callbacks.delete(t)}},d.prototype.destroy=function(){var t=this;d.sceneMapById.forEach(function(w,F){w===t&&d.sceneMapById.delete(F)});this.callbacks.clear()},d}();qh.sceneMapByElement=new WeakMap;qh.sceneMapById=new Map;var Im=new Ve(Date.now()),Zj=function(){return Math.floor(Im.next()*Math.pow(2,31))},ui=function(){return((d=
21)=>{let t="",w=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let F=63&w[d];t+=36>F?F.toString(36):62>F?(F-26).toString(36).toUpperCase():63>F?"_":"-"}return t})()},bf=function(d,t){var w,F=!1,S=t.points,aa;for(aa in void 0!==S&&(t=hb(hb({},function(nb){var Xb=nb.map(function(Sb){return Sb[0]});nb=nb.map(function(Sb){return Sb[1]});return{width:Math.max.apply(Math,Xb)-Math.min.apply(Math,Xb),height:Math.max.apply(Math,nb)-Math.min.apply(Math,nb)}}(S)),t)),t){var wa=t[aa];if(void 0!==wa&&(d[aa]!==
wa||"object"==typeof wa&&null!==wa&&"groupIds"!==aa)){if("points"===aa){var ua=d[aa],Ba=wa;if(ua.length===Ba.length){for(var Ma=!1,Ga=ua.length;--Ga;){var gb=ua[Ga],mb=Ba[Ga];if(gb[0]!==mb[0]||gb[1]!==mb[1]){Ma=!0;break}}if(!Ma)continue}}d[aa]=wa;F=!0}}F&&(void 0===t.height&&void 0===t.width&&void 0===S||ti.delete(d),d.version++,d.versionNonce=Zj(),null===(w=qh.getScene(d))||void 0===w||w.informMutation())},tg=function(d,t){return hb(hb(hb({},d),t),{},{version:d.version+1,versionNonce:Zj()})},Lh=
function(d){return Dg(d)?2>d.points.length:0===d.width&&0===d.height},Je=function(d,t,w){var F=Math.abs(t),S=Math.abs(w);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(S/F)/Pa.ay)*Pa.ay,0===d?w=0:d===Math.PI/2?t=0:w=Math.round(F*Math.tan(d))*Math.sign(w)||w):"selection"!==d&&(w=F*Math.sign(w));return{width:t,height:w}},Fl=function(d){var t={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var w=Math.abs(d.width);t.width=w;t.x=d.x-w}0>d.height&&(w=Math.abs(d.height),t.height=w,
t.y=d.y-w);return t},Jf=h(5474),Ph=h.n(Jf),ql=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},bk=function(d,t,w){var F,S;w=w.filter(function(aa){return aa.groupIds.includes(d)});return 2>w.length?t.selectedGroupIds[d]||t.editingGroupId===d?Oa(Oa({},t),{},{selectedGroupIds:Oa(Oa({},t.selectedGroupIds),{},(F={},F[d]=!1,F)),editingGroupId:null}):t:Oa(Oa({},t),{},{selectedGroupIds:Oa(Oa({},t.selectedGroupIds),{},(S={},S[d]=!0,S)),selectedElementIds:Oa(Oa({},t.selectedElementIds),
Object.fromEntries(w.map(function(aa){return[aa.id,!0]})))})},rh=function(d,t){return t.groupIds.filter(function(w){return w!==d.editingGroupId}).find(function(w){return d.selectedGroupIds[w]})},Ii=function(d){return Object.entries(d.selectedGroupIds).filter(function(t){t[0];return t[1]}).map(function(t){var w=t[0];t[1];return w})},Qh=function(d,t){for(var w=Oa({},d),F=0,S=of(t,d);F<S.length;F++){var aa=S[F].groupIds;if(d.editingGroupId){var wa=aa.indexOf(d.editingGroupId);-1<wa&&(aa=aa.slice(0,wa))}0<
aa.length&&(w=bk(aa[aa.length-1],w,t))}return w},ck=function(d,t){return d.filter(function(w){return w.groupIds.includes(t)})},tj=function(d,t){var w,F,S=t.x,aa=t.y,wa=t.strokeColor,ua=t.backgroundColor,Ba=t.fillStyle,Ma=t.strokeWidth,Ga=t.strokeStyle,gb=t.roughness,mb=t.opacity,nb=t.width;nb=void 0===nb?0:nb;var Xb=t.height;Xb=void 0===Xb?0:Xb;var Sb=t.angle;Sb=void 0===Sb?0:Sb;var qc=t.groupIds;qc=void 0===qc?[]:qc;var Xc=t.strokeSharpness,cd=t.boundElementIds;cd=void 0===cd?null:cd;t=Ph()(t,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:t.id||ui(),type:d,x:S,y:aa,width:nb,height:Xb,angle:Sb,strokeColor:wa,backgroundColor:ua,fillStyle:Ba,strokeWidth:Ma,strokeStyle:Ga,roughness:gb,opacity:mb,groupIds:qc,strokeSharpness:Xc,seed:null!==(w=t.seed)&&void 0!==w?w:Zj(),version:t.version||1,versionNonce:null!==(F=t.versionNonce)&&void 0!==F?F:0,isDeleted:!1,boundElementIds:cd}},Hl=function(d){return tj(d.type,d)},Rh=function(d,t){return{x:"center"===d.textAlign?t.width/2:"right"===d.textAlign?t.width:0,y:"middle"===d.verticalAlign?
t.height/2:0}},Fj=function(d){var t=Ti(d.text,Si(d)),w=Rh(d,t);return tg(Ea(Ea({},tj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-w.x,y:d.y-w.y,width:t.width,height:t.height,baseline:t.baseline}),{})},Ke=function(d){return Ea(Ea({},tj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Gj=function(d,t){if(void 0===
t&&(t=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var w="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},F;for(F in d)d.hasOwnProperty(F)&&(0!==t||"shape"!==F&&"canvas"!==F)&&(w[F]=Gj(d[F],t+1));return w}if(Array.isArray(d)){w=d.length;for(F=Array(w);w--;)F[w]=Gj(d[w],t+1);return F}return d},Vi=function(d,t,w,F){w=Gj(w);return w.id=ui(),w.seed=Zj(),w.groupIds=function(S,aa,wa){var ua=ql([],S);aa=aa?S.indexOf(aa):-1;S=
-1<aa?aa:S.length;for(aa=0;aa<S;aa++)ua[aa]=wa(ua[aa]);return ua}(w.groupIds,d,function(S){return t.has(S)||t.set(S,ui()),t.get(S)}),F&&(w=Object.assign(w,F)),w},Ee={mouse:8,pen:16,touch:28},rl={e:!0,s:!0,n:!0,w:!0},Jl={e:!0,s:!0,n:!0,w:!0},Sh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},uj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Yg=function(d,t,w,F,S,aa,wa){d=Bf(d+w/2,t+F/2,S,aa,wa);return[d[0]-w/2,d[1]-F/2,w,F]},Ck=function(d,t,w,F,S){var aa=d[0],wa=d[1],ua=d[2];d=d[3];void 0===S&&(S={});var Ba=Ee[F];F=Ba/w.value;
var Ma=Ba/w.value,Ga=Ba/w.value,gb=Ba/w.value,mb=ua-aa,nb=d-wa,Xb=(aa+ua)/2,Sb=(wa+d)/2,qc=4/w.value;Ba=(Ba-8)/(2*w.value);var Xc={nw:S.nw?void 0:Yg(aa-qc-Ga+Ba,wa-qc-gb+Ba,F,Ma,Xb,Sb,t),ne:S.ne?void 0:Yg(ua+qc-Ba,wa-qc-gb+Ba,F,Ma,Xb,Sb,t),sw:S.sw?void 0:Yg(aa-qc-Ga+Ba,d+qc-Ba,F,Ma,Xb,Sb,t),se:S.se?void 0:Yg(ua+qc-Ba,d+qc-Ba,F,Ma,Xb,Sb,t),rotation:S.rotation?void 0:Yg(aa+mb/2-F/2,wa-qc-gb+Ba-16/w.value,F,Ma,Xb,Sb,t)};w=5*Ee.mouse/w.value;return Math.abs(mb)>w&&(S.n||(Xc.n=Yg(aa+mb/2-F/2,wa-qc-gb+
Ba,F,Ma,Xb,Sb,t)),S.s||(Xc.s=Yg(aa+mb/2-F/2,d+qc-Ba,F,Ma,Xb,Sb,t))),Math.abs(nb)>w&&(S.w||(Xc.w=Yg(aa-qc-Ga+Ba,wa+nb/2-Ma/2,F,Ma,Xb,Sb,t)),S.e||(Xc.e=Yg(ua+qc-Ba,wa+nb/2-Ma/2,F,Ma,Xb,Sb,t))),Xc},rj=function(d,t,w){void 0===w&&(w="mouse");var F={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var S=d.points[1];0===S[0]||0===S[1]?F=uj:0<S[0]&&0>S[1]?F=Sh:0<S[0]&&0<S[1]?F=uj:0>S[0]&&0<S[1]?F=Sh:0>S[0]&&0>S[1]&&(F=uj)}}else"text"===d.type&&(F=Jl);return Ck(ag(d),d.angle,
t,w,F)},xi=function(d,t){return[0,0,0,0,t,d,1,0]},Sg=function(d,t){void 0===d&&(d=0);void 0===t&&(t=0);var w=[0,0,0,0,0,0,0,0];if(0>t||7<t)throw Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return 0!==d&&(w[t]=d),w},Gh=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},pl=function(d,t){return"number"==typeof t?[d[0]-t,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-t[0],d[1]-t[1],d[2]-t[2],d[3]-t[3],d[4]-t[4],d[5]-t[5],d[6]-t[6],d[7]-t[7]]},Gk=function(d,t){return"number"==
typeof t?[d[0]*t,d[1]*t,d[2]*t,d[3]*t,d[4]*t,d[5]*t,d[6]*t,d[7]*t]:[t[0]*d[0]+t[2]*d[2]+t[3]*d[3]-t[6]*d[6],t[1]*d[0]+t[0]*d[1]-t[4]*d[2]+t[5]*d[3]+t[2]*d[4]-t[3]*d[5]-t[7]*d[6]-t[6]*d[7],t[2]*d[0]+t[0]*d[2]-t[6]*d[3]+t[3]*d[6],t[3]*d[0]+t[6]*d[2]+t[0]*d[3]-t[2]*d[6],t[4]*d[0]+t[2]*d[1]-t[1]*d[2]+t[7]*d[3]+t[0]*d[4]+t[6]*d[5]-t[5]*d[6]+t[3]*d[7],t[5]*d[0]-t[3]*d[1]+t[7]*d[2]+t[1]*d[3]-t[6]*d[4]+t[0]*d[5]+t[4]*d[6]+t[2]*d[7],t[6]*d[0]+t[3]*d[2]-t[2]*d[3]+t[0]*d[6],t[7]*d[0]+t[6]*d[1]+t[5]*d[2]+t[4]*
d[3]+t[3]*d[4]+t[2]*d[5]+t[1]*d[6]+t[0]*d[7]]},gk=function(d,t){return[Hj(d,t),d[1]*t[7]+d[4]*t[5]-d[5]*t[4]+d[7]*t[1],d[2]*t[7]-d[4]*t[6]+d[6]*t[4]+d[7]*t[2],d[3]*t[7]+d[5]*t[6]-d[6]*t[5]+d[7]*t[3],d[4]*t[7]+d[7]*t[4],d[5]*t[7]+d[7]*t[5],d[6]*t[7]+d[7]*t[6],d[7]*t[7]]},Hj=function(d,t){return d[0]*t[7]+d[1]*t[6]+d[2]*t[5]+d[3]*t[4]+d[4]*t[3]+d[5]*t[2]+d[6]*t[1]+d[7]*t[0]},Lm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},gj=function(d){var t=Lm(d);return 0===t||
1===t?d:Gk(d,(0>d[6]?-1:1)/t)},Gl=(Sg(1,1),Sg(1,2),Sg(1,3),Sg(1,4),Sg(1,5),Sg(1,6),Sg(1,7),function(d,t,w){return gj([0,w,d,t,0,0,0,0])}),dk=function(d,t){return w=d,[(F=t)[0]*w[0]+F[2]*w[2]+F[3]*w[3]-F[6]*w[6],F[1]*w[0]+F[0]*w[1]-F[4]*w[2]+F[5]*w[3]+F[2]*w[4]-F[3]*w[5]-F[7]*w[6]-F[6]*w[7],F[2]*w[0]+F[0]*w[2]-F[6]*w[3]+F[3]*w[6],F[3]*w[0]+F[6]*w[2]+F[0]*w[3]-F[2]*w[6],F[4]*w[0]+F[7]*w[3]+F[0]*w[4]+F[3]*w[7],F[5]*w[0]+F[7]*w[2]+F[0]*w[5]+F[2]*w[7],F[6]*w[0]+F[0]*w[6],F[7]*w[0]+F[0]*w[7]];var w,F},
ek=function(d){return[0,0,0,0,d[1],d[0],1,0]},ci=function(d){return[d[5],d[4]]},ij=function(d,t){return w=Gk(d,Math.sin(t/2)),F=Math.cos(t/2),"number"==typeof F?[w[0]+F,w[1],w[2],w[3],w[4],w[5],w[6],w[7]]:[w[0]+F[0],w[1]+F[1],w[2]+F[2],w[3]+F[3],w[4]+F[4],w[5]+F[5],w[6]+F[6],w[7]+F[7]];var w,F},Ji=function(d,t){return gj(Gk(Gk(d,t),Gh(d)))},Ik=function(d,t,w,F){var S=10/t.zoom.value;return!fk(d,t,[w,F])&&Kl(d,[w,F],S)},fk=function(d,t,w){t=10/t.zoom.value;if("text"===d.type)var F=$l;else"arrow"===
d.type?F=!1:(F="transparent"!==d.backgroundColor,F="line"===d.type||"draw"===d.type?F&&$h(d.points):F),F=F?ik:Fk;return hj({element:d,point:w,threshold:t,check:F})},Kl=function(d,t,w){var F=t[0],S=t[1],aa=ag(d);t=aa[0];var wa=aa[1],ua=aa[2];aa=aa[3];F=Bf(F,S,(t+ua)/2,(wa+aa)/2,-d.angle);d=F[0];F=F[1];return d>t-w&&d<ua+w&&F>wa-w&&F<aa+w},Jk=function(d,t){var w=t.x;t=t.y;var F=Wi(d,d.width,d.height);return hj({element:d,point:[w,t],threshold:F,check:Fn})},Wi=function(d,t,w){return Math.max(16,Math.min(.25*
("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(t,w),32))},hj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var t=Zl(d.element,d.point);return d.check(t,d.threshold);case "arrow":case "line":case "draw":return bo(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Zl=function(d,t){switch(d.type){case "rectangle":case "text":var w=Ri(d,t),F=w[1],S=w[2];d=Math;t=d.max;w=Gl(0,1,-w[3]);w=Hj(F,w);S=Gl(1,
0,-S);F=Hj(F,S);return t.call(d,w,F);case "diamond":return F=Ri(d,t),d=F[1],t=F[2],F=F[3],t=Gl(F,t,-F*t),Hj(d,t);case "ellipse":return d=kn(d,t),t=d[1],-Math.sign(t[1])*Hj(d[0],t)}},$l=function(d,t){return 0>d},ik=function(d,t){return d<t},Fk=function(d,t){return Math.abs(d)<t},Fn=function(d,t){return 0<=d&&d<t},kn=function(d,t){t=Ri(d,t);d=t[1];var w=t[2],F=t[3];t=ci(d);var S=t[0],aa=t[1],wa=.707,ua=.707;[0,1,2,3].forEach(function(Ba){Ba=(w*w-F*F)*Math.pow(wa,3)/w;var Ma=(F*F-w*w)*Math.pow(ua,3)/
F,Ga=S-Ba,gb=aa-Ma,mb=Math.hypot(F*ua-Ma,w*wa-Ba),nb=Math.hypot(gb,Ga);wa=Math.min(1,Math.max(0,(Ga*mb/nb+Ba)/w));ua=Math.min(1,Math.max(0,(gb*mb/nb+Ma)/F));Ba=Math.hypot(ua,wa);wa/=Ba;ua/=Ba});t=xi(w*wa,F*ua);return[d,dk(gj(gk(t,d)),t)]},bo=function(d){var t=d.element,w=d.threshold;if(!ti.get(t))return!1;var F=Ri(d.element,d.point),S=F[0],aa=F[1],wa=F[2];F=Gl(0,1,-F[3]);wa=Gl(1,0,-wa);if(!ik(Hj(aa,F),w)||!ik(Hj(aa,wa),w))return!1;S=ci(S);var ua=S[0],Ba=S[1];S=ti.get(t);return d.check===ik&&S.some(function(Ma){var Ga=
t.strokeSharpness;var gb=[],mb=!1,nb=0;for(Ma=Ei(Ma);nb<Ma.length;nb++){var Xb=Ma[nb];"move"===Xb.op?(mb=!mb)&&gb.push([Xb.data[0],Xb.data[1]]):"bcurveTo"===Xb.op&&mb&&(gb.push([Xb.data[0],Xb.data[1]]),gb.push([Xb.data[2],Xb.data[3]]),gb.push([Xb.data[4],Xb.data[5]]))}4<=gb.length?"sharp"===Ga?Ga=Bi(gb,ua,Ba):(Ga=I(gb,10,5),Ga=Bi(Ga,ua,Ba)):Ga=!1;return Ga})?!0:S.some(function(Ma){return Sk(Ma,ua,Ba,w)})},Ri=function(d,t){var w,F=ek(t);t=ag(d);var S=Ml(t),aa=ij(S,d.angle);F=Ji(aa,F);S=pl(F,[0,0,0,
0,S[4],S[5],0,0]);S=[0,0,0,0,Math.abs(S[4]),Math.abs(S[5]),1,0];d=(w=d.x,[0,0,0,0,d.y,w,0,0]);return[pl(F,d),S,(t[2]-t[0])/2,(t[3]-t[1])/2]},El=function(d){var t=ag(d);t=Ml(t);d=ij(t,d.angle);t=[0,0,0,0,t[4],t[5],0,0];t=Gh([1,0,0,0,-.5*t[5],.5*t[4],0,0]);return Gk(t,d)},Ml=function(d){return xi((d[0]+d[2])/2,(d[1]+d[3])/2)},xk=function(d,t,w,F){switch(void 0===F&&(F=0),d.type){case "rectangle":case "text":case "diamond":var S=yg(d);var aa=S.flatMap(function(wa,ua){ua=[wa,S[(ua+1)%4]];var Ba=F;wa=
ua[0];ua=ua[1];var Ma=[0,0,0,0,ua[4]-wa[4],ua[5]-wa[5],0,0];var Ga=Math.sqrt(Math.abs(Ma[7]*Ma[7]-Ma[5]*Ma[5]-Ma[4]*Ma[4]+Ma[1]*Ma[1]));Ma=0===Ga||1===Ga?Ma:Gk(Ma,1/Ga);Ba*=.5;Ba=[1,0,0,0,Ba*Ma[4],Ba*Ma[5],0,0];ua=[Ji(Ba,wa),Ji(Ba,ua)];wa=ua[0];ua=ua[1];if(0<=Hj(wa,t)*Hj(ua,t))var gb=[];else{a:{wa=gj(gk(ua,wa));wa=gj((gb=t,[(mb=wa)[0]*gb[0],mb[1]*gb[0]+mb[0]*gb[1],mb[2]*gb[0]+mb[0]*gb[2],mb[3]*gb[0]+mb[0]*gb[3],mb[4]*gb[0]+mb[2]*gb[1]-mb[1]*gb[2]+mb[0]*gb[4],mb[5]*gb[0]-mb[3]*gb[1]+mb[1]*gb[3]+mb[0]*
gb[5],mb[6]*gb[0]+mb[3]*gb[2]-mb[2]*gb[3]+mb[0]*gb[6],mb[7]*gb[0]+mb[6]*gb[1]+mb[5]*gb[2]+mb[4]*gb[3]+mb[3]*gb[4]+mb[2]*gb[5]+mb[1]*gb[6]]));break a;var mb}gb=[wa]}return gb}).concat(S.flatMap(function(wa){var ua=F;if(0===ua)var Ba=0===Hj(t,wa)?[wa]:[];else{Ba=t[2];var Ma=t[3],Ga=t[1],gb=ci(wa);wa=gb[0];var mb=gb[1];gb=Ba*Ba+Ma*Ma;ua=ua*ua*gb-Math.pow(Ba*wa+Ma*mb+Ga,2);if(0===gb||0>=ua)Ba=[];else{ua=Math.sqrt(ua);var nb=wa*Ma*Ma-mb*Ba*Ma-Ba*Ga;Ga=mb*Ba*Ba-wa*Ba*Ma-Ma*Ga;Ba=[xi((nb+Ma*ua)/gb,(Ga-Ba*
ua)/gb),xi((nb-Ma*ua)/gb,(Ga+Ba*ua)/gb)]}}return Ba}));break;case "ellipse":aa=Ci(d,F,t)}if(2>aa.length)return[];d=aa.sort(function(wa,ua){return Lm(gk(wa,w))-Lm(gk(ua,w))});return[d[0],d[d.length-1]]},yg=function(d,t){void 0===t&&(t=1);var w=t*d.width/2;t=t*d.height/2;switch(d.type){case "rectangle":case "text":return[xi(w,t),xi(w,-t),xi(-w,-t),xi(-w,t)];case "diamond":return[xi(0,t),xi(w,0),xi(0,-t),xi(-w,0)]}},Ci=function(d,t,w){var F=d.width/2+t;d=d.height/2+t;t=w[2];var S=w[3],aa=w[1];w=F*F*
t*t+d*d*S*S;var wa=w-aa*aa;if(0===w||0>=wa)return[];wa=Math.sqrt(wa);var ua=-F*F*t*aa;aa*=-d*d*S;return[xi((ua+F*d*S*wa)/w,(aa-F*d*t*wa)/w),xi((ua-F*d*S*wa)/w,(aa+F*d*t*wa)/w)]},eh=function(d,t,w){var F=Math.sign(t),S=0,aa=null;return yg(d,Math.abs(t)).forEach(function(wa){var ua=F*gj(gk(wa,w))[1];ua>S&&(S=ua,aa=wa)}),aa},Sk=function(d,t,w,F){var S=[0,0];return Ei(d).some(function(aa,wa){wa=aa.op;var ua=aa.data;if("move"===wa)S=ua;else if("bcurveTo"===wa){aa=[ua[0],ua[1]];wa=[ua[2],ua[3]];ua=[ua[4],
ua[5]];var Ba=S;return S=ua,function(Ma,Ga,gb,mb,nb,Xb){var Sb=nb[0];nb=nb[1];for(var qc=function(ce,ae){return Math.pow(1-ce,3)*mb[ae]+3*ce*Math.pow(1-ce,2)*gb[ae]+3*Math.pow(ce,2)*(1-ce)*Ga[ae]+Ma[ae]*Math.pow(ce,3)},Xc=0;1>=Xc;){var cd=qc(Xc,0),md=qc(Xc,1);if(Math.sqrt(Math.pow(cd-Sb,2)+Math.pow(md-nb,2))<Xb)return!0;Xc+=.01}return!1}(Ba,aa,wa,ua,[t,w],F)}return!1})},Xg=function(d,t,w){return t>=d[0]&&t<=d[0]+d[2]&&w>=d[1]&&w<=d[1]+d[3]},Ki=function(d,t,w,F,S,aa){return d.reduce(function(wa,ua){return wa?
wa:(wa=function(Ba,Ma,Ga,gb,mb,nb){if(!Ma.selectedElementIds[Ba.id])return!1;Ba=rj(Ba,mb,nb);Ma=Ba.rotation;var Xb=Ph()(Ba,["rotation"]);if(Ma&&Xg(Ma,Ga,gb))return"rotation";Ba=Object.keys(Xb).filter(function(Sb){Sb=Xb[Sb];return!!Sb&&Xg(Sb,Ga,gb)});return 0<Ba.length&&Ba[0]}(ua,t,w,F,S,aa))?{element:ua,transformHandleType:wa}:null},null)},hf=function(d,t,w,F,S){var aa=Ck([d[0],d[1],d[2],d[3]],0,F,S,rl);return Object.keys(aa).find(function(wa){return(wa=aa[wa])&&Xg(wa,t,w)})||!1},sh=["ns","nesw",
"ew","nwse"],we=function(d){var t=d.element,w=t&&-1==Math.sign(t.height)*Math.sign(t.width),F=null;switch(d.transformHandleType){case "n":case "s":F="ns";break;case "w":case "e":F="ew";break;case "nw":case "se":F=w?"nesw":"nwse";break;case "ne":case "sw":F=w?"nwse":"nesw";break;case "rotation":return"grab"}F&&t&&(d=F,t=t.angle,w=sh.indexOf(d),0<=w&&(d=sh[(w+Math.round(t/(Math.PI/4)))%sh.length]),F=d);return F?"".concat(F,"-resize"):""},Yk=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=
t[w];return d},Xf=function(){function d(t,w){this.elementId=t.id;qh.mapElementToScene(this.elementId,w);d.normalizePoints(t);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(t){var w;return(null===(w=qh.getScene(t))||void 0===w?void 0:w.getNonDeletedElement(t))||null},d.handlePointDragging=function(t,w,F,S,aa){if(!t.editingLinearElement)return!1;var wa=t.editingLinearElement,
ua=wa.activePointIndex,Ba=wa.isDragging,Ma=d.getElement(wa.elementId);return Ma?null!=ua&&-1<ua?(!1===Ba&&w({editingLinearElement:ab(ab({},wa),{},{isDragging:!0})}),t=d.createPointAt(Ma,F-wa.pointerOffset.x,S-wa.pointerOffset.y,t.gridSize),d.movePoint(Ma,ua,t),mg(Ma)&&aa(Ma,0===ua?"start":"end"),!0):!1:!1},d.handlePointerUp=function(t,w,F){t=w.activePointIndex;var S=w.isDragging,aa=d.getElement(w.elementId);if(!aa)return w;var wa={};!S||0!==t&&t!==aa.points.length-1||($h(aa.points,F.zoom.value)&&
d.movePoint(aa,t,0===t?aa.points[aa.points.length-1]:aa.points[0]),S=F.isBindingEnabled?Wh(Bg(d.getPointAtIndexGlobalCoordinates(aa,t)),qh.getScene(aa)):null,(F={})[0===t?"startBindingElement":"endBindingElement"]=S,wa=F);return ab(ab(ab({},w),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(t,w,F,S,aa){var wa={didAddPoint:!1,hitElement:null};if(!w.editingLinearElement)return wa;var ua=d.getElement(w.editingLinearElement.elementId);if(!ua)return wa;if(t.altKey)return null==
w.editingLinearElement.lastUncommittedPoint&&bf(ua,{points:Yk(Yk([],ua.points),[d.createPointAt(ua,aa.x,aa.y,w.gridSize)])}),S.resumeRecording(),F({editingLinearElement:ab(ab({},w.editingLinearElement),{},{activePointIndex:ua.points.length-1,lastUncommittedPoint:null,endBindingElement:Wh(aa,qh.getScene(ua))})}),wa.didAddPoint=!0,wa;t=d.getPointIndexUnderCursor(ua,w.zoom,aa.x,aa.y);if(-1<t)wa.hitElement=ua;else{var Ba=w.editingLinearElement;S=Ba.startBindingElement;Ba=Ba.endBindingElement;w.isBindingEnabled&&
mg(ua)&&Kf(ua,S,Ba)}Ba=ag(ua);S=(Ba[0]+Ba[2])/2;Ba=(Ba[1]+Ba[3])/2;ua=-1<t&&Bf(ua.x+ua.points[t][0],ua.y+ua.points[t][1],S,Ba,ua.angle);return F({editingLinearElement:ab(ab({},w.editingLinearElement),{},{activePointIndex:-1<t?t:null,pointerOffset:ua?{x:aa.x-ua[0],y:aa.y-ua[1]}:{x:0,y:0}})}),wa},d.handlePointerMove=function(t,w,F,S,aa){var wa=S.lastUncommittedPoint,ua=d.getElement(S.elementId);if(!ua)return S;var Ba=ua.points,Ma=Ba[Ba.length-1];if(!t.altKey)return Ma===wa&&d.movePoint(ua,Ba.length-
1,"delete"),ab(ab({},S),{},{lastUncommittedPoint:null});t=d.createPointAt(ua,w-S.pointerOffset.x,F-S.pointerOffset.y,aa);return Ma===wa?d.movePoint(ua,ua.points.length-1,t):d.movePoint(ua,"new",t),ab(ab({},S),{},{lastUncommittedPoint:ua.points[ua.points.length-1]})},d.getPointsGlobalCoordinates=function(t){var w=ag(t),F=(w[0]+w[2])/2,S=(w[1]+w[3])/2;return t.points.map(function(aa){var wa;return[(wa=Bf(t.x+aa[0],t.y+aa[1],F,S,t.angle))[0],wa[1]]})},d.getPointAtIndexGlobalCoordinates=function(t,w){var F=
0>w?t.points.length+w:w;w=ag(t);F=t.points[F];return Bf(t.x+F[0],t.y+F[1],(w[0]+w[2])/2,(w[1]+w[3])/2,t.angle)},d.pointFromAbsoluteCoords=function(t,w){var F=ag(t);w=Bf(w[0],w[1],(F[0]+F[2])/2,(F[1]+F[3])/2,-t.angle);return[w[0]-t.x,w[1]-t.y]},d.getPointIndexUnderCursor=function(t,w,F,S){t=this.getPointsGlobalCoordinates(t);for(var aa=t.length;-1<--aa;){var wa=t[aa];if(Math.hypot(wa[0]-F,wa[1]-S)*w.value<this.POINT_HANDLE_SIZE/2+1)return aa}return-1},d.createPointAt=function(t,w,F,S){w=oi(w,F,S);
F=ag(t);w=Bf(w[0],w[1],(F[0]+F[2])/2,(F[1]+F[3])/2,-t.angle);return[w[0]-t.x,w[1]-t.y]},d.normalizePoints=function(t){var w=t.points,F=w[0][0],S=w[0][1];bf(t,{points:w.map(function(aa,wa){return[aa[0]-F,aa[1]-S]}),x:t.x+F,y:t.y+S})},d.movePointByOffset=function(t,w,F){var S=t.points[w];d.movePoint(t,w,[S[0]+F.x,S[1]+F.y])},d.movePoint=function(t,w,F,S){var aa=t.points,wa=0,ua=0;if("delete"===F){if("new"===w)throw Error("invalid args in movePoint");(F=aa.slice()).splice(w,1);0===w&&(wa=F[0][0],ua=
F[0][1],F=F.map(function(gb,mb){return 0===mb?[0,0]:[gb[0]-wa,gb[1]-ua]}))}else if("new"===w)F=Yk(Yk([],aa),[F]);else{var Ba=F[0]-aa[w][0],Ma=F[1]-aa[w][1];F=aa.map(function(gb,mb){return mb===w?0===mb?(wa=Ba,ua=Ma,gb):(wa=0,ua=0,[gb[0]+Ba,gb[1]+Ma]):wa||ua?[gb[0]-wa,gb[1]-ua]:gb})}var Ga=qe(t,F,t.strokeSharpness||"round");aa=qe(t,aa,t.strokeSharpness||"round");aa=Bf(wa,ua,(aa[0]+aa[2])/2-(Ga[0]+Ga[2])/2,(aa[1]+aa[3])/2-(Ga[1]+Ga[3])/2,t.angle);bf(t,ab(ab({},S),{},{points:F,x:t.x+aa[0],y:t.y+aa[1]}))},
d}();Xf.POINT_HANDLE_SIZE=20;var Nm=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},Kf=function(d,t,w){var F=new Set,S=new Set;Eg(d,t,w,"start",F,S);Eg(d,w,t,"end",F,S);t=Array.from(S).filter(function(aa){return!F.has(aa)});qh.getScene(d).getNonDeletedElements(t).forEach(function(aa){var wa;bf(aa,{boundElementIds:null===(wa=aa.boundElementIds)||void 0===wa?void 0:wa.filter(function(ua){return ua!==d.id})})})},Eg=function(d,t,w,F,S,aa){if("keep"!==t)if(null!=t)null!=
w&&("keep"===w?xf(d,t,F):"start"!==F&&w.id===t.id)||(yj(d,t,F),S.add(t.id));else{var wa;t="start"===F?"startBinding":"endBinding";w=d[t];d=null==w?null:(bf(d,((wa={})[t]=null,wa)),w.elementId);null!=d&&aa.add(d)}},og=function(d){d.forEach(function(t){mg(t)?Kf(t,Lg(t,"start"),Lg(t,"end")):vk(t)&&am(t)})},am=function(d){kh(d).forEach(function(t){var w=t[1];return Kf(t[0],"end"===w?"keep":d,"start"===w?"keep":d)})},jk=function(d,t,w,F){null!=t.startBoundElement&&yj(d,t.startBoundElement,"start");t=Wh(F,
w);null==t||xf(d,t,"end")||yj(d,t,"end")},yj=function(d,t,w){var F,S;bf(d,((F={})["start"===w?"startBinding":"endBinding"]=function(aa){for(var wa=1;wa<arguments.length;wa++){var ua=null!=arguments[wa]?arguments[wa]:{};wa%2?Jb(Object(ua),!0).forEach(function(Ba){xe()(aa,Ba,ua[Ba])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(ua)):Jb(Object(ua)).forEach(function(Ba){Object.defineProperty(aa,Ba,Object.getOwnPropertyDescriptor(ua,Ba))})}return aa}({elementId:t.id},
Qe(d,t,w)),F));bf(t,{boundElementIds:Array.from(new Set(Nm(Nm([],null!==(S=t.boundElementIds)&&void 0!==S?S:[]),[d.id])))})},xf=function(d,t,w){w=d["start"===w?"endBinding":"startBinding"];return(null==w?void 0:w.elementId)===t.id&&3>d.points.length},$g=function(d){d.forEach(function(t){mg(t)&&Kf(t,null,null)})},Wh=function(d,t){return ki(t.getElements(),function(w){return vk(w)&&Jk(w,d)})},Qe=function(d,t,w){var F="start"===w?-1:1;w=-1===F?0:d.points.length-1;F=w-F;w=Xf.getPointAtIndexGlobalCoordinates(d,
w);F=Xf.getPointAtIndexGlobalCoordinates(d,F);a:{d=El(t);F=Ji(d,ek(F));d=Ji(d,ek(w));var S=gj(gk(d,F));d=t.height/t.width;F=t.width/2;var aa=t.height/2,wa=S[2],ua=S[3];S=S[1];var Ba=Math.abs(ua),Ma=Math.abs(wa);switch(t.type){case "rectangle":case "text":d=S/(F*(Ma+d*Ba));break a;case "diamond":d=Ba<Ma?S/(Ma*F):S/(Ba*aa);break a;case "ellipse":d=S/(F*Math.sqrt(Math.pow(wa,2)+Math.pow(d,2)*Math.pow(ua,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,Zl(t,w))}},yi=function(d,t){var w,F=null!==(w=
d.boundElementIds)&&void 0!==w?w:[];if(0!==F.length){t=null!=t?t:{};var S=t.newSize,aa=nj(t.simultaneouslyUpdated);qh.getScene(d).getNonDeletedElements(F).forEach(function(wa){var ua,Ba;if((null===(ua=wa.startBinding)||void 0===ua?void 0:ua.elementId)===d.id||(null===(Ba=wa.endBinding)||void 0===Ba?void 0:Ba.elementId)===d.id)ua=qf(d,wa.startBinding,S),Ba=qf(d,wa.endBinding,S),aa.has(wa.id)?bf(wa,{startBinding:ua,endBinding:Ba}):(bn(wa,"start",ua,d),bn(wa,"end",Ba,d))})}},nj=function(d){return new Set((d||
[]).map(function(t){return t.id}))},bn=function(d,t,w,F){var S;if(!(null==w||w.elementId!==F.id&&2<d.points.length)){var aa=qh.getScene(d).getElement(w.elementId);if(null!=aa){var wa="start"===t?-1:1;F=-1===wa?0:d.points.length-1;var ua=Xf.getPointAtIndexGlobalCoordinates(d,F-wa);wa=function(Ba,Ma,Ga){if(0===Ma){var gb=ag(Ba);gb=Ml(gb);return ci(gb)}gb=El(Ba);Ga=Ji(gb,ek(Ga));gb=Gh(gb);switch(Ba.type){case "rectangle":case "text":case "diamond":var mb=eh(Ba,Ma,Ga);break;case "ellipse":var nb=Math.abs(Ma);
mb=Ba.width*nb/2;Ba=Ba.height*nb/2;Ma=Math.sign(Ma);nb=ci(Ga);Ga=nb[0];nb=nb[1];nb=0===nb?1E-4:nb;var Xb=Math.pow(Ga,2)*Math.pow(Ba,2)+Math.pow(nb,2)*Math.pow(mb,2);Ma=(-Ga*Math.pow(Ba,2)+Ma*nb*Math.sqrt(Math.max(0,Xb-Math.pow(mb,2)*Math.pow(Ba,2))))/Xb;Ga=(-Ma*Ga-1)/nb;mb=-Math.pow(mb,2)*Ma/(Math.pow(Ga,2)*Math.pow(Ba,2)+Math.pow(Ma,2)*Math.pow(mb,2));mb=xi(mb,(-Ma*mb-1)/Ga)}return ci(Ji(gb,mb))}(aa,w.focus,ua);0===w.gap?aa=wa:(aa=function(Ba,Ma,Ga,gb){void 0===gb&&(gb=0);var mb=El(Ba);Ma=Ji(mb,
ek(Ma));Ga=Ji(mb,ek(Ga));Ga=gj(gk(Ga,Ma));var nb=Gh(mb);return xk(Ba,Ga,Ma,gb).map(function(Xb){return ci(Ji(nb,Xb))})}(aa,ua,wa,w.gap),aa=0===aa.length?wa:aa[0]);Xf.movePoint(d,F,Xf.pointFromAbsoluteCoords(d,aa),((S={})["start"===t?"startBinding":"endBinding"]=w,S))}}},qf=function(d,t,w){if(null==t||null==w)return t;var F=t.gap,S=t.focus,aa=w.width;w=w.height;var wa=d.width,ua=d.height;return{elementId:t.elementId,gap:Math.max(1,Math.min(Wi(d,aa,w),F*(aa<w?aa/wa:w/ua))),focus:S}},Bl=function(d){return[Lg(d,
"start"),Lg(d,"end")].filter(function(t){return null!=t})},Lg=function(d,t){return Wh(Bg(Xf.getPointAtIndexGlobalCoordinates(d,"start"===t?0:-1)),qh.getScene(d))},kh=function(d){return qh.getScene(d).getElements().map(function(t){if(!mg(t))return null;var w=Yf(t,"start",d),F=Yf(t,"end",d);return w||F?[t,w&&F?"both":w?"start":"end",d]:null}).filter(function(t){return null!=t})},Yf=function(d,t,w){return null==d["start"===t?"startBinding":"endBinding"]&&!xf(d,w,t)&&Jk(w,Bg(Xf.getPointAtIndexGlobalCoordinates(d,
"start"===t?0:-1)))},Uj=function(d,t,w,F){var S=new Set,aa=new Set,wa="duplicatesServeAsOld"===F;t.forEach(function(ua){var Ba=ua.boundElementIds;if(null!=Ba&&0<Ba.length&&(Ba.forEach(function(Ma){wa&&!w.has(Ma)&&S.add(Ma)}),aa.add(w.get(ua.id))),mg(ua))null!=ua.startBinding&&(Ba=ua.startBinding.elementId,wa&&!w.has(Ba)&&aa.add(Ba)),null!=ua.endBinding&&(Ba=ua.endBinding.elementId,wa&&!w.has(Ba)&&aa.add(Ba)),null==ua.startBinding&&null==ua.endBinding||S.add(w.get(ua.id))});d.filter(function(ua){return S.has(ua.id)}).forEach(function(ua){var Ba=
ua.endBinding;bf(ua,{startBinding:Bh(ua.startBinding,w),endBinding:Bh(Ba,w)})});d.filter(function(ua){return aa.has(ua.id)}).forEach(function(ua){var Ba=ua.boundElementIds;null!=Ba&&0<Ba.length&&bf(ua,{boundElementIds:Ba.map(function(Ma){var Ga;return null!==(Ga=w.get(Ma))&&void 0!==Ga?Ga:Ma})})})},Bh=function(d,t){var w;if(null==d)return null;var F=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(w=t.get(F))&&void 0!==w?w:F}},oj=function(d,t){var w=new Set(t.map(function(S){return S.id})),
F=new Set;t.forEach(function(S){var aa;vk(S)&&(null===(aa=S.boundElementIds)||void 0===aa||aa.forEach(function(wa){w.has(wa)||F.add(wa)}))});d.filter(function(S){return F.has(S.id)}).forEach(function(S){var aa=S.endBinding;bf(S,{startBinding:jm(S.startBinding,w),endBinding:jm(aa,w)})})},jm=function(d,t){return null==d||t.has(d.elementId)?null:d},pj=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},Hf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},df=function(d,t,w){return Dg(d)?
{points:Di(0,t,Di(1,w,d.points))}:{}},Mg=function(d,t,w){t=t/d.width*d.fontSize;if(1>t)return null;d=Ti(d.text,Si({fontSize:t,fontFamily:d.fontFamily}));return{size:t,baseline:d.baseline+(w-d.height)}},Cl=function(d,t,w,F){var S=zg(d),aa=S[0],wa=S[1],ua=S[2],Ba=S[3];switch(t){case "se":var Ma=Math.max((w-aa)/(ua-aa),(F-wa)/(Ba-wa));var Ga=function(mb,nb,Xb){var Sb=nb[0];nb=nb[1];return{x:mb.x+(Sb-aa)*(Ma-1)+Sb-Xb[0],y:mb.y+(nb-wa)*(Ma-1)+nb-Xb[1]}};break;case "nw":Ma=Math.max((ua-w)/(ua-aa),(Ba-F)/
(Ba-wa));Ga=function(mb,nb,Xb){var Sb=nb[2];nb=nb[3];return{x:mb.x-(ua-Sb)*(Ma-1)+Sb-Xb[2],y:mb.y-(Ba-nb)*(Ma-1)+nb-Xb[3]}};break;case "ne":Ma=Math.max((w-aa)/(ua-aa),(Ba-F)/(Ba-wa));Ga=function(mb,nb,Xb){var Sb=nb[0];nb=nb[3];return{x:mb.x+(Sb-aa)*(Ma-1)+Sb-Xb[0],y:mb.y-(Ba-nb)*(Ma-1)+nb-Xb[3]}};break;case "sw":Ma=Math.max((ua-w)/(ua-aa),(F-wa)/(Ba-wa)),Ga=function(mb,nb,Xb){var Sb=nb[1];nb=nb[2];return{x:mb.x-(ua-nb)*(Ma-1)+nb-Xb[2],y:mb.y+(Sb-wa)*(Ma-1)+Sb-Xb[1]}}}if(0<Ma){var gb=d.reduce(function(mb,
nb){if(!mb)return mb;var Xb=nb.width*Ma,Sb=nb.height*Ma,qc={};if("text"===nb.type){qc=Mg(nb,Xb,Sb);if(null===qc)return null;qc={fontSize:qc.size,baseline:qc.baseline}}var Xc=ag(nb),cd=df(nb,Xb,Sb);yi(nb,{newSize:{width:Xb,height:Sb},simultaneouslyUpdated:d});var md=Og(oc(oc({},nb),cd),Xb,Sb);Xc=Ga(nb,Xc,md);nb=Xc.x;Xc=Xc.y;return pj(pj([],mb),[oc(oc({width:Xb,height:Sb,x:nb,y:Xc},cd),qc)])},[]);gb&&d.forEach(function(mb,nb){bf(mb,gb[nb])})}},kl=function(d,t,w,F,S,aa,wa){var ua=5*Math.PI/2+Math.atan2(F-
wa,w-aa);S&&(ua+=Pa.ay/2,ua-=ua%Pa.ay);t.forEach(function(Ba,Ma){var Ga,gb,mb=ag(Ba);Ma=(mb[0]+mb[2])/2;mb=(mb[1]+mb[3])/2;var nb=null!==(Ga=null===(gb=d.originalElements.get(Ba.id))||void 0===gb?void 0:gb.angle)&&void 0!==Ga?Ga:Ba.angle;Ga=Bf(Ma,mb,aa,wa,ua+nb-Ba.angle);bf(Ba,{x:Ba.x+(Ga[0]-Ma),y:Ba.y+(Ga[1]-mb),angle:Hf(ua+nb)})})},ii=function(d,t,w,F,S,aa,wa,ua,Ba,Ma){var Ga;Ba&&(wa=(Ga=Je(t,wa,aa<F?-ua:ua)).width,0>(ua=Ga.height)&&(ua=-ua));t=S<w?w-wa:w;aa=aa<F?F-ua:F;Ma&&(t=w-(wa+=wa)/2,aa=F-
(ua+=ua)/2);0!==wa&&0!==ua&&bf(d,{x:t,y:aa,width:wa,height:ua})},Pk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},pk=function(d){var t=Ti(d.text,Si(d));bf(d,{width:t.width,height:t.height,baseline:t.baseline})},hh=function(d,t){return!(d.viewModeEnabled||!d.editingElement&&!of(t,d).length&&"selection"===d.elementType)},Kk=function(d){return d.filter(function(t){return t.isDeleted||!Lh(t)})},Xi=function(d){return d.reduce(function(t,w){return t[w.id]=w,t},{})},Xk=function(d){return d.reduce(function(t,
w){return t+w.version},0)},Wd=function(d){return d.filter(function(t){return!t.isDeleted})},wf=function(d){return Wd(d).map(function(t){return cj(t.type)?xc(xc({},t),{},{lastCommittedPoint:null}):t})},hi=function(d,t,w){var F=[d.horizontal,d.vertical].map(function(S){return null!=S&&S.x<=t&&t<=S.x+S.width&&S.y<=w&&w<=S.y+S.height});d=F[0];F=F[1];return{isOverEither:d||F,isOverHorizontal:d,isOverVertical:F}},lg=function(d,t){return d.some(function(w){return t.selectedElementIds[w.id]})},of=function(d,
t){return d.filter(function(w){return t.selectedElementIds[w.id]})},kk=function(d,t){return t.editingElement?[t.editingElement]:of(d,t)},Ui=function(d){var t=d.scenePoint,w=d.viewportDimensions;d=d.zoom;return{scrollX:w.width/2*(1/d.value)-t.x-1/d.value*d.translation.x,scrollY:w.height/2*(1/d.value)-t.y-1/d.value*d.translation.y}},ji=function(d,t,w){var F;if(!d.length)return{scrollX:0,scrollY:0};var S=zg(d);w=S[0];var aa=S[1],wa=S[2];S=S[3];return function(ua,Ba,Ma){Ba=Ma[2];var Ga=Ma[3],gb=ch({sceneX:Ma[0],
sceneY:Ma[1]},ua);Ma=gb.x;gb=gb.y;Ba=ch({sceneX:Ba,sceneY:Ga},ua);Ga=Ba.y;return Ba.x-Ma>ua.width||Ga-gb>ua.height}(t,0,[w,aa,wa,S])&&(w=(F=function(ua,Ba){if(!ua.length)return[0,0,0,0];var Ma=1/0,Ga=ua[0];return ua.forEach(function(gb){var mb=pi(gb);mb=Math.hypot(Ba.x-(mb[0]+mb[2])/2,Ba.y-(mb[1]+mb[3])/2);mb<Ma&&(Ma=mb,Ga=gb)}),pi(Ga)}(d,ng({clientX:t.scrollX,clientY:t.scrollY},t)))[0],aa=F[1],wa=F[2],S=F[3]),Ui({scenePoint:{x:(w+wa)/2,y:(aa+S)/2},viewportDimensions:{width:t.width,height:t.height},
zoom:t.zoom})},Ij=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Mf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},qk=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},ki=function(d,t){for(var w=null,F=d.length-1;0<=F;--F){var S=d[F];if(!S.isDeleted&&t(S)){w=S;break}}return w},Xh=function(d,t,w,F){return void 0===F&&(F={x:0,y:0}),{value:d,translation:{x:F.x-w.left-d/t.value*(F.x-
w.left-t.translation.x),y:F.y-w.top-d/t.value*(F.y-w.top-t.translation.y)}}},Pj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},$e=(h(9478),U().forwardRef(function(d,t){var w=U().useRef(null);U().useImperativeHandle(t,function(){return w.current});t="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?U().createElement("button",{className:Lc("ToolIcon_type_button",t,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,
"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:w},U().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&U().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&U().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):U().createElement("label",{className:Lc("ToolIcon",d.className),title:d.title},U().createElement("input",
{className:"ToolIcon_type_radio ".concat(t),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:w}),U().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&U().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));$e.defaultProps={visible:!0,className:""};var vg=function(d){return"light"===d?te.$y[4]:te.$y[9]},ne=function(d){return"light"===
d?te.Sn:te.MA[4]},Fg=function(d){return"light"===d?te.ix:"#1e1e1e"},me=function(d,t){void 0===t&&(t=512);t="number"==typeof t?{width:t}:t;var w=t.width;w=void 0===w?512:w;var F=t.height;F=void 0===F?w:F;var S=t.mirror;t=t.style;return U().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(w," ").concat(F),className:Lc({"rtl-mirror":S}),style:t},"string"==typeof d?U().createElement("path",{fill:"currentColor",d}):d)},ll=me("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),se=me("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),ym=me("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),km=me("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),sk=me("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ni=me("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Ch=me("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
lh=me("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),li=me("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),zj=me("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),rk=me("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Qk=me("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
ah=me("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Aj=me("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Zc=me("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Td=(me("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),me("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),me(U().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),pd=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,
null,U().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ne(d),stroke:ne(d),strokeWidth:"2"}),U().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Cd=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,
null,U().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"}),U().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ne(d),stroke:ne(d),strokeWidth:"2"})),{width:24,mirror:!0})}),mi=U().memo(function(d){d=d.appearance;
return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ne(d),stroke:ne(d),strokeWidth:"2"}),U().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Df=U().memo(function(d){d=d.appearance;
return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeLinejoin:"round",strokeWidth:"2"}),U().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ne(d),stroke:ne(d),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Dh=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M 2,5 H 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:vg(d),
stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),wg=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M 2,19 H 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Jj=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M 5,2 V 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),on=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M 19,2 V 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Rc=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M5 5V19Z",fill:"black"}),U().createElement("path",{d:"M19 5V19M5 5V19",stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),yd=U().memo(function(d){d=
d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeLinecap:"round"}),U().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Eh=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),U().createElement("path",{d:"M 2,12 H 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),$c=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),U().createElement("path",{d:"M 12,2 V 22",fill:ne(d),stroke:ne(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Rj=me("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),Qj=(me("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),me("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),me("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),aj=me("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Qf=me("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Cg=me("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Fd=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M25 26H111V111H25",
fill:ne(d)}),U().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ne(d),strokeWidth:"2"}),U().createElement("path",{d:"M100 100H160V160H100",fill:ne(d)}),U().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ne(d),strokeWidth:"2"}),U().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
di=U().memo(function(d){d=d.appearance;return me(U().createElement(U().Fragment,null,U().createElement("path",{d:"M25 26H111V111H25",fill:ne(d)}),U().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:ne(d),strokeWidth:"2"}),U().createElement("path",{d:"M100 100H160V160H100",fill:ne(d)}),U().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ne(d),strokeWidth:"2"}),
U().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Fg(d),stroke:ne(d),strokeWidth:"6"}),U().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Fg(d),stroke:ne(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),zm=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ne(d)}),{width:40,height:20})}),Li=U().memo(function(d){d=d.appearance;return me(U().createElement("g",{fill:ne(d),fillRule:"evenodd",clipRule:"evenodd"},U().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),U().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),de=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ne(d)}),{width:40,height:20})}),tl=U().memo(function(d){var t=d.appearance;d=d.strokeWidth;return me(U().createElement("path",{d:"M6 10H34",stroke:ne(t),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Pg=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M6 10H34",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),le=U().memo(function(d){d=
d.appearance;return me(U().createElement("path",{d:"M6 10H34",stroke:ne(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Kj=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M6 10H34",stroke:ne(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Af=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),tm=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),lm=U().memo(function(d){d=
d.appearance;return me(U().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Lk=U().memo(function(d){d=d.appearance;return me(U().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Tj=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Nl=U().memo(function(d){d=d.appearance;return me(U().createElement("path",{d:"M6 10H34",stroke:ne(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Dl=U().memo(function(d){var t=d.appearance;d=d.flip;d=void 0!==d&&
d;return me(U().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:ne(t),strokeWidth:2,fill:"none"},U().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),U().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),yh=U().memo(function(d){var t=d.appearance;d=d.flip;d=void 0!==d&&d;return me(U().createElement("g",{stroke:ne(t),fill:ne(t),transform:d?"translate(40, 0) scale(-1, 1)":""},U().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),U().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Vl=U().memo(function(d){var t=d.appearance;d=d.flip;d=void 0!==d&&d;return me(U().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},U().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ne(t),strokeWidth:2,fill:"none"})),{width:40,height:20})}),Yi=[],Dd=function(d){return Yi=Yi.concat(d),d},zh=function(d,t){var w;return d.editingGroupId&&(t=ck(Wd(t),d.editingGroupId),t.length)?hd(hd({},d),{},
{selectedElementIds:(w={},w[t[0].id]=!0,w)}):d},bm=Dd({name:"deleteSelectedElements",perform:function(d,t){if(t.editingLinearElement){var w=t.editingLinearElement,F=w.activePointIndex,S=w.startBindingElement,aa=w.endBindingElement,wa=Xf.getElement(w.elementId);if(!wa)return!1;if(null==F||-1===F||2>wa.points.length)return d=d.filter(function(ua){return ua.id!==wa.id}),{elements:d,appState:hd(hd({},zh(t,d)),{},{editingLinearElement:null}),commitToHistory:!1};w={startBindingElement:0===F?null:S,endBindingElement:F===
wa.points.length-1?null:aa};return Xf.movePoint(wa,F,"delete"),{elements:d,appState:hd(hd({},t),{},{editingLinearElement:hd(hd(hd({},t.editingLinearElement),w),{},{activePointIndex:0<F?F-1:0})}),commitToHistory:!0}}w=function(ua,Ba){return{elements:ua.map(function(Ma){return Ba.selectedElementIds[Ma.id]?tg(Ma,{isDeleted:!0}):Ma}),appState:hd(hd({},Ba),{},{selectedElementIds:{}})}}(d,t);F=w.elements;w=w.appState;return oj(F,d.filter(function(ua){return t.selectedElementIds[ua.id]})),{elements:F,appState:hd(hd({},
w=zh(w,F)),{},{elementType:"selection",multiElement:null}),commitToHistory:lg(Wd(d),t)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{type:"button",icon:Ni,title:Mb("labels.delete"),"aria-label":Mb("labels.delete"),onClick:function(){return F(null)},visible:lg(Wd(t),w)})}}),rf=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];
return d},ul=function(d,t){for(var w=[],F=[],S=null,aa=-1;++aa<d.length;)t.selectedElementIds[d[aa].id]?(F.length&&(w=w.concat(F),F=[]),w.push(aa),S=aa+1):d[aa].isDeleted&&S===aa?(S=aa+1,F.push(aa)):F=[];return w},Oi=function(d,t,w,F){var S=t[w],aa=function(wa){return!wa.isDeleted&&(!d.editingGroupId||wa.groupIds.includes(d.editingGroupId))};w="left"===F?function(wa,ua,Ba){void 0===Ba&&(Ba=wa.length-1);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length-1,Math.max(Ba,0))+1;-1<--Ba;)if(ua(wa[Ba],Ba,
wa))return Ba;return-1}(t,aa,Math.max(0,w-1)):function(wa,ua,Ba){void 0===Ba&&(Ba=0);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length,Math.max(Ba,0))-1;++Ba<wa.length;)if(ua(wa[Ba],Ba,wa))return Ba;return-1}(t,aa,w+1);aa=t[w];if(!aa)return-1;if(d.editingGroupId){if((null==S?void 0:S.groupIds.join(""))===(null==aa?void 0:aa.groupIds.join("")))return w;if(null==aa||!aa.groupIds.includes(d.editingGroupId))return-1}if(!aa.groupIds.length)return w;S=d.editingGroupId?aa.groupIds[aa.groupIds.indexOf(d.editingGroupId)-
1]:aa.groupIds[aa.groupIds.length-1];S=ck(t,S);return S.length?"left"===F?t.indexOf(S[0]):t.indexOf(S[S.length-1]):w},Zf=function(d,t,w){var F,S=ul(t,d),aa=(F=0,S.reduce(function(wa,ua,Ba){return 0<Ba&&S[Ba-1]!==ua-1&&(F=++F),(wa[F]||(wa[F]=[])).push(ua),wa},[]));return"right"===w&&(aa=aa.reverse()),aa.forEach(function(wa,ua){ua=wa[0];wa=wa[wa.length-1];var Ba="left"===w?ua:wa,Ma=Oi(d,t,Ba,w);if(-1!==Ma&&Ba!==Ma){Ba="left"===w?t.slice(0,Ma):t.slice(0,ua);var Ga=t.slice(ua,wa+1);ua="left"===w?t.slice(Ma,
ua):t.slice(wa+1,Ma+1);wa="left"===w?t.slice(wa+1):t.slice(Ma+1);t=rf("left"===w?rf(rf(rf([],Ba),Ga),ua):rf(rf(rf([],Ba),ua),Ga),wa)}}),t},ue=function(d,t,w){var F=ul(d,t),S=[],aa=[];if("left"===w){if(t.editingGroupId){if(!(t=ck(d,t.editingGroupId)).length)return d;var wa=d.indexOf(t[0])}else wa=0;t=F[F.length-1]}else{if(t.editingGroupId){if(!(t=ck(d,t.editingGroupId)).length)return d;t=d.indexOf(t[t.length-1])}else t=d.length-1;wa=F[0]}for(var ua=wa;ua<t+1;ua++)F.includes(ua)?S.push(d[ua]):aa.push(d[ua]);
F=d.slice(0,wa);d=d.slice(t+1);return rf("left"===w?rf(rf(rf([],F),S),aa):rf(rf(rf([],F),aa),S),d)},pn=Dd({name:"sendBackward",perform:function(d,t){return{elements:Zf(t,d.slice(),"left"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[Ue]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var t=d.updateData;d=d.appState;return U().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},
title:"".concat(Mb("labels.sendBackward")," — ").concat(Pd("CtrlOrCmd+["))},U().createElement(Cd,{appearance:d.appearance}))}}),Rk=Dd({name:"bringForward",perform:function(d,t){return{elements:Zf(t,d.slice(),"right"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[Ue]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var t=d.updateData;d=d.appState;return U().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return t(null)},title:"".concat(Mb("labels.bringForward")," — ").concat(Pd("CtrlOrCmd+]"))},U().createElement(pd,{appearance:d.appearance}))}}),n=Dd({name:"sendToBack",perform:function(d,t){return{elements:ue(d,t,"left"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Jg?d[Ue]&&d.altKey&&"BracketLeft"===d.code:d[Ue]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var t=d.updateData;d=d.appState;return U().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Mb("labels.sendToBack")," — ").concat(Pd(Jg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},U().createElement(Df,{appearance:d.appearance}))}}),C=Dd({name:"bringToFront",perform:function(d,t){return{elements:ue(d,t,"right"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Jg?d[Ue]&&d.altKey&&"BracketRight"===d.code:d[Ue]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var t=
d.updateData;d=d.appState;return U().createElement("button",{type:"button",className:"zIndexButton",onClick:function(w){return t(null)},title:"".concat(Mb("labels.bringToFront")," — ").concat(Pd(Jg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},U().createElement(mi,{appearance:d.appearance}))}}),X=Dd({name:"selectAll",perform:function(d,t){return!t.editingLinearElement&&{appState:Qh(dd(dd({},t),{},{editingGroupId:null,selectedElementIds:d.reduce(function(w,F){return F.isDeleted||(w[F.id]=!0),w},{})}),Wd(d)),
commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(d){return d[Ue]&&"a"===d.key}}),W=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},oa=Dd({name:"duplicateSelection",perform:function(d,t){if(t.editingLinearElement){var w=t.editingLinearElement,F=w.activePointIndex;w=Xf.getElement(w.elementId);if(!w||null===F)return!1;var S=w.points,aa=S[F],wa=S[F+1];return bf(w,{points:W(W(W([],S.slice(0,F+1)),[wa?[(aa[0]+wa[0])/2,(aa[1]+wa[1])/2]:[aa[0]+30,aa[1]+
30]]),S.slice(F+1))}),{appState:pe(pe({},t),{},{editingLinearElement:pe(pe({},t.editingLinearElement),{},{activePointIndex:F+1})}),elements:d,commitToHistory:!0}}return pe(pe({},Ca(d,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[Ue]&&"d"===d.key},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{type:"button",icon:Qf,title:"".concat(Mb("labels.duplicateSelection")," — ").concat(Pd("CtrlOrCmd+D")),
"aria-label":Mb("labels.duplicateSelection"),onClick:function(){return F(null)},visible:lg(Wd(t),w)})}}),Ca=function(d,t){for(var w=new Map,F=[],S=[],aa=new Map,wa=function(gb){var mb=Vi(t.editingGroupId,w,gb,{x:gb.x+Pa.k/2,y:gb.y+Pa.k/2});return aa.set(gb.id,mb.id),S.push(gb),F.push(mb),mb},ua=[],Ba=0;Ba<d.length;){var Ma=d[Ba];if(t.selectedElementIds[Ma.id]){if(Ma.groupIds.length){var Ga=rh(t,Ma);if(Ga){Ma=ck(d,Ga);ua.push.apply(ua,W(W([],Ma),Ma.map(function(gb){return wa(gb)})));Ba+=Ma.length;
continue}}ua.push(Ma,wa(Ma))}else ua.push(Ma);Ba++}return Uj(ua,S,aa),{elements:ua,appState:Qh(pe(pe({},t),{},{selectedGroupIds:{},selectedElementIds:F.reduce(function(gb,mb){return gb[mb.id]=!0,gb},{})}),Wd(ua))}},Ka=function(d){var t=d.options,w=d.value,F=d.onChange,S=d.group;return U().createElement("div",{className:"buttonList buttonListIcon"},t.map(function(aa){return U().createElement("label",{key:aa.text,className:Lc({active:w===aa.value}),title:aa.text},U().createElement("input",{type:"radio",
name:S,onChange:function(){return F(aa.value)},checked:w===aa.value}),aa.icon)}))},Sa=function(d){var t=d.options,w=d.value,F=d.onChange,S=d.group;return U().createElement("div",{className:"buttonList"},t.map(function(aa){return U().createElement("label",{key:aa.text,className:Lc({active:w===aa.value})},U().createElement("input",{type:"radio",name:S,onChange:function(){return F(aa.value)},checked:w===aa.value}),aa.text)}))},fb=(h(2816),function(d){var t=d.children,w=d.left,F=d.top,S=d.onCloseRequest;
d=d.fitInViewport;var aa=void 0!==d&&d,wa=(0,ea.useRef)(null);return(0,ea.useLayoutEffect)(function(){if(aa&&wa.current){var ua=wa.current,Ba=ua.getBoundingClientRect(),Ma=Ba.y,Ga=Ba.width,gb=Ba.height,mb=window.innerWidth;Ba.x+Ga>mb&&(ua.style.left="".concat(mb-Ga,"px"));Ba=window.innerHeight;Ma+gb>Ba&&(ua.style.top="".concat(Ba-gb,"px"))}},[aa]),(0,ea.useEffect)(function(){if(S){var ua=function(Ba){var Ma;null!==(Ma=wa.current)&&void 0!==Ma&&Ma.contains(Ba.target)||(0,Tf.unstable_batchedUpdates)(function(){return S(Ba)})};
return document.addEventListener("pointerdown",ua,!1),function(){return document.removeEventListener("pointerdown",ua,!1)}}},[S]),U().createElement("div",{className:"popover",style:{top:F,left:w},ref:wa},t)}),yb=(h(5574),function(d){var t=(new Option).style;return t.color=d,!!t.color}),Gb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Zb=function(d){var t=d.colors,w=d.color,F=d.onChange,S=d.onClose,aa=d.label,wa=d.showInput,ua=void 0===wa||wa;d=d.type;var Ba=U().useRef(),
Ma=U().useRef(),Ga=U().useRef(),gb=U().useRef();U().useEffect(function(){Ma.current?Ma.current.focus():gb.current?gb.current.focus():Ga.current&&Ga.current.focus()},[]);return U().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Mb("labels.colorPicker"),onKeyDown:function(mb){if("Tab"===mb.key){var nb,Xb=document.activeElement;if(mb.shiftKey)Xb===Ba.current&&(null===(nb=gb.current)||void 0===nb||nb.focus(),mb.preventDefault());
else if(Xb===gb.current){var Sb;null===(Sb=Ba.current)||void 0===Sb||Sb.focus();mb.preventDefault()}}else sg(mb.key)?(Xb=document.activeElement,nb=zf.rtl,-1!==(Sb=Array.prototype.indexOf.call(Ga.current.children,Xb))&&(Xb=Ga.current.children.length-(ua?1:0),Ga.current.children[mb.key===(nb?"ArrowLeft":"ArrowRight")?(Sb+1)%Xb:mb.key===(nb?"ArrowRight":"ArrowLeft")?(Xb+Sb-1)%Xb:"ArrowDown"===mb.key?(Sb+5)%Xb:"ArrowUp"===mb.key?(Xb+Sb-5)%Xb:Sb].focus()),mb.preventDefault()):Gb.includes(mb.key.toLowerCase())&&
!Ag(mb.target)?(Sb=Gb.indexOf(mb.key.toLowerCase()),Ga.current.children[Sb].focus(),mb.preventDefault()):"Escape"!==mb.key&&"Enter"!==mb.key||(mb.preventDefault(),S());mb.nativeEvent.stopImmediatePropagation()}},U().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),U().createElement("div",{className:"color-picker-triangle"}),U().createElement("div",{className:"color-picker-content",ref:function(mb){mb&&(Ga.current=mb)},tabIndex:0},t.map(function(mb,nb){return U().createElement("button",
{className:"color-picker-swatch",onClick:function(Xb){Xb.currentTarget.focus();F(mb)},title:"".concat(mb," — ").concat(Gb[nb].toUpperCase()),"aria-label":mb,"aria-keyshortcuts":Gb[nb],style:{color:mb},key:mb,ref:function(Xb){Xb&&0===nb&&(Ba.current=Xb);Xb&&mb===w&&(Ma.current=Xb)},onFocus:function(){F(mb)}},"transparent"===mb?U().createElement("div",{className:"color-picker-transparent"}):void 0,U().createElement("span",{className:"color-picker-keybinding"},Gb[nb]))}),ua&&U().createElement(lc,{color:w,
label:aa,onChange:function(mb){F(mb)},ref:gb})))},lc=U().forwardRef(function(d,t){var w=d.color,F=d.onChange;d=d.label;var S=U().useState(w),aa=S[0],wa=S[1],ua=U().useRef(null);U().useEffect(function(){wa(w)},[w]);U().useImperativeHandle(t,function(){return ua.current});var Ba=U().useCallback(function(Ma){Ma=Ma.toLowerCase();var Ga;(Ga="transparent"===Ma||yb(Ma)?Ma:yb("#".concat(Ma))?"#".concat(Ma):null)&&F(Ga);wa(Ma)},[F]);return U().createElement("label",{className:"color-input-container"},U().createElement("div",
{className:"color-picker-hash"},"#"),U().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(Ma){return Ba(Ma.target.value)},value:(aa||"").replace(/^#/,""),onBlur:function(){return wa(w)},ref:ua}))}),mc=function(d){var t=d.type,w=d.color,F=d.onChange;d=d.label;var S=U().useState(!1),aa=S[0],wa=S[1],ua=U().useRef(null);return U().createElement("div",null,U().createElement("div",{className:"color-picker-control-container"},U().createElement("button",
{className:"color-picker-label-swatch","aria-label":d,style:w?{"--swatch-color":w}:void 0,onClick:function(){return wa(!aa)},ref:ua}),U().createElement(lc,{color:w,label:d,onChange:function(Ba){F(Ba)}})),U().createElement(U().Suspense,{fallback:""},aa?U().createElement(fb,{onCloseRequest:function(Ba){return Ba.target!==ua.current&&wa(!1)}},U().createElement(Zb,{colors:Bk[t],color:w||null,onChange:function(Ba){F(Ba)},onClose:function(){var Ba;wa(!1);null===(Ba=ua.current)||void 0===Ba||Ba.focus()},
label:d,showInput:!1,type:t})):null))},Dc=h(6950),Jd=h.n(Dc);h(7143);var ie=function(d,t,w){return d.map(function(F){var S;return t.selectedElementIds[F.id]||F.id===(null===(S=t.editingElement)||void 0===S?void 0:S.id)?w(F):F})},jg=function(d,t,w,F){var S,aa,wa=t.editingElement;d=Wd(d);return null!==(S=null!==(aa=wa&&w(wa))&&void 0!==aa?aa:lg(d,t)?function(ua,Ba,Ma){ua=Array.from(new Set(of(ua,Ba).map(function(Ga){return Ma(Ga)})));return 1===ua.length?ua[0]:null}(d,t,w):F)&&void 0!==S?S:null},re=
(Dd({name:"changeStrokeColor",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{strokeColor:w})}),appState:oe(oe({},t),{},{currentItemStrokeColor:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState;d=d.updateData;return U().createElement(U().Fragment,null,U().createElement("h3",{"aria-hidden":"true"},Mb("labels.stroke")),U().createElement(mc,{type:"elementStroke",label:Mb("labels.stroke"),color:jg(t,w,function(F){return F.strokeColor},w.currentItemStrokeColor),
onChange:d}))}}),Dd({name:"changeBackgroundColor",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{backgroundColor:w})}),appState:oe(oe({},t),{},{currentItemBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState;d=d.updateData;return U().createElement(U().Fragment,null,U().createElement("h3",{"aria-hidden":"true"},Mb("labels.background")),U().createElement(mc,{type:"elementBackground",label:Mb("labels.background"),color:jg(t,w,function(F){return F.backgroundColor},
w.currentItemBackgroundColor),onChange:d}))}}),Dd({name:"changeFillStyle",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{fillStyle:w})}),appState:oe(oe({},t),{},{currentItemFillStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.fill")),U().createElement(Ka,{options:[{value:"hachure",text:Mb("labels.hachure"),icon:U().createElement(zm,{appearance:w.appearance})},
{value:"cross-hatch",text:Mb("labels.crossHatch"),icon:U().createElement(Li,{appearance:w.appearance})},{value:"solid",text:Mb("labels.solid"),icon:U().createElement(de,{appearance:w.appearance})}],group:"fill",value:jg(t,w,function(S){return S.fillStyle},w.currentItemFillStyle),onChange:function(S){F(S)}}))}}),Dd({name:"changeStrokeWidth",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{strokeWidth:w})}),appState:oe(oe({},t),{},{currentItemStrokeWidth:w}),commitToHistory:!0}},
PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.strokeWidth")),U().createElement(Ka,{group:"stroke-width",options:[{value:1,text:Mb("labels.thin"),icon:U().createElement(tl,{appearance:w.appearance,strokeWidth:2})},{value:2,text:Mb("labels.bold"),icon:U().createElement(tl,{appearance:w.appearance,strokeWidth:6})},{value:4,text:Mb("labels.extraBold"),icon:U().createElement(tl,{appearance:w.appearance,
strokeWidth:10})}],value:jg(t,w,function(S){return S.strokeWidth},w.currentItemStrokeWidth),onChange:function(S){return F(S)}}))}}),Dd({name:"changeSloppiness",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{seed:Zj(),roughness:w})}),appState:oe(oe({},t),{},{currentItemRoughness:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.sloppiness")),U().createElement(Ka,
{group:"sloppiness",options:[{value:0,text:Mb("labels.architect"),icon:U().createElement(Af,{appearance:w.appearance})},{value:1,text:Mb("labels.artist"),icon:U().createElement(tm,{appearance:w.appearance})},{value:2,text:Mb("labels.cartoonist"),icon:U().createElement(lm,{appearance:w.appearance})}],value:jg(t,w,function(S){return S.roughness},w.currentItemRoughness),onChange:function(S){return F(S)}}))}}),Dd({name:"changeStrokeStyle",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,
{strokeStyle:w})}),appState:oe(oe({},t),{},{currentItemStrokeStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.strokeStyle")),U().createElement(Ka,{group:"strokeStyle",options:[{value:"solid",text:Mb("labels.strokeStyle_solid"),icon:U().createElement(Pg,{appearance:w.appearance})},{value:"dashed",text:Mb("labels.strokeStyle_dashed"),icon:U().createElement(le,{appearance:w.appearance})},
{value:"dotted",text:Mb("labels.strokeStyle_dotted"),icon:U().createElement(Kj,{appearance:w.appearance})}],value:jg(t,w,function(S){return S.strokeStyle},w.currentItemStrokeStyle),onChange:function(S){return F(S)}}))}}),Dd({name:"changeOpacity",perform:function(d,t,w){return{elements:ie(d,t,function(F){return tg(F,{opacity:w})}),appState:oe(oe({},t),{},{currentItemOpacity:w}),commitToHistory:!0}},PanelComponent:function(d){var t,w=d.elements,F=d.appState,S=d.updateData;return U().createElement("label",
{className:"control-label"},Mb("labels.opacity"),U().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(aa){return S(+aa.target.value)},onWheel:function(aa){aa.stopPropagation();var wa=+aa.target.value;0>aa.deltaY&&100>wa?S(wa+10):0<aa.deltaY&&0<wa&&S(wa-10)},value:null!==(t=jg(w,F,function(aa){return aa.opacity},F.currentItemOpacity))&&void 0!==t?t:void 0}))}}),Dd({name:"changeFontSize",perform:function(d,t,w){return{elements:ie(d,t,function(F){return Xd(F)?(F=tg(F,
{fontSize:w}),pk(F),F):F}),appState:oe(oe({},t),{},{currentItemFontSize:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.fontSize")),U().createElement(Sa,{group:"font-size",options:[{value:16,text:Mb("labels.small")},{value:20,text:Mb("labels.medium")},{value:28,text:Mb("labels.large")},{value:36,text:Mb("labels.veryLarge")}],value:jg(t,w,function(S){return Xd(S)&&S.fontSize},
w.currentItemFontSize||Pa.n5),onChange:function(S){return F(S)}}))}}),Dd({name:"changeFontFamily",perform:function(d,t,w){return{elements:ie(d,t,function(F){return Xd(F)?(F=tg(F,{fontFamily:w}),pk(F),F):F}),appState:oe(oe({},t),{},{currentItemFontFamily:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;d=[{value:1,text:Mb("labels.handDrawn")},{value:2,text:Mb("labels.normal")},{value:3,text:Mb("labels.code")}];return U().createElement("fieldset",null,
U().createElement("legend",null,Mb("labels.fontFamily")),U().createElement(Sa,{group:"font-family",options:d,value:jg(t,w,function(S){return Xd(S)&&S.fontFamily},w.currentItemFontFamily||Pa.rk),onChange:function(S){return F(S)}}))}}),Dd({name:"changeTextAlign",perform:function(d,t,w){return{elements:ie(d,t,function(F){return Xd(F)?(F=tg(F,{textAlign:w}),pk(F),F):F}),appState:oe(oe({},t),{},{currentItemTextAlign:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;
return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.textAlign")),U().createElement(Sa,{group:"text-align",options:[{value:"left",text:Mb("labels.left")},{value:"center",text:Mb("labels.center")},{value:"right",text:Mb("labels.right")}],value:jg(t,w,function(S){return Xd(S)&&S.textAlign},w.currentItemTextAlign),onChange:function(S){return F(S)}}))}}),Dd({name:"changeSharpness",perform:function(d,t,w){var F=kk(Wd(d),t),S=F.length?F.every(function(aa){return!Dg(aa)}):
!cj(t.elementType);F=F.length?F.every(Dg):cj(t.elementType);return{elements:ie(d,t,function(aa){return tg(aa,{strokeSharpness:w})}),appState:oe(oe({},t),{},{currentItemStrokeSharpness:S?w:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:F?w:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.edges")),U().createElement(Ka,{group:"edges",
options:[{value:"sharp",text:Mb("labels.sharp"),icon:U().createElement(Lk,{appearance:w.appearance})},{value:"round",text:Mb("labels.round"),icon:U().createElement(Tj,{appearance:w.appearance})}],value:jg(t,w,function(S){return S.strokeSharpness},qk(w.elementType)&&(cj(w.elementType)?w.currentItemLinearStrokeSharpness:w.currentItemStrokeSharpness)||null),onChange:function(S){return F(S)}}))}}),Dd({name:"changeArrowhead",perform:function(d,t,w){var F;return{elements:ie(d,t,function(S){if(Dg(S)){var aa=
w.position,wa=w.type;if("start"===aa)return tg(S,{startArrowhead:wa});if("end"===aa)return tg(S,{endArrowhead:wa})}return S}),appState:oe(oe({},t),{},(F={},F["start"===w.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=w.type,F)),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;d=zf.rtl;return U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.arrowheads")),U().createElement("div",{className:"iconSelectList"},U().createElement(jd,
{label:"arrowhead_start",options:[{value:null,text:Mb("labels.arrowhead_none"),icon:U().createElement(Nl,{appearance:w.appearance}),keyBinding:"q"},{value:"arrow",text:Mb("labels.arrowhead_arrow"),icon:U().createElement(Dl,{appearance:w.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Mb("labels.arrowhead_bar"),icon:U().createElement(Vl,{appearance:w.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Mb("labels.arrowhead_dot"),icon:U().createElement(yh,{appearance:w.appearance,flip:!d}),
keyBinding:"r"}],value:jg(t,w,function(S){return Dg(S)&&"arrow"===S.type?S.startArrowhead:w.currentItemStartArrowhead},w.currentItemStartArrowhead),onChange:function(S){return F({position:"start",type:S})}}),U().createElement(jd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Mb("labels.arrowhead_none"),keyBinding:"q",icon:U().createElement(Nl,{appearance:w.appearance})},{value:"arrow",text:Mb("labels.arrowhead_arrow"),keyBinding:"w",icon:U().createElement(Dl,{appearance:w.appearance,
flip:d})},{value:"bar",text:Mb("labels.arrowhead_bar"),keyBinding:"e",icon:U().createElement(Vl,{appearance:w.appearance,flip:d})},{value:"dot",text:Mb("labels.arrowhead_dot"),keyBinding:"r",icon:U().createElement(yh,{appearance:w.appearance,flip:d})}],value:jg(t,w,function(S){return Dg(S)&&"arrow"===S.type?S.endArrowhead:w.currentItemEndArrowhead},w.currentItemEndArrowhead),onChange:function(S){return F({position:"end",type:S})}})))}}),h(2189)),yf=h.n(re),cg=U().createContext(!1),rg=function(){return window.matchMedia?
window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},dg=function(d){d=d.children;var t=(0,ea.useRef)();t.current||(t.current=rg());var w=(0,ea.useState)(t.current.matches),F=w[0],S=w[1];return(0,ea.useEffect)(function(){var aa=function(){return S(t.current.matches)};return t.current.addListener(aa),function(){return t.current.removeListener(aa)}},[]),U().createElement(cg.Provider,{value:F},d)};Dd({name:"changeViewBackgroundColor",perform:function(d,
t,w){return{appState:Ye(Ye({},t),{},{viewBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var t=d.appState,w=d.updateData;return U().createElement("div",{style:{position:"relative"}},U().createElement(mc,{label:Mb("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(F){return w(F)}}))}});Dd({name:"clearCanvas",perform:function(d,t){return{elements:d.map(function(w){return tg(w,{isDeleted:!0})}),appState:Ye(Ye({},xh()),{},{appearance:t.appearance,
elementLocked:t.elementLocked,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,shouldAddWatermark:t.shouldAddWatermark,showStats:t.showStats,pasteDialog:t.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:Ni,title:Mb("buttons.clearReset"),"aria-label":Mb("buttons.clearReset"),showAriaLabel:Pe(),onClick:function(){window.confirm(Mb("alerts.clearReset"))&&t(null)}})}});Dd({name:"zoomIn",
perform:function(d,t){d=Xh(Pj(t.zoom.value+Pa.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:Ye(Ye({},t),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:li,title:"".concat(Mb("buttons.zoomIn")," — ").concat(Pd("CtrlOrCmd++")),"aria-label":Mb("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[Ue]||d.shiftKey)}});
Dd({name:"zoomOut",perform:function(d,t){d=Xh(Pj(t.zoom.value-Pa.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:Ye(Ye({},t),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:zj,title:"".concat(Mb("buttons.zoomOut")," — ").concat(Pd("CtrlOrCmd+-")),"aria-label":Mb("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&
(d[Ue]||d.shiftKey)}});Dd({name:"resetZoom",perform:function(d,t){return{appState:Ye(Ye({},t),{},{zoom:Xh(1,t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:Td,title:Mb("buttons.resetZoom"),"aria-label":Mb("buttons.resetZoom"),onClick:function(){t(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[Ue]||d.shiftKey)}});var Ze=function(d,
t,w){d=Wd(d);var F=of(d,t);F=w&&0<F.length?zg(F):zg(d);w=Xh(Math.min(Math.max(Math.floor(Math.min(t.width/(F[2]-F[0]),t.height/(F[3]-F[1]))/Pa.V4)*Pa.V4,Pa.V4),1),t.zoom,{left:t.offsetLeft,top:t.offsetTop});d=(F[0]+F[2])/2;F=(F[1]+F[3])/2;return{appState:Ye(Ye(Ye({},t),Ui({scenePoint:{x:d,y:F},viewportDimensions:{width:t.width,height:t.height},zoom:w})),{},{zoom:w}),commitToHistory:!1}};Dd({name:"zoomToSelection",perform:function(d,t){return Ze(d,t,!0)},keyTest:function(d){return"Digit2"===d.code&&
d.shiftKey&&!d.altKey&&!d[Ue]}});Dd({name:"zoomToFit",perform:function(d,t){return Ze(d,t,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[Ue]}});var Ie,Cf,Of=Dd({name:"finalize",perform:function(d,t,w,F){var S,aa;w=F.canvas;if(t.editingLinearElement){F=t.editingLinearElement;var wa=F.startBindingElement,ua=F.endBindingElement,Ba=Xf.getElement(F.elementId);if(Ba)return mg(Ba)&&Kf(Ba,wa,ua),{elements:2>Ba.points.length||Lh(Ba)?d.filter(function(gb){return gb.id!==Ba.id}):
void 0,appState:$f($f({},t),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(F=t.multiElement?t.multiElement:"draw"===(null===(aa=t.editingElement)||void 0===aa?void 0:aa.type)?t.editingElement:null){"draw"!==F.type&&"touch"!==t.lastPointerDownWith&&(aa=F.points,(wa=F.lastCommittedPoint)&&aa[aa.length-1]===wa||bf(F,{points:F.points.slice(0,-1)}));Lh(F)&&(d=d.slice(0,-1));aa=$h(F.points,t.zoom.value);if(("line"===
F.type||"draw"===F.type)&&aa){var Ma=F.points,Ga=Ma[0];bf(F,{points:Ma.map(function(gb,mb){return mb===Ma.length-1?[Ga[0],Ga[1]]:gb})})}mg(F)&&!aa&&1<F.points.length&&(wa=Xf.getPointAtIndexGlobalCoordinates(F,-1),aa=wa[0],wa=wa[1],jk(F,t,qh.getScene(F),{x:aa,y:wa}));t.elementLocked||"draw"===t.elementType||(t.selectedElementIds[F.id]=!0)}return(t.elementLocked||"draw"===t.elementType)&&F||Fi(w),{elements:d,appState:$f($f({},t),{},{elementType:(t.elementLocked||"draw"===t.elementType)&&F?t.elementType:
"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:F&&!t.elementLocked&&"draw"!==t.elementType?$f($f({},t.selectedElementIds),{},(S={},S[F.id]=!0,S)):t.selectedElementIds}),commitToHistory:"draw"===t.elementType}},keyTest:function(d,t){return"Escape"===d.key&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==t.multiElement},PanelComponent:function(d){var t=
d.appState;d=d.updateData;return U().createElement($e,{type:"button",icon:rk,title:Mb("buttons.done"),"aria-label":Mb("buttons.done"),onClick:d,visible:null!=t.multiElement})}}),Qg="undefined"!=typeof u&&null!==(Ie=u.env)&&void 0!==Ie&&Ie.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,t,w,F){window.gtag("event",t,{event_category:d,event_label:w,value:F})}:("undefined"!=typeof u&&null!==(Cf=u.env)&&void 0!==Cf&&Cf.JEST_WORKER_ID,function(d,t,w,F){}),ih=(h(8518),function(){var d=
function(t,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,S){F.__proto__=S}||function(F,S){for(var aa in S)Object.prototype.hasOwnProperty.call(S,aa)&&(F[aa]=S[aa])})(t,w)};return function(t,w){function F(){this.constructor=t}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(t,w);t.prototype=null===w?Object.create(w):(F.prototype=w.prototype,new F)}}()),bh=function(d){function t(){for(var w=[],F=
0;F<arguments.length;F++)w[F]=arguments[F];var S,aa;F=this;return F=d.apply(this,w)||this,S=aa=F,F.handleFocus=function(wa){wa=wa.currentTarget;var ua=window.getSelection();if(ua){var Ba=document.createRange();Ba.selectNodeContents(wa);ua.removeAllRanges();ua.addRange(Ba)}},F.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==aa.props.value&&aa.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},F.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),wa.nativeEvent.isComposing||
229===wa.keyCode)||wa.currentTarget.blur()},F.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(ua){wa.contentEditable="true"}},S}return ih(t,d),t.prototype.render=function(){return U().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},t}(ea.Component),Sj=(h(2680),
function(d){var t=d.children,w=d.label,F=d.position;F=void 0===F?"below":F;d=d.long;d=void 0!==d&&d;return U().createElement("div",{className:"Tooltip"},U().createElement("span",{className:"above"===F?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},w),t)}),hk=function(d){var t=d.title?d.title:"dark"===d.value?Mb("buttons.lightMode"):Mb("buttons.darkMode");return U().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:t},U().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(w){return d.onChange(w.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":t}),U().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Ll.MOON:Ll.SUN))},Ll={SUN:U().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},U().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:U().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},U().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const sl="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",sm=sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const lf=sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var Zk,Pi=function(d,t){if(null!=t&&t.collaborators&&
(t=t.collaborators.get(d),null!=t&&t.color))return t.color;d=d.split("").reduce(function(F,S){return F+S.charCodeAt(0)},0);t=Bk.elementBackground.slice(1);var w=Bk.elementStroke.slice(1);return{background:t[d%t.length],stroke:w[d%w.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(Zk||(Zk={}));var Am=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),ml=function(d,t,w,F,S,aa,wa,ua,Ba){void 0===Ba&&(Ba=!1);d.translate(aa,wa);d.rotate(ua);Ba&&d.fillRect(t-aa,w-wa,F,S);d.strokeRect(t-aa,w-wa,F,S);d.rotate(-ua);d.translate(-aa,-wa)},Bm=function(d,t,w,F){d.beginPath();d.arc(t,w,F,0,2*Math.PI);d.fill();d.stroke()},cn=function(d,t,w,F,S,aa,wa,ua){var Ba=void 0===ua?{}:ua;ua=Ba.renderScrollbars;ua=void 0===ua||ua;var Ma=Ba.renderSelection,Ga=void 0===Ma||Ma;Ma=Ba.renderOptimizations;var gb=void 0!==Ma&&Ma;Ba=Ba.renderGrid;var mb=
void 0===Ba||Ba;if(!aa)return{atLeastOneVisibleElement:!1};var nb=aa.getContext("2d");nb.scale(F,F);var Xb=aa.width/F,Sb=aa.height/F;(wa.exportWithDarkMode&&(nb.filter=Pa.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&nb.clearRect(0,0,Xb,Sb),Ba=nb.fillStyle,nb.fillStyle=wa.viewBackgroundColor,nb.fillRect(0,0,Xb,Sb),nb.fillStyle=Ba):nb.clearRect(0,
0,Xb,Sb);Ba=wa.zoom.translation.x;Ma=wa.zoom.translation.y;nb.translate(Ba,Ma);nb.scale(wa.zoom.value,wa.zoom.value);mb&&t.gridSize&&function(sd,Qd,$d,Me,Ah,Uh){var wj=sd.strokeStyle;sd.strokeStyle="rgba(0,0,0,0.1)";sd.beginPath();for(var $i=$d;$i<$d+Ah+2*Qd;$i+=Qd)sd.moveTo($i,Me-Qd),sd.lineTo($i,Me+Uh+2*Qd);for($i=Me;$i<Me+Uh+2*Qd;$i+=Qd)sd.moveTo($d-Qd,$i),sd.lineTo($d+Ah+2*Qd,$i);sd.stroke();sd.strokeStyle=wj}(nb,t.gridSize,-Math.ceil(Ba/wa.zoom.value/t.gridSize)*t.gridSize+wa.scrollX%t.gridSize,
-Math.ceil(Ma/wa.zoom.value/t.gridSize)*t.gridSize+wa.scrollY%t.gridSize,Xb/wa.zoom.value,Sb/wa.zoom.value);aa=d.filter(function(sd){var Qd={zoom:wa.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},$d=pi(sd);sd=$d[0];var Me=$d[1],Ah=$d[2];$d=$d[3];var Uh=ng({clientX:Qd.offsetLeft,clientY:Qd.offsetTop},Qd);Qd=ng({clientX:Qd.offsetLeft+Xb,clientY:Qd.offsetTop+Sb},Qd);return Uh.x<=Ah&&Uh.y<=$d&&Qd.x>=sd&&Qd.y>=Me});(aa.forEach(function(sd){hn(sd,S,nb,gb,wa)}),
t.editingLinearElement)&&(mb=Xf.getElement(t.editingLinearElement.elementId))&&function(sd,Qd,$d,Me){sd.translate($d.scrollX,$d.scrollY);var Ah=sd.strokeStyle,Uh=sd.lineWidth;sd.lineWidth=1/$d.zoom.value;Xf.getPointsGlobalCoordinates(Me).forEach(function(wj,$i){var Pl;sd.strokeStyle="red";sd.setLineDash([]);sd.fillStyle=(null===(Pl=Qd.editingLinearElement)||void 0===Pl?void 0:Pl.activePointIndex)===$i?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Bm(sd,wj[0],wj[1],Xf.POINT_HANDLE_SIZE/2/$d.zoom.value)});
sd.setLineDash([]);sd.lineWidth=Uh;sd.translate(-$d.scrollX,-$d.scrollY);sd.strokeStyle=Ah}(nb,t,wa,mb);if(w&&hn(w,S,nb,gb,wa),t.isBindingEnabled&&t.suggestedBindings.filter(function(sd){return null!=sd}).forEach(function(sd){var Qd=nb.strokeStyle,$d=nb.lineWidth,Me=Array.isArray(sd)?bj:Wl;nb.translate(wa.scrollX,wa.scrollY);Me(nb,sd);nb.strokeStyle=Qd;nb.lineWidth=$d;nb.translate(-wa.scrollX,-wa.scrollY)}),Ga&&!t.multiElement&&!t.editingLinearElement){var qc=d.reduce(function(sd,Qd){var $d=[];if(t.selectedElementIds[Qd.id]&&
null==rh(t,Qd)&&$d.push(te.Sn),wa.remoteSelectedElementIds[Qd.id]&&$d.push.apply($d,wa.remoteSelectedElementIds[Qd.id].map(function(Ah){return Pi(Ah,t).background})),$d.length){var Me=ag(Qd);sd.push({angle:Qd.angle,elementX1:Me[0],elementY1:Me[1],elementX2:Me[2],elementY2:Me[3],selectionColors:$d})}return sd},[]);w=function(sd){sd=ck(d,sd);sd=zg(sd);qc.push({angle:0,elementX1:sd[0],elementX2:sd[2],elementY1:sd[1],elementY2:sd[3],selectionColors:[te.Sn]})};Ga=0;for(mb=Ii(t);Ga<mb.length;Ga++)w(mb[Ga]);
t.editingGroupId&&w(t.editingGroupId);qc.forEach(function(sd){var Qd=sd.angle,$d=sd.elementX1,Me=sd.elementY1,Ah=sd.selectionColors,Uh=sd.elementX2-$d;sd=sd.elementY2-Me;var wj=nb.getLineDash(),$i=nb.lineWidth,Pl=nb.lineDashOffset,qn=nb.strokeStyle,cm=4/wa.zoom.value,rn=8/wa.zoom.value,Om=4/wa.zoom.value;nb.lineWidth=1/wa.zoom.value;nb.translate(wa.scrollX,wa.scrollY);for(var eo=Ah.length,Pm=0;Pm<eo;++Pm)nb.strokeStyle=Ah[Pm],nb.setLineDash([rn,Om+(rn+Om)*(eo-1)]),nb.lineDashOffset=(rn+Om)*Pm,ml(nb,
$d-cm,Me-cm,Uh+2*cm,sd+2*cm,$d+Uh/2,Me+sd/2,Qd);nb.lineDashOffset=Pl;nb.strokeStyle=qn;nb.lineWidth=$i;nb.setLineDash(wj);nb.translate(-wa.scrollX,-wa.scrollY)});Ga=of(d,t);if(nb.translate(wa.scrollX,wa.scrollY),1===Ga.length)nb.fillStyle=te.ix,w=rj(Ga[0],wa.zoom,"mouse"),t.viewModeEnabled||tk(nb,wa,w,Ga[0].angle);else if(1<Ga.length&&!t.isRotating){w=4/wa.zoom.value;nb.fillStyle=te.ix;var Xc=zg(Ga);Ga=Xc[0];mb=Xc[1];var cd=Xc[2];Xc=Xc[3];var md=nb.getLineDash();nb.setLineDash([2/wa.zoom.value]);
var ce=nb.lineWidth;nb.lineWidth=1/wa.zoom.value;ml(nb,Ga-w,mb-w,cd-Ga+2*w,Xc-mb+2*w,(Ga+cd)/2,(mb+Xc)/2,0);nb.lineWidth=ce;nb.setLineDash(md);w=Ck([Ga,mb,cd,Xc],0,wa.zoom,"mouse",rl);tk(nb,wa,w,0)}nb.translate(-wa.scrollX,-wa.scrollY)}for(var ae in nb.scale(1/wa.zoom.value,1/wa.zoom.value),nb.translate(-Ba,-Ma),wa.remotePointerViewportCoords){Ba=wa.remotePointerViewportCoords[ae];cd=Ba.x;Xc=Ba.y;cd-=t.offsetLeft;Xc-=t.offsetTop;md=0>cd||cd>Xb-9||0>Xc||Xc>Sb-14;cd=Math.max(cd,0);cd=Math.min(cd,Xb-
9);Xc=Math.max(Xc,0);Xc=Math.min(Xc,Sb-14);Ba=Pi(ae,t);Ma=Ba.background;w=Ba.stroke;Ga=nb.strokeStyle;mb=(Ba=nb.fillStyle,nb.globalAlpha);nb.strokeStyle=w;nb.fillStyle=Ma;ce=wa.remotePointerUserStates[ae];(md||ce===Zk.AWAY)&&(nb.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[ae]&&(nb.beginPath(),nb.arc(cd,Xc,15,0,2*Math.PI,!1),nb.lineWidth=3,nb.strokeStyle="#ffffff88",nb.stroke(),nb.closePath(),nb.beginPath(),nb.arc(cd,Xc,15,0,2*Math.PI,!1),nb.lineWidth=1,nb.strokeStyle=
w,nb.stroke(),nb.closePath());nb.beginPath();nb.moveTo(cd,Xc);nb.lineTo(cd+1,Xc+14);nb.lineTo(cd+4,Xc+9);nb.lineTo(cd+9,Xc+10);nb.lineTo(cd,Xc);nb.fill();nb.stroke();var Be=wa.remotePointerUsernames[ae],ye="";ce===Zk.AWAY?ye=Am?"⚫️":" (".concat(Zk.AWAY,")"):ce===Zk.IDLE?ye=Am?"\ud83d\udca4":" (".concat(Zk.IDLE,")"):ce===Zk.ACTIVE&&(ye=Am?"\ud83d\udfe2":"");ce="".concat(Be?"".concat(Be," "):"").concat(ye);!md&&ce&&(cd+=9,Xc+=14,md=nb.measureText(ce),Be=md.actualBoundingBoxDescent+md.actualBoundingBoxAscent,
nb.fillStyle=w,nb.fillRect(cd-1,Xc-1,md.width+8+2,Be+8+2),nb.fillStyle=Ma,nb.fillRect(cd,Xc,md.width+8,Be+8),nb.fillStyle=te.ix,nb.fillText(ce,cd+4,Xc+4+md.actualBoundingBoxAscent));nb.strokeStyle=Ga;nb.fillStyle=Ba;nb.globalAlpha=mb;nb.closePath()}if(ua){var We=function(sd,Qd,$d,Me){var Ah=Me.scrollX,Uh=Me.scrollY,wj=Me.zoom;if(0===sd.length)return{horizontal:null,vertical:null};Me=zg(sd);var $i=Me[0],Pl=Me[1];sd=Me[2];Me=Me[3];var qn=Qd/wj.value,cm=$d/wj.value,rn=Qd-qn,Om=$d-cm;wj=parseInt(Uf("sat"));
var eo=parseInt(Uf("sab")),Pm=parseInt(Uf("sal")),Ur=parseInt(Uf("sar")),Tt=zf.rtl;Ah=rn/2-Ah+Pm;Uh=Om/2-Uh+wj;qn=Ah+qn-Ur;cm=Uh+cm-eo;$i=Math.min($i,Ah);Pl=Math.min(Pl,Uh);sd=Math.max(sd,qn);Me=Math.max(Me,cm);return{horizontal:Ah===$i&&qn===sd?null:{x:Math.max(Pm,4)+(Ah-$i)/(sd-$i)*Qd,y:$d-6-Math.max(4,eo),width:(qn-Ah)/(sd-$i)*Qd-Math.max(8,Pm+Ur),height:6},vertical:Uh===Pl&&cm===Me?null:{x:Tt?Math.max(Pm,4):Qd-6-Math.max(Ur,4),y:(Uh-Pl)/(Me-Pl)*$d+Math.max(wj,4),width:6,height:(cm-Uh)/(Me-Pl)*
$d-Math.max(8,wj+eo)}}}(d,Xb,Sb,wa);Ba=nb.fillStyle;Ga=nb.strokeStyle;nb.fillStyle="rgba(0,0,0,0.3)";nb.strokeStyle="rgba(255,255,255,0.8)";[We.horizontal,We.vertical].forEach(function(sd){if(sd){var Qd=sd.x,$d=sd.y,Me=sd.width;sd=sd.height;nb.beginPath();nb.moveTo(Qd+3,$d);nb.lineTo(Qd+Me-3,$d);nb.quadraticCurveTo(Qd+Me,$d,Qd+Me,$d+3);nb.lineTo(Qd+Me,$d+sd-3);nb.quadraticCurveTo(Qd+Me,$d+sd,Qd+Me-3,$d+sd);nb.lineTo(Qd+3,$d+sd);nb.quadraticCurveTo(Qd,$d+sd,Qd,$d+sd-3);nb.lineTo(Qd,$d+3);nb.quadraticCurveTo(Qd,
$d,Qd+3,$d);nb.closePath();nb.fill();nb.stroke()}});nb.fillStyle=Ba;nb.strokeStyle=Ga}return nb.scale(1/F,1/F),{atLeastOneVisibleElement:0<aa.length,scrollBars:We}},tk=function(d,t,w,F){Object.keys(w).forEach(function(S){var aa=w[S];if(void 0!==aa){var wa=d.lineWidth;d.lineWidth=1/t.zoom.value;"rotation"===S?Bm(d,aa[0]+aa[2]/2,aa[1]+aa[3]/2,aa[2]/2):ml(d,aa[0],aa[1],aa[2],aa[3],aa[0]+aa[2]/2,aa[1]+aa[3]/2,F,!0);d.lineWidth=wa}})},Wl=function(d,t){var w=ag(t),F=w[0],S=w[1],aa=w[2]-F;w=w[3]-S;var wa=
Wi(t,aa,w);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=wa-4;wa=2+wa/2;switch(t.type){case "rectangle":case "text":ml(d,F-wa,S-wa,aa+2*wa,w+2*wa,F+aa/2,S+w/2,t.angle);break;case "diamond":var ua=Math.hypot(aa,w);!function(Ba,Ma,Ga,gb,mb,nb){Ba.translate(gb,mb);Ba.rotate(nb);Ba.beginPath();Ba.moveTo(0,Ga/2);Ba.lineTo(Ma/2,0);Ba.lineTo(0,-Ga/2);Ba.lineTo(-Ma/2,0);Ba.closePath();Ba.stroke();Ba.rotate(-nb);Ba.translate(-gb,-mb)}(d,aa+wa*ua/w*2,w+wa*ua/aa*2,F+aa/2,S+w/2,t.angle);break;case "ellipse":!function(Ba,
Ma,Ga,gb,mb,nb){Ba.beginPath();Ba.ellipse(gb,mb,Ma/2,Ga/2,nb,0,2*Math.PI);Ba.stroke()}(d,aa+2*wa,w+2*wa,F+aa/2,S+w/2,t.angle)}},bj=function(d,t){var w=t[0],F=t[1];t=t[2];var S=Wi(t,t.width,t.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===F?[0,-1]:"start"===F?[0]:[-1]).forEach(function(aa){aa=Xf.getPointAtIndexGlobalCoordinates(w,aa);Bm(d,aa[0],aa[1],S)})},Bj=function(d,t,w,F){F=void 0===F?{}:F;var S=F.offsetX,aa=void 0===S?0:S;F=F.offsetY;var wa=void 0===F?0:F;w&&d.forEach(function(ua){ua.isDeleted||
function(Ba,Ma,Ga,gb,mb){var nb=ag(Ba),Xb=nb[0],Sb=nb[1],qc=(nb[2]-Xb)/2-(Ba.x-Xb),Xc=(nb[3]-Sb)/2-(Ba.y-Sb),cd=180*Ba.angle/Math.PI;nb=Ma.generator;switch(Ba.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Ba,nb);nb=Ma.draw(ti.get(Ba));1!=(ae=Ba.opacity/100)&&(nb.setAttribute("stroke-opacity","".concat(ae)),nb.setAttribute("fill-opacity","".concat(ae)));nb.setAttribute("transform","translate(".concat(gb||0," ").concat(mb||
0,") rotate(").concat(cd," ").concat(qc," ").concat(Xc,")"));Ga.appendChild(nb);break;case "line":case "draw":case "arrow":Yj(Ba,nb);var md=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),ce=Ba.opacity/100;ti.get(Ba).forEach(function($d){$d=Ma.draw($d);1!==ce&&($d.setAttribute("stroke-opacity","".concat(ce)),$d.setAttribute("fill-opacity","".concat(ce)));$d.setAttribute("transform","translate(".concat(gb||0," ").concat(mb||0,") rotate(").concat(cd," ").concat(qc," ").concat(Xc,
")"));"line"!==Ba.type&&"draw"!==Ba.type||!$h(Ba.points)||"transparent"===Ba.backgroundColor||$d.setAttribute("fill-rule","evenodd");md.appendChild($d)});Ga.appendChild(md);break;default:if(!Xd(Ba))throw Error("Unimplemented type ".concat(Ba.type));var ae=Ba.opacity/100;nb=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ae&&(nb.setAttribute("stroke-opacity","".concat(ae)),nb.setAttribute("fill-opacity","".concat(ae)));nb.setAttribute("transform","translate(".concat(gb||0," ").concat(mb||
0,") rotate(").concat(cd," ").concat(qc," ").concat(Xc,")"));ae=Ba.text.replace(/\r\n?/g,"\n").split("\n");Xb=Ba.height/ae.length;Sb=Ba.height-Ba.baseline;for(var Be="center"===Ba.textAlign?Ba.width/2:"right"===Ba.textAlign?Ba.width:0,ye=ph.test(Ba.text)?"rtl":"ltr",We="center"===Ba.textAlign?"middle":"right"===Ba.textAlign||"rtl"===ye?"end":"start",sd=0;sd<ae.length;sd++){var Qd=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Qd.textContent=ae[sd];Qd.setAttribute("x","".concat(Be));
Qd.setAttribute("y","".concat((sd+1)*Xb-Sb));Qd.setAttribute("font-family","".concat(Pa.ut[Ba.fontFamily],", ").concat(Pa._D));Qd.setAttribute("font-size","".concat(Ba.fontSize,"px"));Qd.setAttribute("fill",Ba.strokeColor);Qd.setAttribute("text-anchor",We);Qd.setAttribute("style","white-space: pre;");Qd.setAttribute("direction",ye);nb.appendChild(Qd)}Ga.appendChild(nb)}}(ua,t,w,ua.x+aa,ua.y+wa)})},nl=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},qm=function(d,t,w,
F){var S=w.exportBackground,aa=w.exportPadding;aa=void 0===aa?10:aa;var wa=w.viewBackgroundColor,ua=w.scale,Ba=void 0===ua?1:ua;w=w.shouldAddWatermark;void 0===F&&(F=function(Ga,gb){var mb=document.createElement("canvas");return mb.width=Ga*Ba,mb.height=gb*Ba,{canvas:mb,scale:Ba}});d=Vn(d,w);var Ma=dn(d,aa,w);w=Ma[0];ua=Ma[1];Ma=F(Ma[2],Ma[3]);F=Ma.canvas;Ma=Ma.scale;return cn(d,t,null,void 0===Ma?Ba:Ma,Fh.canvas(F),F,{viewBackgroundColor:S?wa:null,exportWithDarkMode:t.exportWithDarkMode,scrollX:-w+
aa,scrollY:-ua+aa,zoom:xh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),F},Il=function(d,t){var w=t.exportBackground,F=t.exportPadding;F=void 0===F?10:F;var S=t.viewBackgroundColor,aa=t.exportWithDarkMode,wa=t.scale;wa=void 0===wa?1:wa;var ua=t.shouldAddWatermark;t=t.metadata;t=void 0===t?"":t;d=Vn(d,ua);var Ba=dn(d,F,ua);
ua=Ba[0];var Ma=Ba[1],Ga=Ba[2],gb=Ba[3];Ba=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ba.setAttribute("version","1.1"),Ba.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ba.setAttribute("viewBox","0 0 ".concat(Ga," ").concat(gb)),Ba.setAttribute("width","".concat(Ga*wa)),Ba.setAttribute("height","".concat(gb*wa)),aa&&Ba.setAttribute("filter",Pa.Gi),Ba.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(t,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
w&&S)w=Ba.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),w.setAttribute("x","0"),w.setAttribute("y","0"),w.setAttribute("width","".concat(Ga)),w.setAttribute("height","".concat(gb)),w.setAttribute("fill",S),Ba.appendChild(w);w=Fh.svg(Ba);return Bj(d,w,Ba,{offsetX:-ua+F,offsetY:-Ma+F}),Ba},Vn=function(d,t){var w=nl([],d);t&&(t=zg(d),d=t[2],t=t[3],w=nl([],w),d=Fj({text:Mb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Pa.rk,textAlign:"right",verticalAlign:Pa.hs,x:d,y:t+16,strokeColor:te.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),w=nl(w,[d]));return w},dn=function(d,t,w){d=zg(d);var F=d[0],S=d[1];return[F,S,Math.abs(F-d[2])+2*t,Math.abs(S-d[3])+t+(w?0:t)]},Cj=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},mn=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Zi=function(d,t){return d.slice(1).every(function(w){return null!==
mn(w[t])})},Gn=function(d){var t=d[0].length;if(2<t)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===t){if(!Zi(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};t=null===mn(d[0][0]);var w=(t?d.slice(1):d).map(function(aa){return mn(aa[0])});return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:t?d[0][0]:null,labels:null,values:w}}}var F=Zi(d,0)?0:1;if(!Zi(d,F))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var S=(F+1)%2;w=(t=null===mn(d[0][F]))?d.slice(1):d;return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:t?d[0][F]:null,labels:w.map(function(aa){return aa[S]}),values:w.map(function(aa){return mn(aa[F])})}}},An=Bk.elementBackground.slice(2,Bk.elementBackground.length),uh={fillStyle:"hachure",fontFamily:Pa.rk,fontSize:Pa.n5,opacity:100,roughness:1,strokeColor:Bk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Sn=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Cm=function(d,t,w,F,S,aa){var wa=Sn(d),ua=wa.chartWidth,Ba=wa.chartHeight;wa=d.title?Fj(Ae(Ae({backgroundColor:S,groupIds:[F]},uh),{},{text:d.title,x:t+ua/2,y:w-256-24-Pa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;aa=aa?Hl(Ae(Ae({backgroundColor:S,groupIds:[F]},uh),{},{type:"rectangle",x:t,y:w-Ba,width:ua,height:Ba,strokeColor:Bk.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Cj(Cj(Cj(Cj(Cj([],aa?[aa]:[]),wa?[wa]:[]),function(Ma,Ga,gb,mb,nb){var Xb;return(null===(Xb=Ma.labels)||void 0===Xb?void 0:Xb.map(function(Sb,qc){return Fj(Ae(Ae({groupIds:[mb],backgroundColor:nb},uh),{},{text:8<Sb.length?"".concat(Sb.slice(0,5),"..."):Sb,x:Ga+44*qc+24,y:gb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,t,w,F,S)),function(Ma,Ga,gb,mb,nb){var Xb=Fj(Ae(Ae({groupIds:[mb],backgroundColor:nb},uh),{},{x:Ga-12,y:gb-12,text:"0",textAlign:"right"}));
return[Xb,Fj(Ae(Ae({groupIds:[mb],backgroundColor:nb},uh),{},{x:Ga-12,y:gb-256-Xb.height/2,text:Math.max.apply(Math,Ma.values).toLocaleString(),textAlign:"right"}))]}(d,t,w,F,S)),function(Ma,Ga,gb,mb,nb){var Xb=Sn(Ma);Ma=Xb.chartWidth;Xb=Xb.chartHeight;return[Ke(Ae(Ae({backgroundColor:nb,groupIds:[mb]},uh),{},{type:"line",x:Ga,y:gb,startArrowhead:null,endArrowhead:null,width:Ma,points:[[0,0],[Ma,0]]})),Ke(Ae(Ae({backgroundColor:nb,groupIds:[mb]},uh),{},{type:"line",x:Ga,y:gb,startArrowhead:null,endArrowhead:null,
height:Xb,points:[[0,0],[0,-Xb]]})),Ke(Ae(Ae({backgroundColor:nb,groupIds:[mb]},uh),{},{type:"line",x:Ga,y:gb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ma,opacity:50,points:[[0,0],[Ma,0]]}))]}(d,t,w,F,S))},Tn=function(d,t,w,F){return"line"===d?function(S,aa,wa){for(var ua=Math.max.apply(Math,S.values),Ba=ui(),Ma=An[Math.floor(Math.random()*An.length)],Ga=0,gb=[],mb=0,nb=S.values;mb<nb.length;mb++)gb.push([44*Ga,-nb[mb]/ua*256]),Ga++;Ga=Math.max.apply(Math,gb.map(function(Sb){return Sb[0]}));
mb=Math.max.apply(Math,gb.map(function(Sb){return Sb[1]}));nb=Math.min.apply(Math,gb.map(function(Sb){return Sb[0]}));var Xb=Math.min.apply(Math,gb.map(function(Sb){return Sb[1]}));gb=Ke(Ae(Ae({backgroundColor:Ma,groupIds:[Ba]},uh),{},{type:"line",x:aa+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:mb-Xb,width:Ga-nb,strokeWidth:2,points:gb}));Ga=S.values.map(function(Sb,qc){qc=44*qc+6;Sb=-Sb/ua*256+6;return Hl(Ae(Ae({backgroundColor:Ma,groupIds:[Ba]},uh),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:aa+qc+16,y:wa+Sb-24,width:12,height:12}))});mb=S.values.map(function(Sb,qc){qc=44*qc+6;Sb=Sb/ua*256+18;return Ke(Ae(Ae({backgroundColor:Ma,groupIds:[Ba]},uh),{},{type:"line",x:aa+qc+16+6,y:wa-Sb,startArrowhead:null,endArrowhead:null,height:Sb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Sb]]}))});return Cj(Cj(Cj(Cj([],Cm(S,aa,wa,Ba,Ma,"production"===Pa.Vi.DEVELOPMENT)),[gb]),mb),Ga)}(t,w,F):function(S,aa,wa){var ua=Math.max.apply(Math,S.values),Ba=ui(),Ma=An[Math.floor(Math.random()*
An.length)],Ga=S.values.map(function(gb,mb){gb=gb/ua*256;return Hl(Ae(Ae({backgroundColor:Ma,groupIds:[Ba]},uh),{},{type:"rectangle",x:aa+44*mb+12,y:wa-gb-12,width:32,height:gb}))});return Cj(Cj([],Ga),Cm(S,aa,wa,Ba,Ma,"production"===Pa.Vi.DEVELOPMENT))}(t,w,F)},Un=function(){var d=function(t,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,S){F.__proto__=S}||function(F,S){for(var aa in S)Object.prototype.hasOwnProperty.call(S,aa)&&(F[aa]=S[aa])})(t,w)};return function(t,
w){function F(){this.constructor=t}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(t,w);t.prototype=null===w?Object.create(w):(F.prototype=w.prototype,new F)}}(),ln=function(d){function t(w,F){void 0===w&&(w="Couldn't export canvas.");void 0===F&&(F="CANVAS_ERROR");var S=d.call(this)||this;return S.name=F,S.message=w,S}return Un(t,d),t}(Error),$n=function(d,t){var w,F,S,aa,wa,ua,Ba,Ma;d={type:d.type,version:d.version||1,versionNonce:null!==
(w=d.versionNonce)&&void 0!==w?w:0,isDeleted:null!==(F=d.isDeleted)&&void 0!==F&&F,id:d.id||ui(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(S=d.strokeStyle)&&void 0!==S?S:"solid",roughness:null!==(aa=d.roughness)&&void 0!==aa?aa:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(wa=d.seed)&&void 0!==wa?wa:1,groupIds:null!==(ua=
d.groupIds)&&void 0!==ua?ua:[],strokeSharpness:null!==(Ba=d.strokeSharpness)&&void 0!==Ba?Ba:cj(d.type)?"round":"sharp",boundElementIds:null!==(Ma=d.boundElementIds)&&void 0!==Ma?Ma:[]};return Ce(Ce(Ce({},d),Fl(d)),t)},Zh=function(d){return(d||[]).reduce(function(t,w){if("selection"!==w.type&&!Lh(w)){a:{var F;switch(w.type){case "text":var S=w.fontSize,aa=w.fontFamily;if("font"in w){S=w.font.split(" ");aa=S[1];S=parseInt(S[0],10);b:{for(var wa=0,ua=Object.entries(Pa.ut);wa<ua.length;wa++){var Ba=
ua[wa],Ma=Ba[0];if(Ba[1].includes(aa)){aa=parseInt(Ma);break b}}aa=Pa.rk}}w=$n(w,{fontSize:S,fontFamily:aa,text:null!==(F=w.text)&&void 0!==F?F:"",baseline:w.baseline,textAlign:w.textAlign||Pa.Hg,verticalAlign:w.verticalAlign||Pa.hs});break a;case "draw":case "line":case "arrow":F=w.startArrowhead;F=void 0===F?null:F;S=w.endArrowhead;S=void 0===S?"arrow"===w.type?"arrow":null:S;w=$n(w,{startBinding:w.startBinding,endBinding:w.endBinding,points:!Array.isArray(w.points)||2>w.points.length?[[0,0],[w.width,
w.height]]:w.points,lastCommittedPoint:null,startArrowhead:F,endArrowhead:S});break a;case "ellipse":case "rectangle":case "diamond":w=$n(w,{});break a}w=void 0}w&&t.push(w)}return t},[])},en=function(d,t){d=d||{};for(var w=xh(),F={},S=0,aa=Object.entries(w);S<aa.length;S++){var wa=aa[S],ua=wa[0];wa=wa[1];var Ba=d[ua],Ma=t?t[ua]:void 0;F[ua]=void 0!==Ba?Ba:void 0!==Ma?Ma:wa}return Ce(Ce({},F),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:w.zoom.translation}:
d.zoom||w.zoom})},fn=function(d,t){return{elements:Zh(null==d?void 0:d.elements),appState:en(null==d?void 0:d.appState,t||null)}},co=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],
done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?
Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},wi=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},jh=function(){function d(){}return d.importLibrary=function(t){return zb()(function(){var w,F,S,aa;return co(this,function(wa){switch(wa.label){case 0:return[4,mp(t)];case 1:return(w=
wa.sent())&&w.library?(F=function(ua,Ba){return!ua.find(function(Ma){return Ma.length===Ba.length&&Ma.every(function(Ga,gb){return Ga.id===Ba[gb].id&&Ga.versionNonce===Ba[gb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return S=wa.sent(),aa=w.library.reduce(function(ua,Ba){Ba=Wd(Zh(Ba));return F(S,Ba)&&ua.push(Ba),ua},[]),d.saveLibrary(wi(wi([],S),aa)),[2]}})})()},d}();jh.libraryCache=null;jh.resetLibrary=function(){jh.libraryCache=null;localStorage.removeItem(Pa.I.LOCAL_STORAGE_LIBRARY)};jh.loadLibrary=
function(){return new Promise(function(){var d=zb()(function(t){var w,F;return co(this,function(S){if(jh.libraryCache)return[2,t(JSON.parse(JSON.stringify(jh.libraryCache)))];try{if(!(w=localStorage.getItem(Pa.I.LOCAL_STORAGE_LIBRARY)))return[2,t([])];F=JSON.parse(w).map(function(aa){return Zh(aa)});jh.libraryCache=JSON.parse(JSON.stringify(F));t(F)}catch(aa){console.error(aa),t([])}return[2]})});return function(t){return d.apply(this,arguments)}}())};jh.saveLibrary=function(d){var t=jh.libraryCache;
try{var w=JSON.stringify(d);jh.libraryCache=JSON.parse(w);localStorage.setItem(Pa.I.LOCAL_STORAGE_LIBRARY,w)}catch(F){jh.libraryCache=t,console.error(F)}};var Xl=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,
{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];
return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},mm=function(d,t){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:wf(d),appState:si(t,"export")},null,2)},Yl=function(){var d=zb()(function(t,w){var F;return Xl(this,function(S){switch(S.label){case 0:return F=
mm(t,w),[4,Ng(new Blob([F],{type:"application/json"}),{fileName:w.name,description:"Excalidraw file",extensions:[".excalidraw"]},w.fileHandle)];case 1:return[2,{fileHandle:S.sent()}]}})});return function(t,w){return d.apply(this,arguments)}}(),gn=function(){var d=zb()(function(t){var w;return Xl(this,function(F){switch(F.label){case 0:return[4,Yh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return w=
F.sent(),[2,Hm(w,t)]}})});return function(t){return d.apply(this,arguments)}}(),nm=function(){var d=zb()(function(){var t,w;return Xl(this,function(F){switch(F.label){case 0:return[4,jh.loadLibrary()];case 1:return t=F.sent(),w=JSON.stringify({type:"excalidrawlib",version:1,library:t},null,2),"library.excalidrawlib",[4,Ng(new Blob([w],{type:Pa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return F.sent(),[2]}})});
return function(){return d.apply(this,arguments)}}(),lp=function(){var d=zb()(function(){var t;return Xl(this,function(w){switch(w.label){case 0:return[4,Yh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return t=w.sent(),jh.importLibrary(t),[2]}})});return function(){return d.apply(this,arguments)}}(),Dm=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===
Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Bn=function(){var d=
zb()(function(t){var w;return Dm(this,function(F){switch(F.label){case 0:if("image/png"!==t.type)return[3,6];F.label=1;case 1:return F.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,F.sent().decodePngMetadata(t)];case 3:return[2,F.sent()];case 4:throw"INVALID"===F.sent().message?Error(Mb("alerts.imageDoesNotContainScene")):Error(Mb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,t.text()]:[3,8];case 7:return w=F.sent(),
[3,10];case 8:return[4,new Promise(function(S){var aa=new FileReader;aa.readAsText(t,"utf8");aa.onloadend=function(){aa.readyState===FileReader.DONE&&S(aa.result)}})];case 9:w=F.sent(),F.label=10;case 10:if("image/svg+xml"!==t.type)return[3,15];F.label=11;case 11:return F.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,F.sent().decodeSvgMetadata({svg:w})];case 13:return[2,F.sent()];case 14:throw"INVALID"===F.sent().message?Error(Mb("alerts.imageDoesNotContainScene")):
Error(Mb("alerts.cannotRestoreFromImage"));case 15:return[2,w]}})});return function(t){return d.apply(this,arguments)}}(),Hm=function(){var d=zb()(function(t,w){var F,S;return Dm(this,function(aa){switch(aa.label){case 0:return[4,Bn(t)];case 1:F=aa.sent();try{var wa=S=JSON.parse(F);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(Mb("alerts.couldNotLoadInvalidFile"));var ua=wf(S.elements||[]),Ba=null==w?
void 0:w.appearance,Ma;if(Ma=t.handle){var Ga=["application/json",Pa.LO.excalidraw],gb=Ga.includes;a:{if("string"==typeof t)var mb=t;else{if(t.type){var nb=t.type;break a}mb=t.name||""}nb=/\.(excalidraw|json)$/.test(mb)?"application/json":/\.png$/.test(mb)?"image/png":/\.jpe?g$/.test(mb)?"image/jpeg":/\.svg$/.test(mb)?"image/svg+xml":""}Ma=gb.call(Ga,nb)}return[2,fn({elements:ua,appState:wb(wb({appearance:Ba,fileHandle:Ma?t.handle:null},si(S.appState||{},"export")),w?ji(S.elements||[],w):{})},w)]}catch(Xb){throw console.error(Xb.message),
Error(Mb("alerts.couldNotLoadInvalidFile"));}}})});return function(t,w){return d.apply(this,arguments)}}(),mp=function(){var d=zb()(function(t){var w,F;return Dm(this,function(S){switch(S.label){case 0:return[4,Bn(t)];case 1:if(w=S.sent(),"excalidrawlib"!==(F=JSON.parse(w)).type)throw Error(Mb("alerts.couldNotLoadInvalidFile"));return[2,F]}})});return function(t){return d.apply(this,arguments)}}(),Em=function(){var d=zb()(function(t){return Dm(this,function(w){return[2,new Promise(function(F,S){try{t.toBlob(function(aa){if(!aa)return S(new ln(Mb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));F(aa)})}catch(aa){S(aa)}})]})});return function(t){return d.apply(this,arguments)}}(),Vj=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};
case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?
Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Gm="",Fm=!1,Oh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,Ak="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,
zk=function(){var d=zb()(function(t,w){var F,S,aa;return Vj(this,function(wa){switch(wa.label){case 0:F={type:"excalidraw/elements",created:Date.now(),elements:of(t,w)},Gm=S=JSON.stringify(F),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Fm=!1,[4,Bb(S)];case 2:return wa.sent(),[3,4];case 3:return aa=wa.sent(),Fm=!0,console.error(aa),[3,4];case 4:return[2]}})});return function(t,w){return d.apply(this,arguments)}}(),M=function(){if(!Gm)return{};try{return JSON.parse(Gm)}catch(d){return console.error(d),
{}}},ba=function(d){d=function(t){var w=t.trim().split("\n").map(function(S){return S.trim().split("\t")});if(w.length&&2!==w[0].length&&(w=t.trim().split("\n").map(function(S){return S.trim().split(",")})),0===w.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var F=w[0].length;if(!w.every(function(S){return S.length===F}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};t=Gn(w);return"VALID_SPREADSHEET"!==t.type&&(w=Gn(function(S){for(var aa=[],wa=0;wa<
S[0].length;wa++){for(var ua=[],Ba=0;Ba<S.length;Ba++)ua.push(S[Ba][wa]);aa.push(ua)}return aa}(w)),"VALID_SPREADSHEET"===w.type)?w:t}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Aa=function(){var d=zb()(function(t){var w,F,S;return Vj(this,function(aa){switch(aa.label){case 0:return aa.trys.push([0,5,,6]),t?(F=null===(w=t.clipboardData)||void 0===w?void 0:w.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(S=Oh)?[4,navigator.clipboard.readText()]:[3,3];case 2:S=
aa.sent(),aa.label=3;case 3:F=S,aa.label=4;case 4:return[2,F||""];case 5:return aa.sent(),[2,""];case 6:return[2]}})});return function(t){return d.apply(this,arguments)}}(),$a=function(){var d=zb()(function(t){var w,F,S,aa;return Vj(this,function(wa){switch(wa.label){case 0:return[4,Aa(t)];case 1:if(!(w=wa.sent())||w.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,M()];if(F=ba(w))return[2,F];S=M();try{return aa=JSON.parse(w),"excalidraw/elements"===(null==(ua=aa)?void 0:ua.type)&&(null==
S||!S.created||S.created<aa.created)?[2,{elements:aa.elements}]:[2,S]}catch(Ba){return[2,Fm&&S.elements?S:{text:w}]}}var ua})});return function(t){return d.apply(this,arguments)}}(),sb=function(){var d=zb()(function(t){var w;return Vj(this,function(F){switch(F.label){case 0:return[4,Em(t)];case 1:return w=F.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":w})])];case 2:return F.sent(),[2]}})});return function(t){return d.apply(this,arguments)}}(),Bb=function(){var d=zb()(function(t){var w,
F;return Vj(this,function(S){switch(S.label){case 0:if(w=!1,!Wj)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(t||"")];case 2:return S.sent(),w=!0,[3,4];case 3:return F=S.sent(),console.error(F),[3,4];case 4:if(S=!w){var aa=t||" ",wa="rtl"===document.documentElement.getAttribute("dir");S=document.createElement("textarea");S.style.border="0";S.style.padding="0";S.style.margin="0";S.style.position="absolute";S.style[wa?"right":"left"]="-9999px";S.style.top=
"".concat(window.pageYOffset||document.documentElement.scrollTop,"px");S.style.fontSize="12pt";S.setAttribute("readonly","");S.value=aa;document.body.appendChild(S);aa=!1;try{S.select(),S.setSelectionRange(0,S.value.length),aa=document.execCommand("copy")}catch(ua){console.error(ua)}S=!(S.remove(),aa)}if(S)throw Error("couldn't copy");return[2]}})});return function(t){return d.apply(this,arguments)}}(),dc=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===
Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},rc=function(){var d=
zb()(function(t,w,F,S,aa){var wa,ua,Ba,Ma,Ga,gb,mb,nb,Xb,Sb=aa.exportBackground,qc=aa.exportPadding,Xc=void 0===qc?10:qc,cd=aa.viewBackgroundColor,md=aa.name;qc=aa.scale;var ce=void 0===qc?1:qc,ae=aa.shouldAddWatermark;return dc(this,function(Be){switch(Be.label){case 0:if(0===w.length)throw Error(Mb("alerts.cannotExportEmptyCanvas"));return"svg"!==t&&"clipboard-svg"!==t?[3,7]:(ua=Il,Ba=[w],Ma={exportBackground:Sb,exportWithDarkMode:F.exportWithDarkMode,viewBackgroundColor:cd,exportPadding:Xc,scale:ce,
shouldAddWatermark:ae},F.exportEmbedScene&&"svg"===t?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,Be.sent().encodeSvgMetadata({text:mm(w,F)})];case 2:return Ga=Be.sent(),[3,4];case 3:Ga=void 0,Be.label=4;case 4:return wa=ua.apply(void 0,Ba.concat([(Ma.metadata=Ga,Ma)])),"svg"!==t?[3,6]:[4,Ng(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(md,".svg"),extensions:[".svg"]})];case 5:return Be.sent(),[2];case 6:if("clipboard-svg"===t)return Bb(wa.outerHTML),
[2];Be.label=7;case 7:return(gb=qm(w,F,{exportBackground:Sb,viewBackgroundColor:cd,exportPadding:Xc,scale:ce,shouldAddWatermark:ae})).style.display="none",document.body.appendChild(gb),"png"!==t?[3,13]:(mb="".concat(md,".png"),[4,Em(gb)]);case 8:return nb=Be.sent(),F.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,11];case 9:return[4,Be.sent().encodePngMetadata({blob:nb,metadata:mm(w,F)})];case 10:nb=Be.sent(),Be.label=11;case 11:return[4,Ng(nb,{fileName:mb,extensions:[".png"]})];
case 12:return Be.sent(),[3,17];case 13:if("clipboard"!==t)return[3,17];Be.label=14;case 14:return Be.trys.push([14,16,,17]),[4,sb(gb)];case 15:return Be.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(Xb=Be.sent()).name)throw Xb;throw Error(Mb("alerts.couldNotCopyToClipboard"));case 17:return gb!==S&&gb.remove(),[2]}})});return function(t,w,F,S,aa){return d.apply(this,arguments)}}(),Fc=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===
Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Sc,id,
Md;Dd({name:"changeProjectName",perform:function(d,t,w){return Qg("change","title"),{appState:Ua(Ua({},t),{},{name:w}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;return U().createElement(bh,{label:Mb("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(F){return w(F)}})}});Dd({name:"changeExportBackground",perform:function(d,t,w){return{appState:Ua(Ua({},t),{},{exportBackground:w}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;
return U().createElement("label",null,U().createElement("input",{type:"checkbox",checked:t.exportBackground,onChange:function(F){return w(F.target.checked)}})," ",Mb("labels.withBackground"))}});Dd({name:"changeExportEmbedScene",perform:function(d,t,w){return{appState:Ua(Ua({},t),{},{exportEmbedScene:w}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;return U().createElement("label",{style:{display:"flex"}},U().createElement("input",{type:"checkbox",checked:t.exportEmbedScene,
onChange:function(F){return w(F.target.checked)}})," ",Mb("labels.exportEmbedScene"),U().createElement(Sj,{label:Mb("labels.exportEmbedScene_details"),position:"above",long:!0},U().createElement("div",{className:"TooltipIcon"},Zc)))}});Dd({name:"changeShouldAddWatermark",perform:function(d,t,w){return{appState:Ua(Ua({},t),{},{shouldAddWatermark:w}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;return U().createElement("label",null,U().createElement("input",{type:"checkbox",
checked:t.shouldAddWatermark,onChange:function(F){return w(F.target.checked)}})," ",Mb("labels.addWatermark"))}});Dd({name:"saveScene",perform:(Sc=zb()(function(d,t,w){var F,S,aa;return Fc(this,function(wa){switch(wa.label){case 0:F=!!t.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Yl(d,t)];case 2:return S=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},t),{},{fileHandle:S,toastMessage:F?S.name?Mb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(S.name,'"')):
Mb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(aa=wa.sent())?void 0:aa.name)&&console.error(aa),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,t,w){return Sc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[Ue]&&!d.shiftKey},PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:se,title:Mb("buttons.save"),"aria-label":Mb("buttons.save"),showAriaLabel:Pe(),onClick:function(){return t(null)}})}});Dd({name:"saveAsScene",
perform:(id=zb()(function(d,t,w){var F,S;return Fc(this,function(aa){switch(aa.label){case 0:return aa.trys.push([0,2,,3]),[4,Yl(d,Ua(Ua({},t),{},{fileHandle:null}))];case 1:return F=aa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},t),{},{fileHandle:F})}];case 2:return"AbortError"!==(null==(S=aa.sent())?void 0:S.name)&&console.error(S),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,t,w){return id.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[Ue]},
PanelComponent:function(d){var t=d.updateData;return U().createElement($e,{type:"button",icon:ym,title:Mb("buttons.saveAs"),"aria-label":Mb("buttons.saveAs"),showAriaLabel:Pe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return t(null)}})}});Dd({name:"loadScene",perform:(Md=zb()(function(d,t){var w,F,S,aa;return Fc(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,gn(t)];case 1:return w=wa.sent(),F=w.elements,S=w.appState,
[2,{elements:F,appState:S,commitToHistory:!0}];case 2:return"AbortError"===(null==(aa=wa.sent())?void 0:aa.name)?[2,!1]:[2,{elements:d,appState:Ua(Ua({},t),{},{errorMessage:aa.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,t){return Md.apply(this,arguments)}),keyTest:function(d){return d[Ue]&&"o"===d.key},PanelComponent:function(d){var t=d.updateData;d.appState;return U().createElement($e,{type:"button",icon:km,title:Mb("buttons.load"),"aria-label":Mb("buttons.load"),showAriaLabel:Pe(),
onClick:t})}});Dd({name:"exportWithDarkMode",perform:function(d,t,w){return{appState:Ua(Ua({},t),{},{exportWithDarkMode:w}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;return U().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},U().createElement(hk,{value:t.exportWithDarkMode?"dark":"light",onChange:function(F){w("dark"===F)},title:Mb("labels.toggleExportColorScheme")}))}});var Vd="{}",kf=Dd({name:"copyStyles",
perform:function(d,t){d=d.find(function(w){return t.selectedElementIds[w.id]});return d&&(Vd=JSON.stringify(d)),{appState:ob(ob({},t),{},{toastMessage:Mb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[Ue]&&d.altKey&&"KeyC"===d.code}}),af=Dd({name:"pasteStyles",perform:function(d,t){var w=JSON.parse(Vd);return"text"!==(null==w?void 0:w.type)&&"diamond"!==(null==w?void 0:w.type)&&"rectangle"!==(null==w?void 0:w.type)&&"ellipse"!==(null==
w?void 0:w.type)&&"arrow"!==(null==w?void 0:w.type)&&"draw"!==(null==w?void 0:w.type)&&"line"!==(null==w?void 0:w.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(F){return t.selectedElementIds[F.id]?(F=tg(F,{backgroundColor:null==w?void 0:w.backgroundColor,strokeWidth:null==w?void 0:w.strokeWidth,strokeColor:null==w?void 0:w.strokeColor,strokeStyle:null==w?void 0:w.strokeStyle,fillStyle:null==w?void 0:w.fillStyle,opacity:null==w?void 0:w.opacity,roughness:null==w?void 0:w.roughness}),
Xd(F)&&(bf(F,{fontSize:(null==w?void 0:w.fontSize)||Pa.n5,fontFamily:(null==w?void 0:w.fontFamily)||Pa.rk,textAlign:(null==w?void 0:w.textAlign)||Pa.Hg}),pk(F)),F):F}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[Ue]&&d.altKey&&"KeyV"===d.code}}),bi=function(d){return U().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},U().createElement("div",{onClick:d.onClick},Zc))};Dd({name:"toggleCanvasMenu",perform:function(d,t){return{appState:gc(gc({},
t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var t=d.appState;d=d.updateData;return U().createElement($e,{type:"button",icon:Qk,"aria-label":Mb("buttons.menu"),onClick:d,selected:"canvas"===t.openMenu})}});Dd({name:"toggleEditMenu",perform:function(d,t){return{appState:gc(gc({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var t=d.elements,w=d.appState;d=d.updateData;return U().createElement($e,
{visible:hh(w,Wd(t)),type:"button",icon:Ch,"aria-label":Mb("buttons.edit"),onClick:d,selected:"shape"===w.openMenu})}});Dd({name:"toggleFullScreen",perform:function(){return oh()||document.documentElement.requestFullscreen(),oh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[Ue]}});Dd({name:"toggleShortcuts",perform:function(d,t){return{appState:gc(gc({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;
return U().createElement(bi,{title:Mb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Uk=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},ak=function(d,t){d=of(Wd(d),t);return 2<=d.length&&!function(w){if(2<=w.length)for(var F=function(ua){if(w.reduce(function(Ba,Ma){return Ba&&Ma.groupIds.includes(ua)},!0))return{value:!0}},S=0,aa=w[0].groupIds;S<aa.length;S++){var wa=F(aa[S]);if("object"==typeof wa)return wa.value}return!1}(d)},Wf=Dd({name:"group",
perform:function(d,t){var w=of(Wd(d),t);if(2>w.length)return{appState:t,elements:d,commitToHistory:!1};var F=Ii(t);if(1===F.length&&(F=new Set(ck(d,F[0]).map(function(wa){return wa.id})),w=new Set(w.map(function(wa){return wa.id})),(new Set(Uk(Uk([],Array.from(F)),Array.from(w)))).size===F.size))return{appState:t,elements:d,commitToHistory:!1};var S=ui();F=d.map(function(wa){if(t.selectedElementIds[wa.id]){var ua=t.editingGroupId;var Ba=ql([],wa.groupIds);ua=ua?Ba.indexOf(ua):-1;Ba=(Ba.splice(-1<
ua?ua:Ba.length,0,S),Ba);wa=tg(wa,{groupIds:Ba})}return wa});d=ck(F,S);var aa=F.lastIndexOf(d[d.length-1]);w=F.slice(aa+1);F=F.slice(0,aa).filter(function(wa){return!wa.groupIds.includes(S)});d=Uk(Uk(Uk([],F),d),w);return{appState:bk(S,zc(zc({},t),{},{selectedGroupIds:{}}),Wd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,t){return ak(d,t)},keyTest:function(d){return!d.shiftKey&&d[Ue]&&"KeyG"===d.code},PanelComponent:function(d){var t=d.elements,
w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!ak(t,w),type:"button",icon:U().createElement(Fd,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.group")," — ").concat(Pd("CtrlOrCmd+G")),"aria-label":Mb("labels.group"),visible:lg(Wd(t),w)})}}),vi=Dd({name:"ungroup",perform:function(d,t){if(0===Ii(t).length)return{appState:t,elements:d,commitToHistory:!1};d=d.map(function(w){var F=function(S,aa){return S.filter(function(wa){return!aa[wa]})}(w.groupIds,
t.selectedGroupIds);return F.length===w.groupIds.length?w:tg(w,{groupIds:F})});return{appState:Qh(zc(zc({},t),{},{selectedGroupIds:{}}),Wd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[Ue]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,t){return 0<Ii(t).length},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{type:"button",hidden:0===Ii(w).length,icon:U().createElement(di,{appearance:w.appearance}),
onClick:function(){return F(null)},title:"".concat(Mb("labels.ungroup")," — ").concat(Pd("CtrlOrCmd+Shift+G")),"aria-label":Mb("labels.ungroup"),visible:lg(Wd(t),w)})}}),Hk=(h(1395),function(d){var t=d.children,w=d.color,F=d.border;d=d.onClick;return U().createElement("div",{className:"Avatar",style:{background:w,border:"1px solid ".concat(F)},onClick:d},t)});Dd({name:"goToCollaborator",perform:function(d,t,w){return w?{appState:Tc(Tc(Tc({},t),Ui({scenePoint:w,viewportDimensions:{width:t.width,height:t.height},
zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(d){var t=d.appState,w=d.updateData;d=d.id;if(!d)return null;var F=t.collaborators.get(d);if(!F)return null;d=Pi(d,t);t=d.background;d=d.stroke;var S=function(aa){if(!aa)return"?";aa=aa.trim().split(" ");return 2>aa.length?aa[0].substring(0,2).toUpperCase():(aa[0][0]+aa[aa.length-1][0]).toUpperCase()}(F.username);return U().createElement(Hk,{color:t,border:d,
onClick:function(){return w(F.pointer)}},S)}});var Jm=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},Fo=Dd({name:"addToLibrary",perform:function(d,t){var w=of(Wd(d),t);return jh.loadLibrary().then(function(F){jh.saveLibrary(Jm(Jm([],F),[w.map(Gj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),En=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},Yn=function(d){var t=new Map;return d.forEach(function(w){var F=0===w.groupIds.length?w.id:
w.groupIds[w.groupIds.length-1],S=t.get(F)||[];t.set(F,En(En([],S),[w]))}),Array.from(t.values())},vf=function(d,t,w){var F,S,aa,wa=w.axis;w=w.position;d=Xj(d);var ua="x"===wa?["minX","maxX"]:["minY","maxY"],Ba=ua[0];ua=ua[1];return kc(kc({},{x:0,y:0}),{},"start"===w?((F={})[wa]=t[Ba]-d[Ba],F):"end"===w?((S={})[wa]=t[ua]-d[ua],S):((aa={})[wa]=(t[Ba]+t[ua])/2-(d[Ba]+d[ua])/2,aa))},Xj=function(d){d=zg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Th=function(d,t){return 1<of(Wd(d),t).length},
Hi=function(d,t,w){t=function(S,aa){var wa=Yn(S),ua=Xj(S);return wa.flatMap(function(Ba){var Ma=vf(Ba,ua,aa);return Ba.map(function(Ga){return tg(Ga,{x:Ga.x+Ma.x,y:Ga.y+Ma.y})})})}(of(Wd(d),t),w);var F=Xi(t);return d.map(function(S){return F[S.id]||S})},nn=(Dd({name:"alignTop",perform:function(d,t){return{appState:t,elements:Hi(d,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Ue]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var t=d.elements,w=d.appState,
F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement(Dh,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.alignTop")," — ").concat(Pd("CtrlOrCmd+Shift+Up")),"aria-label":Mb("labels.alignTop"),visible:lg(Wd(t),w)})}}),Dd({name:"alignBottom",perform:function(d,t){return{appState:t,elements:Hi(d,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Ue]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var t=
d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement(wg,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.alignBottom")," — ").concat(Pd("CtrlOrCmd+Shift+Down")),"aria-label":Mb("labels.alignBottom"),visible:lg(Wd(t),w)})}}),Dd({name:"alignLeft",perform:function(d,t){return{appState:t,elements:Hi(d,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Ue]&&d.shiftKey&&
"ArrowLeft"===d.key},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement(Jj,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.alignLeft")," — ").concat(Pd("CtrlOrCmd+Shift+Left")),"aria-label":Mb("labels.alignLeft"),visible:lg(Wd(t),w)})}}),Dd({name:"alignRight",perform:function(d,t){return{appState:t,elements:Hi(d,t,{position:"end",axis:"x"}),commitToHistory:!0}},
keyTest:function(d){return d[Ue]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement(on,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.alignRight")," — ").concat(Pd("CtrlOrCmd+Shift+Right")),"aria-label":Mb("labels.alignRight"),visible:lg(Wd(t),w)})}}),Dd({name:"alignVerticallyCentered",perform:function(d,t){return{appState:t,
elements:Hi(d,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement(Eh,{appearance:w.appearance}),onClick:function(){return F(null)},title:Mb("labels.centerVertically"),"aria-label":Mb("labels.centerVertically"),visible:lg(Wd(t),w)})}}),Dd({name:"alignHorizontallyCentered",perform:function(d,t){return{appState:t,elements:Hi(d,t,{position:"center",
axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Th(t,w),type:"button",icon:U().createElement($c,{appearance:w.appearance}),onClick:function(){return F(null)},title:Mb("labels.centerHorizontally"),"aria-label":Mb("labels.centerHorizontally"),visible:lg(Wd(t),w)})}}),function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d}),aq=function(d){var t=new Map;return d.forEach(function(w){var F=
0===w.groupIds.length?w.id:w.groupIds[w.groupIds.length-1],S=t.get(F)||[];t.set(F,nn(nn([],S),[w]))}),Array.from(t.values())},sj=function(d){var t=zg(d);d=t[0];var w=t[1],F=t[2];t=t[3];return{minX:d,minY:w,maxX:F,maxY:t,width:F-d,height:t-w,midX:(d+F)/2,midY:(w+t)/2}},Eo=function(d,t){return 1<of(Wd(d),t).length},Cn=function(d,t,w){t=function(S,aa){var wa="x"===aa.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],ua=wa[0],Ba=wa[1],Ma=wa[2],Ga=wa[3],gb=sj(S);S=aq(S).map(function(md){return[md,
sj(md)]}).sort(function(md,ce){return md[1][Ba]-ce[1][Ba]});for(var mb=wa=0;mb<S.length;mb++)wa+=S[mb][1][Ga];var nb=(gb[Ga]-wa)/(S.length-1);if(0>nb){var Xb=S.findIndex(function(md){return md[1][ua]===gb[ua]}),Sb=S.findIndex(function(md){return md[1][Ma]===gb[Ma]}),qc=(S[Sb][1][Ba]-S[Xb][1][Ba])/(S.length-1),Xc=S[Xb][1][Ba];return S.flatMap(function(md,ce){var ae=md[0];md=md[1];var Be={x:0,y:0};return ce!==Xb&&ce!==Sb&&(Xc+=qc,Be[aa.axis]=Xc-md[Ba]),ae.map(function(ye){return tg(ye,{x:ye.x+Be.x,
y:ye.y+Be.y})})})}var cd=gb[ua];return S.flatMap(function(md){var ce=md[0];md=md[1];var ae={x:0,y:0};return ae[aa.axis]=cd-md[ua],cd+=nb,cd+=md[Ga],ce.map(function(Be){return tg(Be,{x:Be.x+ae.x,y:Be.y+ae.y})})})}(of(Wd(d),t),w);var F=Xi(t);return d.map(function(S){return F[S.id]||S})},Wn=(Dd({name:"distributeHorizontally",perform:function(d,t){return{appState:t,elements:Cn(d,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var t=
d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Eo(t,w),type:"button",icon:U().createElement(Rc,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.distributeHorizontally")," — ").concat(Pd("Alt+H")),"aria-label":Mb("labels.distributeHorizontally"),visible:lg(Wd(t),w)})}}),Dd({name:"distributeVertically",perform:function(d,t){return{appState:t,elements:Cn(d,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&
"KeyV"===d.code},PanelComponent:function(d){var t=d.elements,w=d.appState,F=d.updateData;return U().createElement($e,{hidden:!Eo(t,w),type:"button",icon:U().createElement(yd,{appearance:w.appearance}),onClick:function(){return F(null)},title:"".concat(Mb("labels.distributeVertically")," — ").concat(Pd("Alt+V")),"aria-label":Mb("labels.distributeVertically"),visible:lg(Wd(t),w)})}}),function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===
Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),jn=
Dd({name:"copy",perform:function(d,t){return zk(Wd(d),t),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),$p=Dd({name:"cut",perform:function(d,t,w,F){return jn.perform(d,t,w,F),bm.perform(d,t,w,F)},contextItemLabel:"labels.cut",keyTest:function(d){return d[Ue]&&"KeyX"===d.code}}),qp=Dd({name:"copyAsSvg",perform:function(){var d=zb()(function(t,w,F,S){var aa,wa;return Wn(this,function(ua){switch(ua.label){case 0:if(!S.canvas)return[2,{commitToHistory:!1}];aa=of(Wd(t),w);ua.label=1;case 1:return ua.trys.push([1,
3,,4]),[4,rc("clipboard-svg",aa.length?aa:Wd(t),w,S.canvas,w)];case 2:return ua.sent(),[2,{commitToHistory:!1}];case 3:return wa=ua.sent(),console.error(wa),[2,{appState:Zd(Zd({},w),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(t,w,F,S){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),pp=Dd({name:"copyAsPng",perform:function(){var d=zb()(function(t,w,F,S){var aa,wa;return Wn(this,function(ua){switch(ua.label){case 0:if(!S.canvas)return[2,
{commitToHistory:!1}];aa=of(Wd(t),w);ua.label=1;case 1:return ua.trys.push([1,3,,4]),[4,rc("clipboard",aa.length?aa:Wd(t),w,S.canvas,w)];case 2:return ua.sent(),[2,{appState:Zd(Zd({},w),{},{toastMessage:Mb("toast.copyToClipboardAsPng",{exportSelection:aa.length?Mb("toast.selection"):Mb("toast.canvas"),exportColorScheme:w.exportWithDarkMode?Mb("buttons.darkMode"):Mb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=ua.sent(),console.error(wa),[2,{appState:Zd(Zd({},w),{},{errorMessage:wa.message}),
commitToHistory:!1}];case 4:return[2]}})});return function(t,w,F,S){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),np=Dd({name:"gridMode",perform:function(d,t){return Qg("view","mode","grid"),{appState:Mc(Mc({},t),{},{gridSize:this.checked(t)?null:Pa.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[Ue]&&"Quote"===d.code}}),
fe=Dd({name:"zenMode",perform:function(d,t){return Qg("view","mode","zen"),{appState:ub(ub({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[Ue]&&d.altKey&&"KeyZ"===d.code}}),Xn=Dd({name:"stats",perform:function(d,t){return{appState:Ub(Ub({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),op=function(d,
t,w){if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){w=w();if(null===w)return{commitToHistory:!1};var F=Xi(d),S=w.elements,aa=Xi(S);d=d.filter(function(wa){return!aa.hasOwnProperty(wa.id)});S=S.map(function(wa){return tg(F[wa.id]||wa,wa)}).concat(d.map(function(wa){return tg(wa,{isDeleted:!0})}));return oj(S,d),{elements:S,appState:nd(nd({},t),w.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},pm=function(){function d(t,w,F,S){var aa=this;this.actions=
{};this.renderAction=function(wa,ua){if(aa.actions[wa]&&"PanelComponent"in aa.actions[wa]){var Ba=aa.actions[wa];wa=Ba.PanelComponent;return U().createElement(wa,{elements:aa.getElementsIncludingDeleted(),appState:aa.getAppState(),updateData:function(Ma){aa.updater(Ba.perform(aa.getElementsIncludingDeleted(),aa.getAppState(),Ma,aa.app))},id:ua})}return null};this.updater=function(wa){if(!(wa&&"then"in wa))return t(wa);wa.then(function(ua){return t(ua)})};this.getAppState=w;this.getElementsIncludingDeleted=
F;this.app=S}return d.prototype.registerAction=function(t){this.actions[t.name]=t},d.prototype.registerAll=function(t){var w=this;t.forEach(function(F){return w.registerAction(F)})},d.prototype.handleKeyDown=function(t){var w=this,F=Object.values(this.actions).sort(function(S,aa){return(aa.keyPriority||0)-(S.keyPriority||0)}).filter(function(S){return S.keyTest&&S.keyTest(t,w.getAppState(),w.getElementsIncludingDeleted())});return 0!==F.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Pa.EH).includes(F[0].name))&&
(t.preventDefault(),this.updater(F[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(t){this.updater(t.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Mm=function(d){d=Array.from(d.values());return{x:ao(d,function(t){return t.x})/d.length,y:ao(d,function(t){return t.y})/d.length}},Zn=function(d){var t=d[0];d=d[1];return Math.hypot(t.x-d.x,t.y-d.y)},ao=function(d,t){return d.reduce(function(w,
F){return w+t(F)},0)},Go,bq=function(){function d(){var t=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(w,F){return t.dehydrateHistoryEntry({appState:{selectedElementIds:w.selectedElementIds,viewBackgroundColor:w.viewBackgroundColor,editingLinearElement:w.editingLinearElement,editingGroupId:w.editingGroupId,name:w.name},elements:F.reduce(function(S,aa){if(Dg(aa)&&w.multiElement&&w.multiElement.id===aa.id){if(w.multiElement&&
w.multiElement.id===aa.id&&2>aa.points.length)return S;S.push(ke(ke({},aa),{},{points:aa.lastCommittedPoint!==aa.points[aa.points.length-1]?aa.points.slice(0,-1):aa.points}))}else S.push(aa);return S},[])})}}return d.prototype.hydrateHistoryEntry=function(t){var w=t.elements,F=this;return{appState:JSON.parse(t.appState),elements:w.map(function(S){var aa,wa=null===(aa=F.elementCache.get(S.id))||void 0===aa?void 0:aa.get(S.versionNonce);if(!wa)throw Error("Element not found: ".concat(S.id,":").concat(S.versionNonce));
return wa})}},d.prototype.dehydrateHistoryEntry=function(t){var w=t.elements,F=this;return{appState:JSON.stringify(t.appState),elements:w.map(function(S){F.elementCache.has(S.id)||F.elementCache.set(S.id,new Map);var aa=F.elementCache.get(S.id);return aa.has(S.versionNonce)||aa.set(S.versionNonce,Gj(S)),{id:S.id,versionNonce:S.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var t=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(w){return t.hydrateHistoryEntry(w)}),
redoStack:this.redoStack.map(function(w){return t.hydrateHistoryEntry(w)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(t){var w,F=this.lastEntry;if(!F||t.elements.length!==F.elements.length)return!0;for(var S=t.elements.length-1;-1<S;S--){var aa=t.elements[S],wa=F.elements[S];if(!aa||!wa||aa.id!==wa.id||aa.versionNonce!==wa.versionNonce)return!0}for(w in t.appState){var ua,Ba;
if(("editingLinearElement"!==w||(null===(ua=t.appState[w])||void 0===ua?void 0:ua.elementId)!==(null===(Ba=F.appState[w])||void 0===Ba?void 0:Ba.elementId))&&"selectedElementIds"!==w&&t.appState[w]!==F.appState[w])return!0}return!1},d.prototype.pushEntry=function(t,w){t=this.generateEntry(t,w);(w=this.hydrateHistoryEntry(t))&&this.shouldCreateEntry(w)&&(this.stateHistory.push(t),this.lastEntry=w,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var t=this.redoStack.pop();return void 0!==t?(this.stateHistory.push(t),this.hydrateHistoryEntry(t)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var t=this.stateHistory.pop(),w=this.stateHistory[this.stateHistory.length-1];return void 0!==t?(this.redoStack.push(t),this.hydrateHistoryEntry(w)):null},d.prototype.setCurrentState=function(t,w){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(t,
w))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(t,w){this.recording&&(this.pushEntry(t,w),this.recording=!1)},d}(),rm=[{icon:U().createElement("svg",{viewBox:"0 0 320 512",className:""},U().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:U().createElement("svg",{viewBox:"0 0 448 512"},U().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:U().createElement("svg",{viewBox:"0 0 223.646 223.646"},U().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:U().createElement("svg",{viewBox:"0 0 512 512"},U().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:U().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},U().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:U().createElement("svg",{viewBox:"0 0 6 6"},
U().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:U().createElement("svg",{viewBox:"0 0 512 512"},U().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:U().createElement("svg",{viewBox:"0 0 448 512"},U().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Do=(h(4518),{cut:[Pd("CtrlOrCmd+X")],copy:[Pd("CtrlOrCmd+C")],
paste:[Pd("CtrlOrCmd+V")],copyStyles:[Pd("CtrlOrCmd+Alt+C")],pasteStyles:[Pd("CtrlOrCmd+Alt+V")],selectAll:[Pd("CtrlOrCmd+A")],deleteSelectedElements:[Pd("Del")],duplicateSelection:[Pd("CtrlOrCmd+D"),Pd("Alt+".concat(Mb("helpDialog.drag")))],sendBackward:[Pd("CtrlOrCmd+[")],bringForward:[Pd("CtrlOrCmd+]")],sendToBack:[Pd(Jg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Pd(Jg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Pd("Shift+Alt+C")],copyAsSvg:[],group:[Pd("CtrlOrCmd+G")],ungroup:[Pd("CtrlOrCmd+Shift+G")],
gridMode:[Pd("CtrlOrCmd+'")],zenMode:[Pd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Pd("Alt+R")]}),Zp=function(d){var t,w=d.options,F=d.onCloseRequest,S=d.top,aa=d.left,wa=d.actionManager,ua=d.appState;d=!(null===(t=document.querySelector(".excalidraw"))||void 0===t||!t.classList.contains("Appearance_dark"));return U().createElement("div",{className:Lc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},U().createElement(fb,{onCloseRequest:F,top:S,left:aa,fitInViewport:!0},U().createElement("ul",
{className:"context-menu",onContextMenu:function(Ba){return Ba.preventDefault()}},w.map(function(Ba,Ma){var Ga;if("separator"===Ba)return U().createElement("hr",{key:Ma,className:"context-menu-option-separator"});var gb,mb=Ba.name,nb=Ba.contextItemLabel?Mb(Ba.contextItemLabel):"";return U().createElement("li",{key:Ma,"data-testid":mb,onClick:F},U().createElement("button",{className:Lc("context-menu-option",{dangerous:"deleteSelectedElements"===mb,checkmark:null===(Ga=Ba.checked)||void 0===Ga?void 0:
Ga.call(Ba,ua)}),onClick:function(){return wa.executeAction(Ba)}},U().createElement("div",{className:"context-menu-option__label"},nb),U().createElement("kbd",{className:"context-menu-option__shortcut"},mb?(gb=Do[mb])&&0<gb.length?gb[0]:"":"")))}))))},Co=function(){if(Go)return Go;var d=document.createElement("div");return document.body.appendChild(d),Go=d},Km=function(){(0,Tf.unmountComponentAtNode)(Co())};const Dn=function(d){var t=[];d.options.forEach(function(w){w&&t.push(w)});t.length&&(0,Tf.render)(U().createElement(Zp,
{top:d.top,left:d.left,options:t,onCloseRequest:Km,actionManager:d.actionManager,appState:d.appState}),Co())};h(1575);const Vk=function(d){var t=d.children,w=d.gap,F=d.align,S=d.justifyContent,aa=d.className;d=d.style;return U().createElement("div",{className:Lc("Stack Stack_horizontal",aa),style:Pc({"--gap":w,alignItems:F,justifyContent:S},d)},t)},Wk=function(d){var t=d.children,w=d.gap,F=d.align,S=d.justifyContent;d=d.className;return U().createElement("div",{className:Lc("Stack Stack_vertical",
d),style:{"--gap":w,justifyItems:F,justifyContent:S}},t)};var $q=function(d){var t=d.appState,w=d.renderAction,F=d.elementType;d=kk(Wd(d.elements),t);t=!!t.editingElement;var S=Pe(),aa="rtl"===document.documentElement.getAttribute("dir"),wa=Ij(F)||d.some(function(Ba){return Ij(Ba.type)&&(Ma=Ba.backgroundColor,Ga=5===Ma.length&&"0"===Ma.substr(4,1),gb=9===Ma.length&&"00"===Ma.substr(7,2),!(Ga||gb||Ma===Bk.elementBackground[0]));var Ma,Ga,gb}),ua=Ij(F)||d.some(function(Ba){return Ij(Ba.type)});return U().createElement("div",
{className:"panelColumn"},w("changeStrokeColor"),ua&&w("changeBackgroundColor"),wa&&w("changeFillStyle"),(Mf(F)||d.some(function(Ba){return Mf(Ba.type)}))&&U().createElement(U().Fragment,null,w("changeStrokeWidth"),w("changeStrokeStyle"),w("changeSloppiness")),(qk(F)||d.some(function(Ba){return qk(Ba.type)}))&&U().createElement(U().Fragment,null,w("changeSharpness")),("text"===F||d.some(function(Ba){return"text"===Ba.type}))&&U().createElement(U().Fragment,null,w("changeFontSize"),w("changeFontFamily"),
w("changeTextAlign")),("arrow"===F||d.some(function(Ba){return"arrow"===Ba.type}))&&U().createElement(U().Fragment,null,w("changeArrowhead")),w("changeOpacity"),U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.layers")),U().createElement("div",{className:"buttonList"},w("sendToBack"),w("sendBackward"),w("bringToFront"),w("bringForward"))),1<d.length&&U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.align")),U().createElement("div",{className:"buttonList"},
aa?U().createElement(U().Fragment,null,w("alignRight"),w("alignHorizontallyCentered"),w("alignLeft")):U().createElement(U().Fragment,null,w("alignLeft"),w("alignHorizontallyCentered"),w("alignRight")),2<d.length&&w("distributeHorizontally"),U().createElement("div",{className:"iconRow"},w("alignTop"),w("alignVerticallyCentered"),w("alignBottom"),2<d.length&&w("distributeVertically")))),!S&&!t&&0<d.length&&U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.actions")),U().createElement("div",
{className:"buttonList"},w("duplicateSelection"),w("deleteSelectedElements"),w("group"),w("ungroup"))))},Sr=U().createElement("svg",{viewBox:"0 0 512 512"},U().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Yp=function(d){var t=d.canvas,w=d.elementType,F=d.setAppState,S=d.isLibraryOpen;return U().createElement(U().Fragment,null,rm.map(function(aa,wa){var ua=aa.value,Ba=aa.icon,Ma=aa.key;aa=Mb("toolBar.".concat(ua));Ma="".concat(fj("string"==typeof Ma?Ma:Ma[0])," ").concat(Mb("helpDialog.or")," ").concat(wa+1);return U().createElement($e,{className:"Shape",key:ua,type:"radio",icon:Ba,checked:w===ua,name:"editor-current-shape",title:"".concat(fj(aa)," — ").concat(Ma),keyBindingLabel:"".concat(wa+1),"aria-label":fj(aa),
"aria-keyshortcuts":Ma,"data-testid":ua,onChange:function(){F({elementType:ua,multiElement:null,selectedElementIds:{}});ri(t,ua);F({})}})}),U().createElement($e,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(fj(Mb("toolBar.library"))," — 9"),"aria-label":fj(Mb("toolBar.library")),onClick:function(){F({isLibraryOpen:!S})}}))},Rr=function(d){var t=d.renderAction;d=d.zoom;return U().createElement(Wk,
{gap:1},U().createElement(Vk,{gap:1,align:"center"},t("zoomIn"),t("zoomOut"),t("resetZoom"),U().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Zq=function(d){var t=d.appState,w=d.setAppState;d=d.actionManager;return U().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),U().createElement("div",{style:{marginInlineStart:"0.25rem"}},U().createElement(hk,{value:t.appearance,onChange:function(F){w({appearance:F})}})))};h(3211);
const ar=function(d){var t=d.isCollaborating,w=d.collaboratorCount;d=d.onClick;return U().createElement(U().Fragment,null,U().createElement($e,{className:Lc("CollabButton",{"is-collaborating":t}),onClick:d,icon:Rj,type:"button",title:Mb("labels.liveCollaboration"),"aria-label":Mb("labels.liveCollaboration"),showAriaLabel:Pe()},0<w&&U().createElement("div",{className:"CollabButton-collaborators"},w)))};h(3040);h(7428);var $k=U().forwardRef(function(d,t){var w=d.children,F=d.padding,S=d.className;d=
d.style;return U().createElement("div",{className:Lc("Island",S),style:qb({"--padding":F},d),ref:t},w)}),Tr=(h(205),function(d){var t=rp();return t?(0,Tf.createPortal)(U().createElement("div",{className:Lc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(w){"Escape"===w.key&&(w.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},U().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),U().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),t):null}),rp=function(){var d=(0,ea.useState)(null),t=d[0],w=d[1];return(0,ea.useLayoutEffect)(function(){var F,S=!(null===(F=document.querySelector(".excalidraw"))||void 0===F||!F.classList.contains("Appearance_dark")),aa=document.createElement("div");return aa.classList.add("excalidraw","excalidraw-modal-container"),S&&(aa.classList.add("Appearance_dark"),aa.classList.add("Appearance_dark-background-none")),
document.body.appendChild(aa),w(aa),function(){document.body.removeChild(aa)}},[]),t},B=function(d){var t=function(){var S=(0,ea.useState)(null),aa=S[1];return[S[0],(0,ea.useCallback)(function(wa){return aa(wa)},[])]}(),w=t[0];t=t[1];(0,ea.useEffect)(function(){if(w){var S=F(w);0<S.length&&!1!==d.autofocus&&(S[1]||S[0]).focus();var aa=function(wa){if("Tab"===wa.key){var ua=F(w),Ba=document.activeElement,Ma=ua.findIndex(function(Ga){return Ga===Ba});0===Ma&&wa.shiftKey?(ua[ua.length-1].focus(),wa.preventDefault()):
Ma!==ua.length-1||wa.shiftKey||(ua[0].focus(),wa.preventDefault())}};return w.addEventListener("keydown",aa),function(){return w.removeEventListener("keydown",aa)}}},[w,d.autofocus]);var F=function(S){return(S=S.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(S):[]};return U().createElement(Tr,{className:Lc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},U().createElement($k,{ref:t},U().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},U().createElement("span",{className:"Dialog__titleContent"},d.title),U().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Mb("buttons.close")},Pe()?aj:Qj)),U().createElement("div",{className:"Dialog__content"},d.children)))},N=function(d){var t=d.message,w=d.onClose,F=(0,ea.useState)(!!t);d=F[0];var S=F[1];F=U().useCallback(function(){S(!1);w&&w()},[w]);return U().createElement(U().Fragment,null,d&&U().createElement(B,
{small:!0,onCloseRequest:F,title:Mb("errorDialog.title")},U().createElement("div",null,t.split("\n").map(function(aa){return U().createElement(U().Fragment,null,aa,U().createElement("br",null))}))))},la=(h(8623),[1,2,3]),Fa=la.includes(devicePixelRatio)?devicePixelRatio:1,Xa="filter"in document.createElement("canvas").getContext("2d"),pb=function(){return U().createElement("div",null,U().createElement("h3",null,Mb("canvasError.cannotShowPreview")),U().createElement("p",null,U().createElement("span",
null,Mb("canvasError.canvasTooBig"))),U().createElement("em",null,"(",Mb("canvasError.canvasTooBigTip"),")"))},Ab=function(d,t){(0,Tf.unmountComponentAtNode)(t);t.innerHTML="";d instanceof HTMLCanvasElement?t.appendChild(d):(0,Tf.render)(U().createElement(pb,null),t)},Vb=function(d){var t=d.elements,w=d.appState,F=d.exportPadding,S=void 0===F?10:F;F=d.actionManager;var aa=d.onExportToPng,wa=d.onExportToSvg,ua=d.onExportToClipboard,Ba=d.onExportToBackend,Ma=lg(t,w);d=(0,ea.useState)(Fa);var Ga=d[0],
gb=d[1];d=(0,ea.useState)(Ma);var mb=d[0],nb=d[1],Xb=(0,ea.useRef)(null),Sb=w.exportBackground,qc=w.viewBackgroundColor,Xc=w.shouldAddWatermark,cd=mb?of(t,w):t;return(0,ea.useEffect)(function(){nb(Ma)},[Ma]),(0,ea.useEffect)(function(){var md=Xb.current;if(md)try{var ce=qm(cd,w,{exportBackground:Sb,viewBackgroundColor:qc,exportPadding:S,scale:Ga,shouldAddWatermark:Xc});Em(ce).then(function(){Ab(ce,md)}).catch(function(ae){console.error(ae);Ab(new ln,md)})}catch(ae){console.error(ae),Ab(new ln,md)}},
[w,cd,Sb,S,qc,Ga,Xc]),U().createElement("div",{className:"ExportDialog"},U().createElement("div",{className:"ExportDialog__preview",ref:Xb}),Xa&&F.renderAction("exportWithDarkMode"),U().createElement(Wk,{gap:2,align:"center"},U().createElement("div",{className:"ExportDialog__actions"},U().createElement(Vk,{gap:2},U().createElement($e,{type:"button",label:"PNG",title:Mb("buttons.exportToPng"),"aria-label":Mb("buttons.exportToPng"),onClick:function(){return aa(cd,Ga)}}),U().createElement($e,{type:"button",
label:"SVG",title:Mb("buttons.exportToSvg"),"aria-label":Mb("buttons.exportToSvg"),onClick:function(){return wa(cd,Ga)}}),Ak&&U().createElement($e,{type:"button",icon:sk,title:Mb("buttons.copyPngToClipboard"),"aria-label":Mb("buttons.copyPngToClipboard"),onClick:function(){return ua(cd,Ga)}}),Ba&&U().createElement($e,{type:"button",icon:ll,title:Mb("buttons.getShareableLink"),"aria-label":Mb("buttons.getShareableLink"),onClick:function(){return Ba(cd)}})),U().createElement("div",{className:"ExportDialog__name"},
F.renderAction("changeProjectName")),U().createElement(Vk,{gap:2},la.map(function(md){var ce=function(Be,ye,We,sd){Be=Vn(Be,We);ye=dn(Be,ye,We).map(function(Qd){return Math.trunc(Qd*sd)});return[ye[2],ye[3]]}(cd,S,Xc,md),ae=ce[0];ce=ce[1];ae="".concat(Mb("buttons.scale")," ").concat(md,"x (").concat(ae,"x").concat(ce,")");return U().createElement($e,{key:md,size:"s",type:"radio",icon:"".concat(md,"x"),name:"export-canvas-scale",title:ae,"aria-label":ae,id:"export-canvas-scale",checked:md===Ga,onChange:function(){return gb(md)}})}))),
F.renderAction("changeExportBackground"),Ma&&U().createElement("div",null,U().createElement("label",null,U().createElement("input",{type:"checkbox",checked:mb,onChange:function(md){return nb(md.currentTarget.checked)}})," ",Mb("labels.onlySelected"))),F.renderAction("changeExportEmbedScene"),F.renderAction("changeShouldAddWatermark")))},sc=function(d){var t=d.elements,w=d.appState,F=d.exportPadding;F=void 0===F?10:F;var S=d.actionManager,aa=d.onExportToPng,wa=d.onExportToSvg,ua=d.onExportToClipboard;
d=d.onExportToBackend;var Ba=(0,ea.useState)(!1),Ma=Ba[0],Ga=Ba[1],gb=(0,ea.useRef)(null);Ba=U().useCallback(function(){var mb;Ga(!1);null===(mb=gb.current)||void 0===mb||mb.focus()},[]);return U().createElement(U().Fragment,null,U().createElement($e,{onClick:function(){Ga(!0)},icon:lh,type:"button","aria-label":Mb("buttons.export"),showAriaLabel:Pe(),title:Mb("buttons.export"),ref:gb}),Ma&&U().createElement(B,{onCloseRequest:Ba,title:Mb("buttons.export")},U().createElement(Vb,{elements:t,appState:w,
exportPadding:F,actionManager:S,onExportToPng:aa,onExportToSvg:wa,onExportToClipboard:ua,onExportToBackend:d,onCloseRequest:Ba})))},Vc=(h(4193),function(d){var t=d.children,w=d.side;d=d.className;return U().createElement("div",{className:Lc("FixedSideContainer","FixedSideContainer_side_".concat(w),d)},t)}),he=U().memo(function(d){d=d.appearance;return U().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},U().createElement("a",
{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},U().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?te.MA[6]:te.MA[8]}),U().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?te.ix:te.Sn}),U().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?te.ix:te.Sn})))}),sf=(h(9705),function(d){return(d=function(t){var w=t.appState,F=t.elements,S=w.elementType;t=w.isResizing;var aa=w.isRotating,wa=w.lastPointerDownWith,ua=null!==w.multiElement;if("arrow"===S||"line"===S)return Mb(ua?"hints.linearElementMulti":"hints.linearElement");if("draw"===S)return Mb("hints.freeDraw");if("text"===S)return Mb("hints.text");F=of(F,w);return t&&"mouse"===wa&&1===F.length?(w=F[0],Dg(w)&&2===w.points.length?Mb("hints.lockAngle"):Mb("hints.resize")):
aa&&"mouse"===wa?Mb("hints.rotate"):1===F.length&&Dg(F[0])?w.editingLinearElement?w.editingLinearElement.activePointIndex?Mb("hints.lineEditor_pointSelected"):Mb("hints.lineEditor_nothingSelected"):Mb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=Pd(d),U().createElement("div",{className:"HintViewer"},U().createElement("span",null,d))):null}),wd=(h(8465),h(8680),U().createElement("svg",{viewBox:"0 0 1792 1792"},U().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
De=function(d){var t=d.elements,w=d.pendingElements,F=d.onRemoveFromLibrary;d=d.onClick;var S=(0,ea.useRef)(null);(0,ea.useEffect)(function(){var Ma=t||w;if(Ma){var Ga=Il(Ma,{exportBackground:!1,viewBackgroundColor:te.ix,shouldAddWatermark:!1});Ma=0;for(var gb=S.current.children;Ma<gb.length;Ma++){var mb=gb[Ma];"svg"===mb.tagName&&S.current.removeChild(mb)}S.current.appendChild(Ga);var nb=S.current;return function(){nb.removeChild(Ga)}}},[t,w]);var aa=(0,ea.useState)(!1),wa=aa[0],ua=aa[1];aa=Pe();
var Ba=(wa||aa)&&w&&U().createElement("div",{className:"library-unit__adder"},wd);return U().createElement("div",{className:Lc("library-unit",{"library-unit__active":t||w}),onMouseEnter:function(){return ua(!0)},onMouseLeave:function(){return ua(!1)}},U().createElement("div",{className:Lc("library-unit__dragger",{"library-unit__pulse":!!w}),ref:S,draggable:!!t,onClick:t||w?d:void 0,onDragStart:function(Ma){ua(!1);Ma.dataTransfer.setData(Pa.LO.excalidrawlib,JSON.stringify(t))}}),Ba,t&&(wa||aa)&&U().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Mb("labels.removeFromLibrary"),onClick:F},Qj))},tf=U().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},U().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),gf=U().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},U().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Kc=function(d){return U().createElement("label",{className:Lc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},U().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),U().createElement("div",{className:"ToolIcon__icon"},d.checked?tf:gf))},wc=function(d){var t=d.heading,w=d.children;d=Ph()(d,["heading","children"]);var F=U().createElement("h2",{className:"visually-hidden",id:"".concat(t,
"-title")},Mb("headings.".concat(t)));return U().createElement("section",Jd()({},d,{"aria-labelledby":"".concat(t,"-title")}),"function"==typeof w?w(F):U().createElement(U().Fragment,null,F,w))},Ic=(h(3142),function(d){var t=d.children,w=d.className;d=d.mobile;return U().createElement("div",{className:Lc("UserList",w,{UserList_mobile:d})},t)}),od=function(d){var t=d.appState,w=d.elements,F=d.libraryMenu,S=d.actionManager,aa=d.exportButton,wa=d.setAppState,ua=d.onCollabButtonClick,Ba=d.onLockToggle,
Ma=d.canvas,Ga=d.isCollaborating,gb=d.renderCustomFooter;d=d.viewModeEnabled;return U().createElement(U().Fragment,null,!d&&U().createElement(Vc,{side:"top",className:"App-top-bar"},U().createElement(wc,{heading:"shapes"},function(mb){return U().createElement(Wk,{gap:4,align:"center"},U().createElement(Vk,{gap:1},U().createElement($k,{padding:1},mb,U().createElement(Vk,{gap:1},U().createElement(Yp,{canvas:Ma,elementType:t.elementType,setAppState:wa,isLibraryOpen:t.isLibraryOpen}))),U().createElement(Kc,
{checked:t.elementLocked,onChange:Ba,title:Mb("toolBar.lock")})),F)}),U().createElement(sf,{appState:t,elements:w})),U().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},U().createElement($k,{padding:0},"canvas"===t.openMenu?U().createElement(wc,{className:"App-mobile-menu",heading:"canvasActions"},U().createElement("div",{className:"panelColumn"},U().createElement(Wk,{gap:4},d?U().createElement(U().Fragment,null,S.renderAction("saveScene"),S.renderAction("saveAsScene"),
aa):U().createElement(U().Fragment,null,S.renderAction("loadScene"),S.renderAction("saveScene"),S.renderAction("saveAsScene"),aa,S.renderAction("clearCanvas"),ua&&U().createElement(ar,{isCollaborating:Ga,collaboratorCount:t.collaborators.size,onClick:ua}),U().createElement(Zq,{actionManager:S,appState:t,setAppState:wa})),null==gb?void 0:gb(!0),0<t.collaborators.size&&U().createElement("fieldset",null,U().createElement("legend",null,Mb("labels.collaborators")),U().createElement(Ic,{mobile:!0},Array.from(t.collaborators).filter(function(mb){mb[0];
return 0!==Object.keys(mb[1]).length}).map(function(mb){var nb=mb[0];mb[1];return U().createElement(U().Fragment,{key:nb},S.renderAction("goToCollaborator",nb))})))))):"shape"===t.openMenu&&!d&&hh(t,w)?U().createElement(wc,{className:"App-mobile-menu",heading:"selectedShapeActions"},U().createElement($q,{appState:t,elements:w,renderAction:S.renderAction,elementType:t.elementType})):null,U().createElement("footer",{className:"App-toolbar"},d?U().createElement("div",{className:"App-toolbar-content"},
S.renderAction("toggleCanvasMenu")):U().createElement("div",{className:"App-toolbar-content"},S.renderAction("toggleCanvasMenu"),S.renderAction("toggleEditMenu"),S.renderAction("undo"),S.renderAction("redo"),S.renderAction(t.multiElement?"finalize":"duplicateSelection"),S.renderAction("deleteSelectedElements")),t.scrolledOutside&&!t.openMenu&&U().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(mb){for(var nb=1;nb<arguments.length;nb++){var Xb=null!=arguments[nb]?
arguments[nb]:{};nb%2?rd(Object(Xb),!0).forEach(function(Sb){xe()(mb,Sb,Xb[Sb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mb,Object.getOwnPropertyDescriptors(Xb)):rd(Object(Xb)).forEach(function(Sb){Object.defineProperty(mb,Sb,Object.getOwnPropertyDescriptor(Xb,Sb))})}return mb}({},ji(w,t)))}},Mb("buttons.scrollBackToContent"))))))},td=(h(8416),function(d){var t=(0,ea.useRef)(null),w=(0,ea.useState)(null),F=w[0],S=w[1];return(0,ea.useLayoutEffect)(function(){if(d.spreadsheet){var aa=
Tn(d.chartType,d.spreadsheet,0,0);S(aa);var wa=Il(aa,{exportBackground:!1,viewBackgroundColor:te.ix,shouldAddWatermark:!1}),ua=t.current;return ua.appendChild(wa),d.selected&&ua.parentNode.focus(),function(){ua.removeChild(wa)}}},[d.spreadsheet,d.chartType,d.selected]),U().createElement("button",{className:"ChartPreview",onClick:function(){F&&d.onClick(d.chartType,F)}},U().createElement("div",{ref:t}))}),Ef=function(d){var t=d.setAppState,w=d.appState,F=d.onClose,S=d.onInsertChart;d=U().useCallback(function(){F&&
F()},[F]);var aa=function(wa,ua){S(ua);Qg("magic","chart",wa);t({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return U().createElement(B,{small:!0,onCloseRequest:d,title:Mb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},U().createElement("div",{className:"container"},U().createElement(td,{chartType:"bar",spreadsheet:w.pasteDialog.data,selected:"bar"===w.currentChartType,onClick:aa}),U().createElement(td,{chartType:"line",spreadsheet:w.pasteDialog.data,selected:"line"===
w.currentChartType,onClick:aa})))},ve=(h(341),function(){return U().createElement("div",{className:"HelpDialog--header"},U().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.documentation")),U().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.blog")),U().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.github")))}),Ff=function(d){return U().createElement(U().Fragment,null,U().createElement("h3",null,d.title),d.children)},eg=function(d){return U().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},If=function(d){return U().createElement("div",{style:{width:"49%"}},d.children)},om=function(d){return U().createElement("div",
{className:"HelpDialog--island"},U().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},nf=function(d){return U().createElement("div",{className:"HelpDialog--shortcut"},U().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},U().createElement("div",{style:{lineHeight:1.4}},d.label),U().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(t,
w){return U().createElement(U().Fragment,{key:w},U().createElement(bu,null,t),d.isOr&&w!==d.shortcuts.length-1&&Mb("helpDialog.or"))}))))};nf.defaultProps={isOr:!0};var bu=function(d){return U().createElement("kbd",Jd()({className:"HelpDialog--key"},d))},cu=function(d){var t=d.onClose;d=U().useCallback(function(){t&&t()},[t]);return U().createElement(U().Fragment,null,U().createElement(B,{onCloseRequest:d,title:Mb("helpDialog.title"),className:"HelpDialog"},U().createElement(ve,null),U().createElement(Ff,
{title:Mb("helpDialog.shortcuts")},U().createElement(eg,null,U().createElement(If,null,U().createElement(om,{caption:Mb("helpDialog.shapes")},U().createElement(nf,{label:Mb("toolBar.selection"),shortcuts:["V","1"]}),U().createElement(nf,{label:Mb("toolBar.rectangle"),shortcuts:["R","2"]}),U().createElement(nf,{label:Mb("toolBar.diamond"),shortcuts:["D","3"]}),U().createElement(nf,{label:Mb("toolBar.ellipse"),shortcuts:["E","4"]}),U().createElement(nf,{label:Mb("toolBar.arrow"),shortcuts:["A","5"]}),
U().createElement(nf,{label:Mb("toolBar.line"),shortcuts:["P","6"]}),U().createElement(nf,{label:Mb("toolBar.draw"),shortcuts:["Shift+P","7"]}),U().createElement(nf,{label:Mb("toolBar.text"),shortcuts:["T","8"]}),U().createElement(nf,{label:Mb("helpDialog.textNewLine"),shortcuts:[Pd("Enter"),Pd("Shift+Enter")]}),U().createElement(nf,{label:Mb("helpDialog.textFinish"),shortcuts:[Pd("Esc"),Pd("CtrlOrCmd+Enter")]}),U().createElement(nf,{label:Mb("helpDialog.curvedArrow"),shortcuts:["A",Mb("helpDialog.click"),
Mb("helpDialog.click"),Mb("helpDialog.click")],isOr:!1}),U().createElement(nf,{label:Mb("helpDialog.curvedLine"),shortcuts:["L",Mb("helpDialog.click"),Mb("helpDialog.click"),Mb("helpDialog.click")],isOr:!1}),U().createElement(nf,{label:Mb("toolBar.lock"),shortcuts:["Q"]}),U().createElement(nf,{label:Mb("helpDialog.preventBinding"),shortcuts:[Pd("CtrlOrCmd")]})),U().createElement(om,{caption:Mb("helpDialog.view")},U().createElement(nf,{label:Mb("buttons.zoomIn"),shortcuts:[Pd("CtrlOrCmd++")]}),U().createElement(nf,
{label:Mb("buttons.zoomOut"),shortcuts:[Pd("CtrlOrCmd+-")]}),U().createElement(nf,{label:Mb("buttons.resetZoom"),shortcuts:[Pd("CtrlOrCmd+0")]}),U().createElement(nf,{label:Mb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),U().createElement(nf,{label:Mb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),U().createElement(nf,{label:Mb("buttons.fullScreen"),shortcuts:["F"]}),U().createElement(nf,{label:Mb("buttons.zenMode"),shortcuts:[Pd("Alt+Z")]}),U().createElement(nf,{label:Mb("labels.showGrid"),
shortcuts:[Pd("CtrlOrCmd+'")]}),U().createElement(nf,{label:Mb("labels.viewMode"),shortcuts:[Pd("Alt+R")]}))),U().createElement(If,null,U().createElement(om,{caption:Mb("helpDialog.editor")},U().createElement(nf,{label:Mb("labels.selectAll"),shortcuts:[Pd("CtrlOrCmd+A")]}),U().createElement(nf,{label:Mb("labels.multiSelect"),shortcuts:[Pd("Shift+".concat(Mb("helpDialog.click")))]}),U().createElement(nf,{label:Mb("labels.moveCanvas"),shortcuts:[Pd("Space+".concat(Mb("helpDialog.drag"))),Pd("Wheel+".concat(Mb("helpDialog.drag")))],
isOr:!0}),U().createElement(nf,{label:Mb("labels.cut"),shortcuts:[Pd("CtrlOrCmd+X")]}),U().createElement(nf,{label:Mb("labels.copy"),shortcuts:[Pd("CtrlOrCmd+C")]}),U().createElement(nf,{label:Mb("labels.paste"),shortcuts:[Pd("CtrlOrCmd+V")]}),U().createElement(nf,{label:Mb("labels.copyAsPng"),shortcuts:[Pd("Shift+Alt+C")]}),U().createElement(nf,{label:Mb("labels.copyStyles"),shortcuts:[Pd("CtrlOrCmd+Alt+C")]}),U().createElement(nf,{label:Mb("labels.pasteStyles"),shortcuts:[Pd("CtrlOrCmd+Alt+V")]}),
U().createElement(nf,{label:Mb("labels.delete"),shortcuts:[Pd("Del")]}),U().createElement(nf,{label:Mb("labels.sendToBack"),shortcuts:[Pd(Jg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),U().createElement(nf,{label:Mb("labels.bringToFront"),shortcuts:[Pd(Jg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),U().createElement(nf,{label:Mb("labels.sendBackward"),shortcuts:[Pd("CtrlOrCmd+[")]}),U().createElement(nf,{label:Mb("labels.bringForward"),shortcuts:[Pd("CtrlOrCmd+]")]}),U().createElement(nf,{label:Mb("labels.alignTop"),
shortcuts:[Pd("CtrlOrCmd+Shift+Up")]}),U().createElement(nf,{label:Mb("labels.alignBottom"),shortcuts:[Pd("CtrlOrCmd+Shift+Down")]}),U().createElement(nf,{label:Mb("labels.alignLeft"),shortcuts:[Pd("CtrlOrCmd+Shift+Left")]}),U().createElement(nf,{label:Mb("labels.alignRight"),shortcuts:[Pd("CtrlOrCmd+Shift+Right")]}),U().createElement(nf,{label:Mb("labels.duplicateSelection"),shortcuts:[Pd("CtrlOrCmd+D"),Pd("Alt+".concat(Mb("helpDialog.drag")))]}),U().createElement(nf,{label:Mb("buttons.undo"),shortcuts:[Pd("CtrlOrCmd+Z")]}),
U().createElement(nf,{label:Mb("buttons.redo"),shortcuts:Ej?[Pd("CtrlOrCmd+Y"),Pd("CtrlOrCmd+Shift+Z")]:[Pd("CtrlOrCmd+Shift+Z")]}),U().createElement(nf,{label:Mb("labels.group"),shortcuts:[Pd("CtrlOrCmd+G")]}),U().createElement(nf,{label:Mb("labels.ungroup"),shortcuts:[Pd("CtrlOrCmd+Shift+G")]})))))))},Vr=function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=
S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&
ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Qs=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,
S++)d[S]=t[w];return d},$t=function(d){var t=d.library,w=d.onRemoveFromLibrary,F=d.onAddToLibrary,S=d.onInsertShape,aa=d.pendingElements,wa=d.setAppState,ua=d.setLibraryItems;d=Pe()?4:6;var Ba=Math.max(1,Math.ceil((t.length+(0<aa.length?1:0))/d)),Ma=[],Ga=!1;Ma.push(U().createElement("div",{className:"layer-ui__library-header"},U().createElement($e,{key:"import",type:"button",title:Mb("buttons.load"),"aria-label":Mb("buttons.load"),icon:km,onClick:function(){lp().then(function(){wa({isLibraryOpen:!1})}).catch(Dk).catch(function(qc){wa({errorMessage:qc.message})})}}),
U().createElement($e,{key:"export",type:"button",title:Mb("buttons.export"),"aria-label":Mb("buttons.export"),icon:lh,onClick:function(){nm().catch(Dk).catch(function(qc){wa({errorMessage:qc.message})})}}),U().createElement($e,{key:"reset",type:"button",title:Mb("buttons.resetLibrary"),"aria-label":Mb("buttons.resetLibrary"),icon:Ni,onClick:function(){window.confirm(Mb("alerts.resetLibrary"))&&(jh.resetLibrary(),ua([]))}}),U().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Mb("labels.libraries"))));for(var gb=0;gb<Ba;gb++){for(var mb=d*gb,nb=[],Xb=0;Xb<d;Xb++){var Sb=0<aa.length&&!Ga&&mb+Xb>=t.length;Ga=Ga||Sb;nb.push(U().createElement(Wk,{key:Xb},U().createElement(De,{elements:t[mb+Xb],pendingElements:Sb?aa:void 0,onRemoveFromLibrary:w.bind(null,mb+Xb),onClick:Sb?F.bind(null,aa):S.bind(null,t[mb+Xb])})))}Ma.push(U().createElement(Vk,{align:"center",gap:1,key:gb},nb))}return U().createElement(Wk,{align:"start",gap:1,className:"layer-ui__library-items"},Ma)},au=function(d){var t=
d.onClickOutside,w=d.onInsertShape,F=d.pendingElements,S=d.onAddToLibrary;d=d.setAppState;var aa=(0,ea.useRef)(null);!function(nb,Xb){(0,ea.useEffect)(function(){var Sb=function(qc){nb.current&&(qc.target instanceof Element&&(nb.current.contains(qc.target)||!document.body.contains(qc.target))||Xb(qc))};return document.addEventListener("pointerdown",Sb,!1),function(){document.removeEventListener("pointerdown",Sb)}},[nb,Xb])}(aa,function(nb){nb.target.closest(".ToolIcon_type_button__library")||t(nb)});
var wa=(0,ea.useState)([]),ua=wa[0],Ba=wa[1],Ma=(0,ea.useState)("preloading");wa=Ma[0];var Ga=Ma[1],gb=(0,ea.useRef)(null);(0,ea.useEffect)(function(){return Promise.race([new Promise(function(nb){gb.current=setTimeout(function(){nb("loading")},100)}),jh.loadLibrary().then(function(nb){Ba(nb);Ga("ready")})]).then(function(nb){"loading"===nb&&Ga("loading")}),function(){clearTimeout(gb.current)}},[]);Ma=(0,ea.useCallback)(function(){var nb=zb()(function(Xb){var Sb,qc;return Vr(this,function(Xc){switch(Xc.label){case 0:return[4,
jh.loadLibrary()];case 1:return Sb=Xc.sent(),qc=Sb.filter(function(cd,md){return md!==Xb}),jh.saveLibrary(qc),Ba(qc),[2]}})});return function(Xb){return nb.apply(this,arguments)}}(),[]);var mb=(0,ea.useCallback)(function(){var nb=zb()(function(Xb){var Sb,qc;return Vr(this,function(Xc){switch(Xc.label){case 0:return[4,jh.loadLibrary()];case 1:return Sb=Xc.sent(),qc=Qs(Qs([],Sb),[Xb]),S(),jh.saveLibrary(qc),Ba(qc),[2]}})});return function(Xb){return nb.apply(this,arguments)}}(),[S]);return"preloading"===
wa?null:U().createElement($k,{padding:1,ref:aa,className:"layer-ui__library"},"loading"===wa?U().createElement("div",{className:"layer-ui__library-message"},Mb("labels.libraryLoadingMessage")):U().createElement($t,{library:ua,onRemoveFromLibrary:Ma,onAddToLibrary:mb,onInsertShape:w,pendingElements:F,setAppState:d,setLibraryItems:Ba}))};const Yt=U().memo(function(d){var t,w=d.actionManager,F=d.appState,S=d.setAppState,aa=d.canvas,wa=d.elements,ua=d.onCollabButtonClick,Ba=d.onLockToggle,Ma=d.onInsertElements,
Ga=d.zenModeEnabled,gb=d.showExitZenModeBtn,mb=d.toggleZenMode,nb=d.isCollaborating,Xb=d.onExportToBackend,Sb=d.renderCustomFooter;d=d.viewModeEnabled;var qc=Pe(),Xc=function(){var ae=function(Be){return function(){var ye=zb()(function(We,sd){return Vr(this,function(Qd){switch(Qd.label){case 0:return aa?[4,rc(Be,We,F,aa,{exportBackground:F.exportBackground,name:F.name,viewBackgroundColor:F.viewBackgroundColor,scale:sd,shouldAddWatermark:F.shouldAddWatermark}).catch(Dk).catch(function($d){console.error($d);
S({errorMessage:$d.message})})]:[3,2];case 1:Qd.sent(),Qd.label=2;case 2:return[2]}})});return function(We,sd){return ye.apply(this,arguments)}}()};return U().createElement(sc,{elements:wa,appState:F,actionManager:w,onExportToPng:ae("png"),onExportToSvg:ae("svg"),onExportToClipboard:ae("clipboard"),onExportToBackend:Xb?function(Be){Xb&&Xb(Be,F,aa)}:void 0})},cd=(0,ea.useCallback)(function(ae){S({isLibraryOpen:!1})},[S]),md=(0,ea.useCallback)(function(){S({selectedElementIds:{},selectedGroupIds:{}})},
[S]),ce=F.isLibraryOpen?U().createElement(au,{pendingElements:of(wa,F),onClickOutside:cd,onInsertShape:Ma,onAddToLibrary:md,setAppState:S}):null;Ma=U().createElement(U().Fragment,null,F.isLoading&&U().createElement(fg,null),F.errorMessage&&U().createElement(N,{message:F.errorMessage,onClose:function(){return S({errorMessage:null})}}),F.showHelpDialog&&U().createElement(cu,{onClose:function(){return S({showHelpDialog:!1})}}),F.pasteDialog.shown&&U().createElement(Ef,{setAppState:S,appState:F,onInsertChart:Ma,
onClose:function(){return S({pasteDialog:{shown:!1,data:null}})}}));return qc?U().createElement(U().Fragment,null,Ma,U().createElement(od,{appState:F,elements:wa,actionManager:w,libraryMenu:ce,exportButton:Xc(),setAppState:S,onCollabButtonClick:ua,onLockToggle:Ba,canvas:aa,isCollaborating:nb,renderCustomFooter:Sb,viewModeEnabled:d})):U().createElement("div",{className:Lc("layer-ui__wrapper",{"disable-pointerEvents":F.draggingElement||F.resizingElement||F.editingElement&&!Xd(F.editingElement)})},Ma,
(t=hh(F,wa),U().createElement(Vc,{side:"top"},U().createElement("div",{className:"App-menu App-menu_top"},U().createElement(Wk,{gap:4,className:Lc({"disable-pointerEvents":Ga})},d?U().createElement(wc,{heading:"canvasActions",className:Lc("zen-mode-transition",{"transition-left":Ga})},U().createElement($k,{padding:2,style:{zIndex:1}},U().createElement(Wk,{gap:4},U().createElement(Vk,{gap:1,justifyContent:"space-between"},w.renderAction("saveScene"),w.renderAction("saveAsScene"),Xc())))):U().createElement(wc,
{heading:"canvasActions",className:Lc("zen-mode-transition",{"transition-left":Ga})},U().createElement($k,{padding:2,style:{zIndex:1}},U().createElement(Wk,{gap:4},U().createElement(Vk,{gap:1,justifyContent:"space-between"},w.renderAction("loadScene"),w.renderAction("saveScene"),w.renderAction("saveAsScene"),Xc(),w.renderAction("clearCanvas"),ua&&U().createElement(ar,{isCollaborating:nb,collaboratorCount:F.collaborators.size,onClick:ua})),U().createElement(Zq,{actionManager:w,appState:F,setAppState:S})))),
t&&U().createElement(wc,{heading:"selectedShapeActions",className:Lc("zen-mode-transition",{"transition-left":Ga})},U().createElement($k,{className:Pa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(F.height-200,"px")}},U().createElement($q,{appState:F,elements:wa,renderAction:w.renderAction,elementType:F.elementType})))),!d&&U().createElement(wc,{heading:"shapes"},function(ae){return U().createElement(Wk,{gap:4,align:"start"},U().createElement(Vk,{gap:1},U().createElement($k,{padding:1,
className:Lc({"zen-mode":Ga})},U().createElement(sf,{appState:F,elements:wa}),ae,U().createElement(Vk,{gap:1},U().createElement(Yp,{canvas:aa,elementType:F.elementType,setAppState:S,isLibraryOpen:F.isLibraryOpen}))),U().createElement(Kc,{zenModeEnabled:Ga,checked:F.elementLocked,onChange:Ba,title:Mb("toolBar.lock")})),ce)}),U().createElement(Ic,{className:Lc("zen-mode-transition",{"transition-right":Ga})},0<F.collaborators.size&&Array.from(F.collaborators).filter(function(ae){ae[0];return 0!==Object.keys(ae[1]).length}).map(function(ae){var Be=
ae[0];ae=ae[1];return U().createElement(Sj,{label:ae.username||"Unknown user",key:Be},w.renderAction("goToCollaborator",Be))}))))),U().createElement("div",{className:Lc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ga})},U().createElement(Wk,{gap:2},U().createElement(wc,{heading:"canvasActions"},U().createElement($k,{padding:1},U().createElement(Rr,{renderAction:w.renderAction,zoom:F.zoom})),U().createElement("a",{className:Lc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ga}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},U().createElement(Sj,{label:Mb("encrypted.tooltip"),position:"above",long:!0},Cg))))),U().createElement("aside",{className:Lc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ga})},U().createElement(he,{appearance:F.appearance})),U().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},U().createElement("div",
{className:Lc("zen-mode-transition",{"transition-right disable-pointerEvents":Ga})},null==Sb?void 0:Sb(!1),w.renderAction("toggleShortcuts")),U().createElement("button",{className:Lc("disable-zen-mode",{"disable-zen-mode--visible":gb}),onClick:mb},Mb("buttons.exitZenMode"))),F.scrolledOutside&&U().createElement("button",{className:"scroll-back-to-content",onClick:function(){S(function(ae){for(var Be=1;Be<arguments.length;Be++){var ye=null!=arguments[Be]?arguments[Be]:{};Be%2?ff(Object(ye),!0).forEach(function(We){xe()(ae,
We,ye[We])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ye)):ff(Object(ye)).forEach(function(We){Object.defineProperty(ae,We,Object.getOwnPropertyDescriptor(ye,We))})}return ae}({},ji(wa,F)))}},Mb("buttons.scrollBackToContent")))},function(d,t){var w=function(aa){aa.suggestedBindings;aa.startBoundElement;return Ph()(aa,["suggestedBindings","startBoundElement"])},F=w(d.appState),S=w(t.appState);w=Object.keys(F);return d.renderCustomFooter===t.renderCustomFooter&&
d.langCode===t.langCode&&d.elements===t.elements&&w.every(function(aa){return F[aa]===S[aa]})});var Ps=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(t){return console.error(t),0}},Zt=(h(7287),function(d,t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;
switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();
ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Rs=qi(function(d){var t=Ps();try{var w=localStorage.getItem("excalidraw-state"),F=localStorage.getItem("excalidraw-collab"),S=localStorage.getItem(Pa.I.LOCAL_STORAGE_LIBRARY);
var aa=(w?JSON.stringify(w).length:0)+(F?JSON.stringify(F).length:0)+(S?JSON.stringify(S).length:0)+Ps()}catch(wa){aa=(console.error(wa),0)}d({scene:t,total:aa})},500),du=function(d){var t=Pe(),w=(0,ea.useState)({scene:0,total:0}),F=w[0],S=w[1];(0,ea.useEffect)(function(){Rs(function(Ma){S(Ma)})});(0,ea.useEffect)(function(){return function(){return Rs.cancel()}},[]);w=zg(d.elements);var aa=kk(d.elements,d.appState),wa=zg(aa);if(t&&d.appState.openMenu)return null;var ua,Ba;t=Gf();return t!==Pa.eQ?
(Ba=t.slice(0,16).replace("T"," "),ua=t.slice(21)):Ba=Mb("stats.versionNotAvailable"),U().createElement("div",{className:"Stats"},U().createElement($k,{padding:2},U().createElement("div",{className:"close",onClick:d.onClose},Qj),U().createElement("h3",null,Mb("stats.title")),U().createElement("table",null,U().createElement("tbody",null,U().createElement("tr",null,U().createElement("th",{colSpan:2},Mb("stats.scene"))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.elements")),U().createElement("td",
null,d.elements.length)),U().createElement("tr",null,U().createElement("td",null,Mb("stats.width")),U().createElement("td",null,Math.round(w[2])-Math.round(w[0]))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.height")),U().createElement("td",null,Math.round(w[3])-Math.round(w[1]))),U().createElement("tr",null,U().createElement("th",{colSpan:2},Mb("stats.storage"))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.scene")),U().createElement("td",null,ol(F.scene,
1))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.total")),U().createElement("td",null,ol(F.total,1))),1===aa.length&&U().createElement("tr",null,U().createElement("th",{colSpan:2},Mb("stats.element"))),1<aa.length&&U().createElement(U().Fragment,null,U().createElement("tr",null,U().createElement("th",{colSpan:2},Mb("stats.selected"))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.elements")),U().createElement("td",null,aa.length))),0<aa.length&&U().createElement(U().Fragment,
null,U().createElement("tr",null,U().createElement("td",null,"x"),U().createElement("td",null,Math.round(1===aa.length?aa[0].x:wa[0]))),U().createElement("tr",null,U().createElement("td",null,"y"),U().createElement("td",null,Math.round(1===aa.length?aa[0].y:wa[1]))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.width")),U().createElement("td",null,Math.round(1===aa.length?aa[0].width:wa[2]-wa[0]))),U().createElement("tr",null,U().createElement("td",null,Mb("stats.height")),U().createElement("td",
null,Math.round(1===aa.length?aa[0].height:wa[3]-wa[1])))),1===aa.length&&U().createElement("tr",null,U().createElement("td",null,Mb("stats.angle")),U().createElement("td",null,"".concat(Math.round(180*aa[0].angle/Math.PI),"°"))),U().createElement("tr",null,U().createElement("th",{colSpan:2},Mb("stats.version"))),U().createElement("tr",null,U().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:zb()(function(){return Zt(this,function(Ma){switch(Ma.label){case 0:return Ma.trys.push([0,
2,,3]),[4,Bb(Gf())];case 1:return Ma.sent(),d.setAppState({toastMessage:Mb("toast.copyToClipboard")}),[3,3];case 2:return Ma.sent(),[3,3];case 3:return[2]}})}),title:Mb("stats.versionCopy")},Ba,U().createElement("br",null),ua))))))},eu=(h(5849),function(d){var t=d.message,w=d.clearToast,F=(0,ea.useRef)(0),S=(0,ea.useCallback)(function(){return F.current=window.setTimeout(function(){return w()},Pa.Lg)},[w]);return(0,ea.useEffect)(function(){return S(),function(){return clearTimeout(F.current)}},[S,
t]),U().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==F?void 0:F.current)},onMouseLeave:S},U().createElement("p",{className:"Toast__message"},t))}),Ss=Dd({name:"viewMode",perform:function(d,t){return Qg("view","mode","view"),{appState:Rf(Rf({},t),{},{viewModeEnabled:!this.checked(t),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[Ue]&&d.altKey&&"KeyR"===
d.code}}),fu=function(){var d=function(t,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,S){F.__proto__=S}||function(F,S){for(var aa in S)Object.prototype.hasOwnProperty.call(S,aa)&&(F[aa]=S[aa])})(t,w)};return function(t,w){function F(){this.constructor=t}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(t,w);t.prototype=null===w?Object.create(w):(F.prototype=w.prototype,new F)}}(),Xo=function(d,
t){function w(Ba){return function(Ma){return function(Ga){if(F)throw new TypeError("Generator is already executing.");for(;ua;)try{if(F=1,S&&(aa=2&Ga[0]?S.return:Ga[0]?S.throw||((aa=S.return)&&aa.call(S),0):S.next)&&!(aa=aa.call(S,Ga[1])).done)return aa;switch(S=0,aa&&(Ga=[2&Ga[0],aa.value]),Ga[0]){case 0:case 1:aa=Ga;break;case 4:return ua.label++,{value:Ga[1],done:!1};case 5:ua.label++;S=Ga[1];Ga=[0];continue;case 7:Ga=ua.ops.pop();ua.trys.pop();continue;default:if(!(aa=ua.trys,(aa=0<aa.length&&
aa[aa.length-1])||6!==Ga[0]&&2!==Ga[0])){ua=0;continue}if(3===Ga[0]&&(!aa||Ga[1]>aa[0]&&Ga[1]<aa[3]))ua.label=Ga[1];else if(6===Ga[0]&&ua.label<aa[1])ua.label=aa[1],aa=Ga;else if(aa&&ua.label<aa[2])ua.label=aa[2],ua.ops.push(Ga);else{aa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ga=t.call(d,ua)}catch(gb){Ga=[6,gb],S=0}finally{F=aa=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var F,S,aa,wa,ua={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};
return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Zg=function(d,t){for(var w=0,F=t.length,S=d.length;w<F;w++,S++)d[S]=t[w];return d},nk=new bq,qq=!1,Xr=0,Cp=0,Dp=0,Yo=!1,rq=!1,Yr=!1,Zr={horizontal:null,vertical:null},go=0,cq=!1,fo=null,vl=new Map,sp=null,cr=null,tp=null,Wr=function(d){function t(w){var F=this;var S=F=d.call(this,w)||this;Ut.call(F);var aa,wa,ua,Ba=xh(),Ma=w.width,Ga=void 0===Ma?window.innerWidth:Ma;Ma=w.height;
var gb=void 0===Ma?window.innerHeight:Ma,mb=w.offsetLeft,nb=w.offsetTop;Ma=w.excalidrawRef;var Xb=w.viewModeEnabled;Xb=void 0!==Xb&&Xb;var Sb=w.zenModeEnabled;Sb=void 0!==Sb&&Sb;w=w.gridModeEnabled;w=void 0!==w&&w;if(F.state=Ta(Ta(Ta({},Ba),{},{isLoading:!0,width:Ga,height:gb},F.getCanvasOffsets({offsetLeft:mb,offsetTop:nb})),{},{viewModeEnabled:Xb,zenModeEnabled:Sb,gridSize:w?Pa.k:null}),Ma){var qc;Ba="current"in Ma&&(null===(qc=Ma.current)||void 0===qc?void 0:qc.readyPromise)||((ua=new Promise(function(Xc,
cd){aa=Xc;wa=cd})).resolve=aa,ua.reject=wa,ua);ua={ready:!0,readyPromise:Ba,updateScene:F.updateScene,resetScene:F.resetScene,getSceneElementsIncludingDeleted:F.getSceneElementsIncludingDeleted,history:{clear:F.resetHistory},setScrollToCenter:F.setScrollToCenter,getSceneElements:F.getSceneElements,getAppState:function(){return S.state}};"function"==typeof Ma?Ma(ua):Ma.current=ua;Ba.resolve(ua)}return F.scene=new qh,F.actionManager=new pm(F.syncActionResult,function(){return S.state},function(){return S.scene.getElementsIncludingDeleted()},
F),F.actionManager.registerAll(Yi),F.actionManager.registerAction({name:"undo",perform:function(Xc,cd){return op(Xc,cd,function(){return nk.undoOnce()})},keyTest:function(Xc){return Xc[Ue]&&"z"===Xc.key.toLowerCase()&&!Xc.shiftKey},PanelComponent:function(Xc){Xc=Xc.updateData;return U().createElement($e,{type:"button",icon:ah,"aria-label":Mb("buttons.undo"),onClick:Xc})},commitToHistory:function(){return!1}}),F.actionManager.registerAction(function(Xc){return{name:"redo",perform:function(cd,md){return op(cd,
md,function(){return Xc.redoOnce()})},keyTest:function(cd){return cd[Ue]&&cd.shiftKey&&"z"===cd.key.toLowerCase()||Ej&&cd.ctrlKey&&!cd.shiftKey&&"y"===cd.key},PanelComponent:function(cd){cd=cd.updateData;return U().createElement($e,{type:"button",icon:Aj,"aria-label":Mb("buttons.redo"),onClick:cd})},commitToHistory:function(){return!1}}}(nk)),F}return fu(t,d),t.prototype.renderCanvas=function(){var w=window.devicePixelRatio,F=this.state,S=F.width,aa=F.height,wa=S*w;w*=aa;return F.viewModeEnabled?
U().createElement("canvas",{id:"canvas",style:{width:S,height:aa,cursor:"grabbing"},width:wa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Mb("labels.drawingCanvas")):U().createElement("canvas",{id:"canvas",style:{width:S,height:aa},width:wa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Mb("labels.drawingCanvas"))},t.prototype.render=function(){var w,F=this,S=this.state,aa=S.zenModeEnabled,wa=S.width,ua=S.height;S=S.viewModeEnabled;var Ba=this.props,Ma=Ba.onCollabButtonClick,Ga=Ba.onExportToBackend;Ba=Ba.renderFooter;var gb=
wa/2,mb=ua/2;return U().createElement("div",{className:Lc("excalidraw",{"excalidraw--view-mode":S}),ref:this.excalidrawContainerRef,style:{width:wa,height:ua}},U().createElement(Yt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ma,onLockToggle:this.toggleLock,onInsertElements:function(nb){return F.addElementsFromPasteOrLibrary(nb,gb,mb)},zenModeEnabled:aa,toggleZenMode:this.toggleZenMode,langCode:zf.code,
isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ga,renderCustomFooter:Ba,viewModeEnabled:S,showExitZenModeBtn:void 0===(null===(w=this.props)||void 0===w?void 0:w.zenModeEnabled)&&aa}),U().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&U().createElement(du,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&U().createElement(eu,{message:this.state.toastMessage,
clearToast:this.clearToast}),U().createElement("main",null,this.renderCanvas()))},t.prototype.componentDidMount=function(){var w=this;return zb()(function(){return Xo(this,function(F){return"production"!==Pa.Vi.TEST&&"production"!==Pa.Vi.DEVELOPMENT||(w.setState.bind(w),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return w.state}},setState:{configurable:!0,value:function(){for(var S=[],aa=0;aa<arguments.length;aa++)S[aa]=arguments[aa];return w.setState.apply(w,S)}},app:{configurable:!0,
value:w}})),w.scene.addCallback(w.onSceneUpdated),w.addEventListeners(),"number"==typeof w.props.offsetLeft&&"number"==typeof w.props.offsetTop?w.initializeScene():w.setState(w.getCanvasOffsets(w.props),function(){w.initializeScene()}),[2]})})()},t.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},t.prototype.removeEventListeners=function(){document.removeEventListener(Pa.Ks.COPY,this.onCopy);document.removeEventListener(Pa.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(Pa.Ks.CUT,this.onCut);document.removeEventListener(Pa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Pa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Pa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Pa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Pa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Pa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Pa.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(Pa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Pa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Pa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Pa.Ks.GESTURE_END,this.onGestureEnd,!1)},t.prototype.addEventListeners=function(){var w,F;this.removeEventListeners();document.addEventListener(Pa.Ks.COPY,this.onCopy);document.addEventListener(Pa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Pa.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(Pa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(w=document.fonts)||void 0===w||null===(F=w.addEventListener)||void 0===F||F.call(w,"loadingdone",this.onFontLoaded);document.addEventListener(Pa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Pa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Pa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Pa.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(Pa.Ks.CUT,this.onCut),document.addEventListener(Pa.Ks.SCROLL,this.onScroll),window.addEventListener(Pa.Ks.RESIZE,this.onResize,!1),window.addEventListener(Pa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Pa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Pa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Pa.Ks.DROP,this.disableEvent,!1))},t.prototype.componentDidUpdate=function(w,F){var S,aa,wa,ua,Ba=this;(w.langCode!==this.props.langCode&&
this.updateLanguage(),w.width!==this.props.width||w.height!==this.props.height||"number"==typeof this.props.offsetLeft&&w.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&w.offsetTop!==this.props.offsetTop)&&this.setState(Ta({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==(ua=this.props.height)&&void 0!==ua?ua:window.innerHeight},this.getCanvasOffsets(this.props)));w.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);F.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();w.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});w.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Pa.k:null});null===(S=document.querySelector(".excalidraw"))||void 0===S||S.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ba.actionManager.executeAction(Of)});w=F.multiElement;F.elementType!==this.state.elementType&&null!=w&&this.state.isBindingEnabled&&mg(w)&&jk(w,this.state,this.scene,Bg(Xf.getPointAtIndexGlobalCoordinates(w,-1)));var Ma={},Ga={},gb={},mb={},nb={};this.state.collaborators.forEach(function(qc,Xc){if(qc.selectedElementIds)for(var cd=0,md=Object.keys(qc.selectedElementIds);cd<md.length;cd++){var ce=md[cd];ce in gb||(gb[ce]=[]);gb[ce].push(Xc)}qc.pointer&&(qc.username&&(mb[Xc]=qc.username),
qc.userState&&(nb[Xc]=qc.userState),Ga[Xc]=ch({sceneX:qc.pointer.x,sceneY:qc.pointer.y},Ba.state),Ma[Xc]=qc.button)});F=this.scene.getElements();S=cn(F.filter(function(qc){return!Ba.state.editingElement||"text"!==Ba.state.editingElement.type||qc.id!==Ba.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ga,
remotePointerButton:Ma,remoteSelectedElementIds:gb,remotePointerUsernames:mb,remotePointerUserStates:nb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!rg().matches});w=S.atLeastOneVisibleElement;(S=S.scrollBars)&&(Zr=S);var Xb,Sb;F="text"!==(null===(aa=this.state.editingElement)||void 0===aa?void 0:aa.type)&&!w&&0<F.length;(this.state.scrolledOutside!==F&&this.setState({scrolledOutside:F}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(Xb=(Sb=this.props).onChange)||void 0===Xb||Xb.call(Sb,this.scene.getElementsIncludingDeleted(),this.state)},t.resetTapTwice=function(){qq=!1},t.prototype.addTextFromPaste=function(w){var F,S=ng({clientX:Cp,clientY:Dp},this.state);w=Fj({x:S.x,y:S.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:w,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Pa.hs});this.scene.replaceAllElements(Zg(Zg([],this.scene.getElementsIncludingDeleted()),[w]));this.setState({selectedElementIds:(F={},F[w.id]=!0,F)});nk.resumeRecording()},t.prototype.selectShapeTool=function(w){var F;Yo||
ri(this.canvas,w);(F=document.activeElement)instanceof HTMLElement&&F.className.includes("ToolIcon")&&document.activeElement.blur();cj(w)||this.setState({suggestedBindings:[]});"selection"!==w?this.setState({elementType:w,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:w})},t.prototype.handleTextWysiwyg=function(w,F){F=F.isExistingElement;var S=void 0!==F&&F,aa=this,wa=function(ua,Ba){void 0===Ba&&(Ba=!1);aa.scene.replaceAllElements(Zg([],aa.scene.getElementsIncludingDeleted().map(function(Ma){if(Ma.id===
w.id&&Xd(Ma)){var Ga=Ba;Ga={text:ua,isDeleted:null!=Ga?Ga:Ma.isDeleted};var gb=Ti(ua,Si(Ma));var mb=gb.width;var nb=gb.height;gb=gb.baseline;var Xb=Ma.textAlign;var Sb=Ma.verticalAlign;if("center"===Xb&&"middle"===Sb)Xb=Ti(Ma.text,Si(Ma)),Sb=Rh(Ma,{width:mb-Xb.width,height:nb-Xb.height}),Xb=Ma.x-Sb.x,Sb=Ma.y-Sb.y;else{var qc=ag(Ma);Sb=qc[0];var Xc=qc[1],cd=qc[2];qc=qc[3];var md=Og(Ma,mb,nb);Xb=(Sb=hg({s:!0,e:"center"===Xb||"left"===Xb,w:"center"===Xb||"right"===Xb},Ma.x,Ma.y,Ma.angle,(Sb-md[0])/2,
(Xc-md[1])/2,(cd-md[2])/2,(qc-md[3])/2))[0];Sb=Sb[1]}mb={width:mb,height:nb,x:Number.isFinite(Xb)?Xb:Ma.x,y:Number.isFinite(Sb)?Sb:Ma.y,baseline:gb};Ma=tg(Ma,Ea(Ga,mb))}return Ma})))};!function(ua){var Ba=ua.id,Ma=ua.appState,Ga=ua.onChange,gb=ua.onSubmit,mb=ua.getViewportCoords,nb=ua.element;ua=ua.canvas;var Xb=function(){var ye,We=null===(ye=qh.getScene(nb))||void 0===ye?void 0:ye.getElement(Ba);if(We&&Xd(We)){ye=mb(We.x,We.y);var sd=ye[0],Qd=ye[1];ye=We.textAlign;var $d=We.angle;Sb.value=We.text;
var Me=We.text.replace(/\r\n?/g,"\n").split("\n"),Ah=We.height/Me.length;Me=(Ma.offsetLeft+Ma.width-sd-8)/Ma.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Uh=Object,wj=Uh.assign,$i=Sb.style,Pl=Si(We);Ah="".concat(Ah,"px");var qn="".concat(We.width,"px"),cm="".concat(We.height,"px");sd="".concat(sd,"px");Qd="".concat(Qd,"px");var rn=We.width;var Om=Ma.zoom,eo=180*$d/Math.PI;$d=(rn-2*Ma.offsetLeft)*(Om.value-1)/2;var Pm=(We.height-
2*Ma.offsetTop)*(Om.value-1)/2;rn=(rn>Me&&1!==Om.value&&($d=Me/2*(Om.value-1)),"translate(".concat($d,"px, ").concat(Pm,"px) scale(").concat(Om.value,") rotate(").concat(eo,"deg)"));wj.call(Uh,$i,{font:Pl,lineHeight:Ah,width:qn,height:cm,left:sd,top:Qd,transform:rn,textAlign:ye,color:We.strokeColor,opacity:We.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Me,"px")})}},Sb=document.createElement("textarea");Sb.dir="auto";Sb.tabIndex=0;Sb.dataset.type="wysiwyg";Sb.wrap="off";Object.assign(Sb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});Xb();Ga&&(Sb.oninput=function(){Ga(Pk(Sb.value))});Sb.onkeydown=function(ye){"Escape"===ye.key?(ye.preventDefault(),Xc()):"Enter"===ye.key&&ye[Ue]?(ye.preventDefault(),ye.isComposing||229===ye.keyCode)||Xc():"Enter"!==ye.key||ye.altKey||ye.stopPropagation()};var qc=function(ye){ye.preventDefault();
ye.stopPropagation()},Xc=function(){gb(Pk(Sb.value));ae||(ae=!0,Sb.onblur=null,Sb.oninput=null,Sb.onkeydown=null,Be&&Be.disconnect(),window.removeEventListener("resize",Xb),window.removeEventListener("wheel",qc,!0),window.removeEventListener("pointerdown",md),window.removeEventListener("pointerup",cd),window.removeEventListener("blur",Xc),ce(),Sb.remove())},cd=function(){window.removeEventListener("pointerup",cd);setTimeout(function(){Sb.onblur=Xc;Sb.focus()})},md=function(ye){ye.target instanceof
HTMLElement&&ye.target.closest(".".concat(Pa.$C.SHAPE_ACTIONS_MENU))&&!Ag(ye.target)&&(Sb.onblur=null,window.addEventListener("pointerup",cd),window.addEventListener("blur",Xc))},ce=qh.getScene(nb).addCallback(function(){Xb();Sb.focus()}),ae=!1;Sb.onblur=Xc;var Be=null;ua&&"ResizeObserver"in window?(Be=new window.ResizeObserver(function(){Xb()})).observe(ua):window.addEventListener("resize",Xb);window.addEventListener("pointerdown",md);window.addEventListener("wheel",qc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Sb);
Sb.focus();Sb.select()}({id:w.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(ua,Ba){ua=ch({sceneX:ua,sceneY:Ba},aa.state);return[ua.x-aa.state.offsetLeft,ua.y-aa.state.offsetTop]},onChange:Vf(function(ua){wa(ua);!w.isDeleted&&yi(w)}),onSubmit:Vf(function(ua){var Ba=!ua.trim();wa(ua,Ba);Ba?oj(aa.scene.getElements(),[w]):aa.setState(function(Ma){var Ga;return{selectedElementIds:Ta(Ta({},Ma.selectedElementIds),{},(Ga={},Ga[w.id]=!0,Ga))}});Ba&&!S||nk.resumeRecording();aa.setState({draggingElement:null,
editingElement:null});aa.state.elementLocked&&ri(aa.canvas,aa.state.elementType)}),element:w});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});wa(w.text)},t.prototype.getTextElementAtPosition=function(w,F){return(w=this.getElementAtPosition(w,F))&&Xd(w)&&!w.isDeleted?w:null},t.prototype.getElementAtPosition=function(w,F){var S=this.getElementsAtPosition(w,F);if(1<S.length){var aa=S[S.length-1];return Ik(aa,this.state,w,F)?S[S.length-2]:aa}return 1===S.length?S[0]:null},
t.prototype.getElementsAtPosition=function(w,F){var S,aa,wa=this;return S=this.scene.getElements(),aa=function(ua){var Ba=wa.state,Ma=10/Ba.zoom.value,Ga=[w,F];return Ba.selectedElementIds[ua.id]?Kl(ua,Ga,Ma):fk(ua,Ba,Ga)},S.filter(function(ua){return!ua.isDeleted&&aa(ua)})},t.prototype.maybeCleanupAfterMissingPointerUp=function(w){null!==fo&&fo(w)},t.prototype.updateGestureOnPointerDown=function(w){vl.set(w.pointerId,{x:w.clientX,y:w.clientY});2===vl.size&&(sp=Mm(vl),tp=this.state.zoom.value,cr=
Zn(Array.from(vl.values())))},t.prototype.initialPointerDownState=function(w){var F=ng(w,this.state),S=of(this.scene.getElements(),this.state),aa=zg(S),wa=aa[0],ua=aa[1],Ba=aa[2];aa=aa[3];return{origin:F,originInGrid:Bg(oi(F.x,F.y,this.state.gridSize)),scrollbars:hi(Zr,w.clientX-this.state.offsetLeft,w.clientY-this.state.offsetTop),lastCoords:Ta({},F),originalElements:this.scene.getElements().reduce(function(Ma,Ga){return Ma.set(Ga.id,Gj(Ga)),Ma},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,
y:0},arrowDirection:"origin",center:{x:(Ba+wa)/2,y:(aa+ua)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(F,S)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},t.prototype.handleDraggingScrollBar=function(w,F){var S=this;if(!F.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;F.lastCoords.x=w.clientX;F.lastCoords.y=
w.clientY;var aa=Vf(function(ua){ua.target instanceof HTMLElement&&S.handlePointerMoveOverScrollbars(ua,F)}),wa=Vf(function(){Yr=!1;ri(S.canvas,S.state.elementType);fo=null;S.setState({cursorButton:"up"});S.savePointer(w.clientX,w.clientY,"up");window.removeEventListener(Pa.Ks.POINTER_MOVE,aa);window.removeEventListener(Pa.Ks.POINTER_UP,wa)});return fo=wa,window.addEventListener(Pa.Ks.POINTER_MOVE,aa),window.addEventListener(Pa.Ks.POINTER_UP,wa),!0},t.prototype.isASelectedElement=function(w){return null!=
w&&this.state.selectedElementIds[w.id]},t.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(w,F){if(2>F.length)return!1;var S=10/this.state.zoom.value;F=zg(F);var aa=F[1],wa=F[2],ua=F[3];return w.x>F[0]-S&&w.x<wa+S&&w.y>aa-S&&w.y<ua+S},t.prototype.onKeyDownFromPointerDownHandler=function(w){var F=this;return Vf(function(S){F.maybeHandleResize(w,S)||F.maybeDragNewGenericElement(w,S)})},t.prototype.onKeyUpFromPointerDownHandler=function(w){var F=this;return Vf(function(S){"Alt"===S.key&&
S.preventDefault();F.maybeHandleResize(w,S)||F.maybeDragNewGenericElement(w,S)})},t.prototype.onPointerMoveFromPointerDownHandler=function(w){var F=this;return Vf(function(S){if(null===w.drag.offset&&(w.drag.offset=Bg(function(cd,md,ce){cd=zg(cd);return[md-cd[0],ce-cd[1]]}(of(F.scene.getElements(),F.state),w.origin.x,w.origin.y))),S.target instanceof HTMLElement&&!F.handlePointerMoveOverScrollbars(S,w)){var aa=ng(S,F.state),wa=oi(aa.x,aa.y,F.state.gridSize),ua=wa[0];wa=wa[1];if(w.drag.hasOccurred||
"arrow"!==F.state.elementType&&"line"!==F.state.elementType||!(Math.hypot(w.origin.x-aa.x,w.origin.y-aa.y)<Pa.f)){if(w.resize.isResizing&&(w.lastCoords.x=aa.x,w.lastCoords.y=aa.y,F.maybeHandleResize(w,S)))return!0;if(F.state.editingLinearElement&&Xf.handlePointDragging(F.state,function(cd){return F.setState(cd)},aa.x,aa.y,function(cd,md){F.maybeSuggestBindingForLinearElementAtCursor(cd,md,aa)}))return w.lastCoords.x=aa.x,void(w.lastCoords.y=aa.y);if(w.hit.allHitElements.some(function(cd){return F.isASelectedElement(cd)})||
w.hit.hasHitCommonBoundingBoxOfSelectedElements){w.drag.hasOccurred=!0;var Ba=of(F.scene.getElements(),F.state);if(0<Ba.length){ua=oi(aa.x-w.drag.offset.x,aa.y-w.drag.offset.y,F.state.gridSize);var Ma=ua[0];ua=ua[1];wa=[Math.abs(aa.x-w.origin.x),Math.abs(aa.y-w.origin.y)];if(function(cd,md,ce,ae,Be,ye,We,sd){void 0===ye&&(ye=!1);void 0===We&&(We=0);void 0===sd&&(sd=0);Be=zg(md);var Qd=ce-Be[0],$d=ae-Be[1];md.forEach(function(Me){if(ye){var Ah=ye&&We<sd;var Uh=ye&&We>sd;var wj=cd.originalElements.get(Me.id);
Ah=Ah&&wj?wj.x:Me.x+Qd;Uh=Uh&&wj?wj.y:Me.y+$d}else Ah=Me.x+Qd,Uh=Me.y+$d;bf(Me,{x:Ah,y:Uh});yi(Me,{simultaneouslyUpdated:md})})}(w,Ba,Ma,ua,F.scene,S.shiftKey,wa[0],wa[1]),F.maybeSuggestBindingForAll(Ba),S.altKey&&!w.hit.hasBeenDuplicated){w.hit.hasBeenDuplicated=!0;Ba=[];S=[];var Ga=new Map;wa=new Map;for(var gb=w.hit.element,mb=0,nb=F.scene.getElementsIncludingDeleted();mb<nb.length;mb++){var Xb=nb[mb];if(F.state.selectedElementIds[Xb.id]||Xb.id===(null==gb?void 0:gb.id)&&w.hit.wasAddedToSelection){var Sb=
Vi(F.state.editingGroupId,Ga,Xb),qc=oi(w.origin.x-w.drag.offset.x,w.origin.y-w.drag.offset.y,F.state.gridSize);bf(Sb,{x:Sb.x+(qc[0]-Ma),y:Sb.y+(qc[1]-ua)});Ba.push(Sb);S.push(Xb);wa.set(Xb.id,Sb.id)}else Ba.push(Xb)}Ma=Zg(Zg([],Ba),S);Uj(Ma,S,wa,"duplicatesServeAsOld");F.scene.replaceAllElements(Ma)}return}}if(Ba=F.state.draggingElement)if(Dg(Ba)?(w.drag.hasOccurred=!0,Ga=Ba.points,mb=gb=void 0,"draw"===Ba.type?(gb=aa.x-Ba.x,mb=aa.y-Ba.y):(gb=ua-Ba.x,mb=wa-Ba.y),S.shiftKey&&2===Ga.length&&(gb=(Ma=
Je(F.state.elementType,gb,mb)).width,mb=Ma.height),1===Ga.length?bf(Ba,{points:Zg(Zg([],Ga),[[gb,mb]])}):1<Ga.length&&("draw"===Ba.type?bf(Ba,{points:L(Zg(Zg([],Ga),[[gb,mb]]),.7/F.state.zoom.value)}):bf(Ba,{points:Zg(Zg([],Ga.slice(0,-1)),[[gb,mb]])})),mg(Ba)&&F.maybeSuggestBindingForLinearElementAtCursor(Ba,"end",aa,F.state.startBoundElement)):(w.lastCoords.x=aa.x,w.lastCoords.y=aa.y,F.maybeDragNewGenericElement(w,S)),"selection"===F.state.elementType){Ma=F.scene.getElements();!S.shiftKey&&lg(Ma,
F.state)&&F.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Xc=function(cd,md){md=ag(md);var ce=md[0],ae=md[1],Be=md[2],ye=md[3];return cd.filter(function(We){var sd=pi(We),Qd=sd[0],$d=sd[1],Me=sd[2];sd=sd[3];return"selection"!==We.type&&ce<=Qd&&ae<=$d&&Be>=Me&&ye>=sd})}(Ma,Ba);F.setState(function(cd){return Qh(Ta(Ta({},cd),{},{selectedElementIds:Ta(Ta({},cd.selectedElementIds),Xc.reduce(function(md,ce){return md[ce.id]=!0,md},{}))}),F.scene.getElements())})}}}})},t.prototype.handlePointerMoveOverScrollbars=
function(w,F){return F.scrollbars.isOverHorizontal?(w=w.clientX,this.setState({scrollX:this.state.scrollX-(w-F.lastCoords.x)/this.state.zoom.value}),F.lastCoords.x=w,!0):F.scrollbars.isOverVertical?(w=w.clientY,this.setState({scrollY:this.state.scrollY-(w-F.lastCoords.y)/this.state.zoom.value}),F.lastCoords.y=w,!0):!1},t.prototype.onPointerUpFromPointerDownHandler=function(w){var F=this;return Vf(function(S){var aa=F.state,wa=aa.draggingElement,ua=aa.resizingElement,Ba=aa.multiElement,Ma=aa.elementType,
Ga=aa.elementLocked,gb=aa.isResizing;aa=aa.isRotating;if(F.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ba||Xd(F.state.editingElement)?F.state.editingElement:null}),F.savePointer(S.clientX,S.clientY,"up"),F.state.editingLinearElement){var mb=Xf.handlePointerUp(S,F.state.editingLinearElement,F.state);mb!==F.state.editingLinearElement&&F.setState({editingLinearElement:mb,suggestedBindings:[]})}if(fo=null,window.removeEventListener(Pa.Ks.POINTER_MOVE,
w.eventListeners.onMove),window.removeEventListener(Pa.Ks.POINTER_UP,w.eventListeners.onUp),window.removeEventListener(Pa.Ks.KEYDOWN,w.eventListeners.onKeyDown),window.removeEventListener(Pa.Ks.KEYUP,w.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(Dg(wa))1<wa.points.length&&nk.resumeRecording(),S=ng(S,F.state),w.drag.hasOccurred||!wa||Ba?w.drag.hasOccurred&&!Ba&&(F.state.isBindingEnabled&&mg(wa)&&jk(wa,F.state,F.scene,S),F.setState({suggestedBindings:[],startBoundElement:null}),Ga||
"draw"===Ma?F.setState(function(Sb){var qc;return{draggingElement:null,selectedElementIds:Ta(Ta({},Sb.selectedElementIds),{},(qc={},qc[F.state.draggingElement.id]=!0,qc))}}):(Fi(F.canvas),F.setState(function(Sb){var qc;return{draggingElement:null,elementType:"selection",selectedElementIds:Ta(Ta({},Sb.selectedElementIds),{},(qc={},qc[F.state.draggingElement.id]=!0,qc))}}))):(bf(wa,{points:Zg(Zg([],wa.points),[[S.x-wa.x,S.y-wa.y]])}),F.setState({multiElement:wa,editingElement:F.state.draggingElement}));
else{if("selection"!==Ma&&wa&&Lh(wa))return F.scene.replaceAllElements(F.scene.getElementsIncludingDeleted().slice(0,-1)),void F.setState({draggingElement:null});wa&&bf(wa,Fl(wa));ua&&nk.resumeRecording();ua&&Lh(ua)&&F.scene.replaceAllElements(F.scene.getElementsIncludingDeleted().filter(function(Sb){return Sb.id!==ua.id}));var nb=w.hit.element;if(nb&&!w.drag.hasOccurred&&!w.hit.wasAddedToSelection)if(S.shiftKey)if(F.state.selectedElementIds[nb.id])if(null!=rh(F.state,nb)){var Xb=nb.groupIds.flatMap(function(Sb){return ck(F.scene.getElements(),
Sb)}).map(function(Sb){var qc;return(qc={})[Sb.id]=!1,qc}).reduce(function(Sb,qc){return Ta(Ta({},Sb),qc)},{});F.setState(function(Sb){return{selectedGroupIds:Ta(Ta({},Sb.selectedElementIds),nb.groupIds.map(function(qc){var Xc;return(Xc={})[qc]=!1,Xc}).reduce(function(qc,Xc){return Ta(Ta({},qc),Xc)},{})),selectedElementIds:Ta(Ta({},Sb.selectedElementIds),Xb)}})}else F.setState(function(Sb){var qc;return{selectedElementIds:Ta(Ta({},Sb.selectedElementIds),{},(qc={},qc[nb.id]=!1,qc))}});else F.setState(function(Sb){var qc;
return{selectedElementIds:Ta(Ta({},Sb.selectedElementIds),{},(qc={},qc[nb.id]=!0,qc))}});else F.setState(function(Sb){var qc;return Ta({},Qh(Ta(Ta({},Sb),{},{selectedElementIds:(qc={},qc[nb.id]=!0,qc)}),F.scene.getElements()))});F.state.editingLinearElement||w.drag.hasOccurred||F.state.isResizing||!(nb&&Ik(nb,F.state,w.origin.x,w.origin.y)||!nb&&w.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ga&&"draw"!==Ma&&wa&&F.setState(function(Sb){var qc;return{selectedElementIds:Ta(Ta({},Sb.selectedElementIds),
{},(qc={},qc[wa.id]=!0,qc))}}),("selection"!==Ma||lg(F.scene.getElements(),F.state))&&nk.resumeRecording(),(w.drag.hasOccurred||gb||aa)&&(F.state.isBindingEnabled?og:$g)(of(F.scene.getElements(),F.state)),Ga||"draw"===Ma?F.setState({draggingElement:null,suggestedBindings:[]}):(Fi(F.canvas),F.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):F.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else F.actionManager.executeAction(Of)})},t.prototype.maybeSuggestBindingForAll=
function(w){var F;w=(F=new Set(w.map(function(S){return S.id})),w.flatMap(function(S){return mg(S)?Bl(S).filter(function(aa){return!F.has(aa.id)}):vk(S)?kh(S).filter(function(aa){return!F.has(aa[0].id)}):[]}));this.setState({suggestedBindings:w})},t.prototype.clearSelection=function(w){this.setState(function(F){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:F.editingGroupId&&null!=w&&w.groupIds.includes(F.editingGroupId)?F.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},t.prototype.getTextWysiwygSnappedToCenterPosition=function(w,F,S,aa,wa){if(wa=function(ua,Ba,Ma){for(var Ga=null,gb=ua.length-1;0<=gb;--gb)if(!ua[gb].isDeleted){var mb=ag(ua[gb]),nb=mb[1],Xb=mb[2],Sb=mb[3];if(mb[0]<Ba&&Ba<Xb&&nb<Ma&&Ma<Sb){Ga=ua[gb];break}}return Ga}(this.scene.getElementsIncludingDeleted().filter(function(ua){return!Xd(ua)}),w,F))if(aa=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(w-aa,F-wa)<Pa.wZ)return w=ch({sceneX:aa,
sceneY:wa},S),{viewportX:w.x,viewportY:w.y,elementCenterX:aa,elementCenterY:wa}},t.prototype.getCanvasOffsets=function(w){var F,S;return"number"==typeof(null==w?void 0:w.offsetLeft)&&"number"==typeof(null==w?void 0:w.offsetTop)?{offsetLeft:w.offsetLeft,offsetTop:w.offsetTop}:null!==(F=this.excalidrawContainerRef)&&void 0!==F&&null!==(S=F.current)&&void 0!==S&&S.parentElement?(S=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),F=S.left,S=S.top,{offsetLeft:"number"==typeof(null==
w?void 0:w.offsetLeft)?w.offsetLeft:F,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:S}):{offsetLeft:"number"==typeof(null==w?void 0:w.offsetLeft)?w.offsetLeft:0,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:0}},t.prototype.updateLanguage=function(){var w=this;return zb()(function(){var F;return Xo(this,function(S){switch(S.label){case 0:return F=Uc.find(function(aa){return aa.code===w.props.langCode})||Nd,[4,ef(F)];case 1:return S.sent(),w.setAppState({}),
[2]}})})()},t}(U().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Ut=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=U().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Vf(function(t){if(!d.unmounted&&!1!==t){var w=null;if(t.elements&&(t.elements.forEach(function(Ma){var Ga;(null===
(Ga=d.state.editingElement)||void 0===Ga?void 0:Ga.id)===Ma.id&&d.state.editingElement!==Ma&&!Ma.isDeleted&&(w=Ma)}),d.scene.replaceAllElements(t.elements),t.commitToHistory&&nk.resumeRecording()),t.appState||w){var F,S,aa;t.commitToHistory&&nk.resumeRecording();var wa=(null==t||null===(F=t.appState)||void 0===F?void 0:F.viewModeEnabled)||!1,ua=(null==t||null===(S=t.appState)||void 0===S?void 0:S.zenModeEnabled)||!1,Ba=(null==t||null===(aa=t.appState)||void 0===aa?void 0:aa.gridSize)||null;void 0!==
d.props.viewModeEnabled&&(wa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(ua=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ba=d.props.gridModeEnabled?Pa.k:null);d.setState(function(Ma){var Ga;return Object.assign(t.appState||{},{editingElement:w||(null===(Ga=t.appState)||void 0===Ga?void 0:Ga.editingElement)||null,width:Ma.width,height:Ma.height,offsetTop:Ma.offsetTop,offsetLeft:Ma.offsetLeft,viewModeEnabled:wa,zenModeEnabled:ua,gridSize:Ba})},function(){t.syncHistory&&
nk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Vf(function(){Yo=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(t){t.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(t){Xd(t)&&ti.delete(t)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var t=zb()(function(w){var F,S,aa,wa,ua;return Xo(this,function(Ba){switch(Ba.label){case 0:window.history.replaceState({},
Pa.iC,window.location.origin),Ba.label=1;case 1:return Ba.trys.push([1,7,,8]),[4,fetch(w)];case 2:return[4,Ba.sent().blob()];case 3:return F=Ba.sent(),wa=(aa=JSON).parse,[4,F.text()];case 4:Ba=S=wa.apply(aa,[Ba.sent()]);if("object"!=typeof Ba||!Ba||"excalidrawlib"!==Ba.type||1!==Ba.version)throw Error();return window.confirm(Mb("alerts.confirmAddLibrary",{numShapes:S.library.length}))?[4,jh.importLibrary(F)]:[3,6];case 5:Ba.sent(),d.setState({isLibraryOpen:!0}),Ba.label=6;case 6:return[3,8];case 7:return ua=
Ba.sent(),window.alert(Mb("alerts.errorLoadingLibrary")),console.error(ua),[3,8];case 8:return[2]}})});return function(w){return t.apply(this,arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=Vf(function(t){d.scene.replaceAllElements([]);d.setState(function(w){return Ta(Ta({},xh()),{},{isLoading:(null==t||!t.resetLoadingState)&&w.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=zb()(function(){var t,w,F,S,aa;return Xo(this,function(wa){switch(wa.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ua=zb()(function(Ba){var Ma,Ga;return Xo(this,function(gb){switch(gb.label){case 0:return Ba.files.length?[4,(Ma=Ba.files[0]).getFile()]:[2];case 1:return(Ga=gb.sent()).handle=Ma,Hm(Ga,d.state).then(function(mb){return d.syncActionResult({elements:mb.elements,appState:Ta(Ta({},mb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(mb){d.setState({isLoading:!1,errorMessage:mb.message})}),[2]}})});
return function(Ba){return ua.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),w=null,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return w=wa.sent()||null,[3,4];case 3:return F=wa.sent(),console.error(F),[3,4];case 4:return(S=fn(w,null)).appState=Ta(Ta({},S.appState),{},{isLoading:!1}),null!==(t=w)&&void 0!==t&&t.scrollToCenter&&(S.appState=Ta(Ta({},S.appState),ji(S.elements,Ta(Ta({},S.appState),{},{width:d.state.width,height:d.state.height,
offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Ta(Ta({},S),{},{commitToHistory:!0})),(aa=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(aa)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=Vf(function(){d.scene.getElementsIncludingDeleted().forEach(function(t){return ti.delete(t)});d.setState({})});this.onScroll=qi(function(){var t=d.getCanvasOffsets(),w=t.offsetTop,F=t.offsetLeft;
d.setState(function(S){return S.offsetLeft===F&&S.offsetTop===w?null:{offsetTop:w,offsetLeft:F}})},Pa.HM);this.onCut=Vf(function(t){Ag(t.target)||(d.cutAll(),t.preventDefault())});this.onCopy=Vf(function(t){var w=document.getSelection();null!=w&&w.anchorNode&&!d.excalidrawContainerRef.current.contains(w.anchorNode)||Ag(t.target)||(d.copyAll(),t.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(bm)};this.copyAll=function(){zk(d.scene.getElements(),d.state)};this.onTapStart=
function(t){if(!qq)return qq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Wr.resetTapTwice,Pa.Gj));if(qq&&1===t.touches.length){var w=t.touches[0];d.handleCanvasDoubleClick({clientX:w.clientX,clientY:w.clientY});qq=!1;clearTimeout(Xr)}t.preventDefault();2===t.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(t){t.preventDefault();0<t.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=
Vf(function(){var t=zb()(function(w){var F,S,aa;return Xo(this,function(wa){switch(wa.label){case 0:return F=document.activeElement,S=document.elementFromPoint(Cp,Dp),!w||S instanceof HTMLCanvasElement&&!Ag(F)?[4,$a(w)]:[2];case 1:return(aa=wa.sent()).errorMessage?d.setState({errorMessage:aa.errorMessage}):aa.spreadsheet?d.setState({pasteDialog:{data:aa.spreadsheet,shown:!0}}):aa.elements?d.addElementsFromPasteOrLibrary(aa.elements):aa.text&&d.addTextFromPaste(aa.text),d.selectShapeTool("selection"),
null==w||w.preventDefault(),[2]}})});return function(w){return t.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(t,w,F){void 0===w&&(w=Cp);void 0===F&&(F=Dp);var S=zg(t),aa=S[0],wa=S[1],ua=Math.abs(aa-S[2])/2;S=Math.abs(wa-S[3])/2;w=ng({clientX:w,clientY:F},d.state);ua=w.x-ua;S=w.y-S;var Ba=new Map;ua=oi(ua,S,d.state.gridSize);var Ma=ua[0],Ga=ua[1],gb=new Map;ua=t.map(function(mb){var nb=Vi(d.state.editingGroupId,Ba,mb,{x:mb.x+Ma-aa,y:mb.y+Ga-wa});return gb.set(mb.id,nb.id),
nb});S=Zg(Zg([],d.scene.getElementsIncludingDeleted()),ua);Uj(S,t,gb);d.scene.replaceAllElements(S);nk.resumeRecording();d.setState(Qh(Ta(Ta({},d.state),{},{isLibraryOpen:!1,selectedElementIds:ua.reduce(function(mb,nb){return mb[nb.id]=!0,mb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(t){d.setState(t)};this.removePointer=function(t){"touch"===t.pointerType&&go&&(clearTimeout(go),go=0,cq=!1);vl.delete(t.pointerId)};this.toggleLock=function(){d.setState(function(t){return{elementLocked:!t.elementLocked,
elementType:t.elementLocked?"selection":t.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(fe)};this.toggleStats=function(){d.state.showStats||Qg("dialog","stats");d.actionManager.executeAction(Xn)};this.setScrollToCenter=function(t){d.setState(Ta({},ji(Wd(t),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Vf(function(t){var w;t.commitToHistory&&nk.resumeRecording();null!==(w=t.appState)&&void 0!==w&&w.viewBackgroundColor&&
d.setState({viewBackgroundColor:t.appState.viewBackgroundColor});t.elements&&d.scene.replaceAllElements(t.elements);t.collaborators&&d.setState({collaborators:t.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Vf(function(t){Cp=t.x;Dp=t.y});this.onKeyDown=Vf(function(t){var w;if(!(("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(wa,ua){var Ba=wa[ua];return"function"==typeof Ba?
Ba.bind(wa):"key"===ua?t.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Ba}})),Ag(t.target)&&"Escape"!==t.key||sg(t.key)&&(w=t.target,w instanceof HTMLElement&&"wysiwyg"===w.dataset.type||w instanceof HTMLBRElement||w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement||w instanceof HTMLSelectElement))||("?"===t.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(t)||d.state.viewModeEnabled))){if(t[Ue]&&d.setState({isBindingEnabled:!1}),"Digit9"===t.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),
sg(t.key)){w=d.state.gridSize&&(t.shiftKey?Pa.$e:d.state.gridSize)||(t.shiftKey?Pa.Iw:Pa.$e);var F=d.scene.getElements().filter(function(wa){return d.state.selectedElementIds[wa.id]}),S=0,aa=0;"ArrowLeft"===t.key?S=-w:"ArrowRight"===t.key?S=w:"ArrowUp"===t.key?aa=-w:"ArrowDown"===t.key&&(aa=w);F.forEach(function(wa){bf(wa,{x:wa.x+S,y:wa.y+aa});yi(wa,{simultaneouslyUpdated:F})});d.maybeSuggestBindingForAll(F);t.preventDefault()}else if("Enter"===t.key)if(w=of(d.scene.getElements(),d.state),1===w.length&&
Dg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(nk.resumeRecording(),d.setState({editingLinearElement:new Xf(w[0],d.scene)}));else{if(1===w.length&&!Dg(w[0]))return w=w[0],d.startTextEditing({sceneX:w.x+w.width/2,sceneY:w.y+w.height/2}),void t.preventDefault()}else t.ctrlKey||t.altKey||t.metaKey||null!==d.state.draggingElement||((w=function(wa){var ua=rm.find(function(Ba,Ma){return wa===(Ma+1).toString()||("string"==typeof Ba.key?Ba.key===wa:Ba.key.includes(wa))});
return(null==ua?void 0:ua.value)||null}(t.key))?d.selectShapeTool(w):"q"===t.key&&d.toggleLock());" "===t.key&&0===vl.size&&(Yo=!0,Gi(d.canvas,Pa.oc.GRABBING))}});this.onKeyUp=Vf(function(t){if(" "===t.key&&("selection"===d.state.elementType?Fi(d.canvas):(ri(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Yo=!1),t[Ue]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),sg(t.key))t=of(d.scene.getElements(),d.state),d.state.isBindingEnabled?
og(t):$g(t),d.setState({suggestedBindings:[]})});this.onGestureStart=Vf(function(t){t.preventDefault();d.setState({selectedElementIds:{}});tp=d.state.zoom.value});this.onGestureChange=Vf(function(t){if(t.preventDefault(),2!==vl.size){var w=tp;w&&d.setState(function(F){var S=F.zoom,aa=F.offsetLeft;F=F.offsetTop;return{zoom:Xh(Pj(w*t.scale),S,{left:aa,top:F},{x:Cp,y:Dp})}})}});this.onGestureEnd=Vf(function(t){t.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});
tp=null});this.startTextEditing=function(t){var w=t.sceneX,F=t.sceneY;t=t.insertAtParentCenter;var S=void 0===t||t;t=d.getTextElementAtPosition(w,F);S=S&&d.getTextWysiwygSnappedToCenterPosition(w,F,d.state,d.canvas,window.devicePixelRatio);w=t||Fj({x:S?S.elementCenterX:w,y:S?S.elementCenterY:F,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,
roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:S?"center":d.state.currentItemTextAlign,verticalAlign:S?"middle":Pa.hs});d.setState({editingElement:w});t?S&&"center"===w.textAlign||bf(w,{verticalAlign:Pa.hs}):(d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[w])),S||bf(w,{y:w.y-w.baseline/2}));d.setState({editingElement:w});
d.handleTextWysiwyg(w,{isExistingElement:!!t})};this.handleCanvasDoubleClick=function(t){if(!d.state.multiElement&&"selection"===d.state.elementType){var w=of(d.scene.getElements(),d.state);if(1===w.length&&Dg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(nk.resumeRecording(),d.setState({editingLinearElement:new Xf(w[0],d.scene)}));else{Fi(d.canvas);var F=ng(t,d.state);w=F.x;F=F.y;if(0<Ii(d.state).length){var S=d.getElementAtPosition(w,F),aa=S&&function(wa,
ua){return wa.groupIds.find(function(Ba){return ua[Ba]})}(S,d.state.selectedGroupIds);if(aa)return void d.setState(function(wa){var ua;return Qh(Ta(Ta({},wa),{},{editingGroupId:aa,selectedElementIds:(ua={},ua[S.id]=!0,ua),selectedGroupIds:{}}),d.scene.getElements())})}Fi(d.canvas);t[Ue]||d.startTextEditing({sceneX:w,sceneY:F,insertAtParentCenter:!t.altKey})}}};this.handleCanvasPointerMove=function(t){d.savePointer(t.clientX,t.clientY,d.state.cursorButton);vl.has(t.pointerId)&&vl.set(t.pointerId,{x:t.clientX,
y:t.clientY});var w=tp;if(2===vl.size&&sp&&w&&cr){var F=Mm(vl),S=F.x-sp.x,aa=F.y-sp.y;sp=F;var wa=Zn(Array.from(vl.values()))/cr;d.setState(function(Xb){var Sb=Xb.zoom,qc=Xb.offsetLeft,Xc=Xb.offsetTop;return{scrollX:Xb.scrollX+S/Sb.value,scrollY:Xb.scrollY+aa/Sb.value,zoom:Xh(Pj(w*wa),Sb,{left:qc,top:Xc},F),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else sp=cr=tp=null;if(!(Yo||rq||Yr)){var ua=hi(Zr,t.clientX-d.state.offsetLeft,t.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||
d.state.multiElement||(ua?Fi(d.canvas):ri(d.canvas,d.state.elementType));var Ba=ng(t,d.state),Ma=Ba.x,Ga=Ba.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var gb=Xf.handlePointerMove(t,Ma,Ga,d.state.editingLinearElement,d.state.gridSize);gb!==d.state.editingLinearElement&&d.setState({editingLinearElement:gb});null!=gb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ba):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(gb=d.state.draggingElement,mg(gb)?
d.maybeSuggestBindingForLinearElementAtCursor(gb,"end",Ba,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ba));if(d.state.multiElement){ua=d.state.multiElement;Ba=ua.x;gb=ua.y;t=ua.points;var mb=ua.lastCommittedPoint,nb=t[t.length-1];return ri(d.canvas,d.state.elementType),void(nb===mb?Math.hypot(nb[0]-(Ma-Ba),nb[1]-(Ga-gb))>=Pa.qx?bf(ua,{points:Zg(Zg([],t),[[Ma-Ba,Ga-gb]])}):Gi(d.canvas,Pa.oc.POINTER):2<t.length&&mb&&Math.hypot(mb[0]-(Ma-Ba),mb[1]-(Ga-gb))<Pa.qx?(Gi(d.canvas,Pa.oc.POINTER),
bf(ua,{points:t.slice(0,-1)})):($h(t,d.state.zoom.value)&&Gi(d.canvas,Pa.oc.POINTER),bf(ua,{points:Zg(Zg([],t.slice(0,-1)),[[Ma-Ba,Ga-gb]])})))}if(!(t.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){mb=d.scene.getElements();gb=of(mb,d.state);if(1!==gb.length||ua||d.state.editingLinearElement){if(1<gb.length&&!ua&&(Ma=hf(zg(gb),Ma,Ga,d.state.zoom,t.pointerType)))return void Gi(d.canvas,we({transformHandleType:Ma}))}else if((Ma=Ki(mb,d.state,Ma,Ga,d.state.zoom,t.pointerType))&&
Ma.transformHandleType)return void Gi(d.canvas,we(Ma));Ma=d.getElementAtPosition(Ba.x,Ba.y);"text"===d.state.elementType?Gi(d.canvas,Xd(Ma)?Pa.oc.TEXT:Pa.oc.CROSSHAIR):ua?Gi(d.canvas,Pa.oc.AUTO):Ma||d.isHittingCommonBoundingBoxOfSelectedElements(Ba,gb)?Gi(d.canvas,Pa.oc.MOVE):Gi(d.canvas,Pa.oc.AUTO)}}};this.handleTouchMove=function(t){cq=!0};this.handleCanvasPointerDown=function(t){if(t.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),d.maybeCleanupAfterMissingPointerUp(t),!(rq||
(d.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),d.savePointer(t.clientX,t.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(t)||t.button!==Pa.Oh.MAIN&&t.button!==Pa.Oh.TOUCH||(d.updateGestureOnPointerDown(t),t.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<vl.size)))){var w=d.initialPointerDownState(t);if(!d.handleDraggingScrollBar(t,w)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(t),!d.handleSelectionOnPointerDown(t,
w)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(t,d.state.elementType,w):d.createGenericElementOnPointerDown(d.state.elementType,w);t=d.onPointerMoveFromPointerDownHandler(w);var F=d.onPointerUpFromPointerDownHandler(w),S=d.onKeyDownFromPointerDownHandler(w),aa=d.onKeyUpFromPointerDownHandler(w);fo=F;d.state.viewModeEnabled||(window.addEventListener(Pa.Ks.POINTER_MOVE,t),window.addEventListener(Pa.Ks.POINTER_UP,
F),window.addEventListener(Pa.Ks.KEYDOWN,S),window.addEventListener(Pa.Ks.KEYUP,aa),w.eventListeners.onMove=t,w.eventListeners.onUp=F,w.eventListeners.onKeyUp=aa,w.eventListeners.onKeyDown=S)}else d.handleTextOnPointerDown(t,w)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(cq=!1,go?cq=!0:go=window.setTimeout(function(){go=0;cq||d.openContextMenu({clientX:t.clientX,clientY:t.clientY})},Pa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(0!==
vl.size||!(t.button===Pa.Oh.WHEEL||t.button===Pa.Oh.MAIN&&Yo||d.state.viewModeEnabled))return!1;rq=!0;var w=!1,F=/Linux/.test(window.navigator.platform);Gi(d.canvas,Pa.oc.GRABBING);var S=t.clientX,aa=t.clientY,wa=Vf(function(Ba){var Ma=S-Ba.clientX,Ga=aa-Ba.clientY;if(S=Ba.clientX,aa=Ba.clientY,F&&!w&&(1<Math.abs(Ma)||1<Math.abs(Ga))){w=!0;var gb=function(nb){document.body.removeEventListener(Pa.Ks.PASTE,gb);nb.stopPropagation()},mb=function(){setTimeout(function(){document.body.removeEventListener(Pa.Ks.PASTE,
gb);window.removeEventListener(Pa.Ks.POINTER_UP,mb)},100)};document.body.addEventListener(Pa.Ks.PASTE,gb);window.addEventListener(Pa.Ks.POINTER_UP,mb)}d.setState({scrollX:d.state.scrollX-Ma/d.state.zoom.value,scrollY:d.state.scrollY-Ga/d.state.zoom.value})}),ua=Vf(fo=function(){fo=null;rq=!1;Yo||ri(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(t.clientX,t.clientY,"up");window.removeEventListener(Pa.Ks.POINTER_MOVE,wa);window.removeEventListener(Pa.Ks.POINTER_UP,ua);window.removeEventListener(Pa.Ks.BLUR,
ua)});return window.addEventListener(Pa.Ks.BLUR,ua),window.addEventListener(Pa.Ks.POINTER_MOVE,wa,{passive:!0}),window.addEventListener(Pa.Ks.POINTER_UP,ua),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(t,w){if("selection"===d.state.elementType){var F=d.scene.getElements(),S=of(F,d.state);1!==S.length||d.state.editingLinearElement?1<S.length&&
(w.resize.handleType=hf(zg(S),w.origin.x,w.origin.y,d.state.zoom,t.pointerType)):(F=Ki(F,d.state,w.origin.x,w.origin.y,d.state.zoom,t.pointerType),null!=F&&(d.setState({resizingElement:F.element}),w.resize.handleType=F.transformHandleType));if(w.resize.handleType)Gi(d.canvas,we({transformHandleType:w.resize.handleType})),w.resize.isResizing=!0,w.resize.offset=Bg(function(mb,nb,Xb,Sb){var qc,Xc=1===nb.length?ag(nb[0]):zg(nb),cd=Xc[0],md=Xc[1],ce=Xc[2];Xc=Xc[3];nb=1===nb.length?nb[0].angle:0;switch(Xb=
(qc=Bf(Xb,Sb,(cd+ce)/2,(md+Xc)/2,-nb))[0],Sb=qc[1],mb){case "n":return Bf(Xb-(cd+ce)/2,Sb-md,0,0,nb);case "s":return Bf(Xb-(cd+ce)/2,Sb-Xc,0,0,nb);case "w":return Bf(Xb-cd,Sb-(md+Xc)/2,0,0,nb);case "e":return Bf(Xb-ce,Sb-(md+Xc)/2,0,0,nb);case "nw":return Bf(Xb-cd,Sb-md,0,0,nb);case "ne":return Bf(Xb-ce,Sb-md,0,0,nb);case "sw":return Bf(Xb-cd,Sb-Xc,0,0,nb);case "se":return Bf(Xb-ce,Sb-Xc,0,0,nb);default:return[0,0]}}(w.resize.handleType,S,w.origin.x,w.origin.y)),1===S.length&&Dg(S[0])&&2===S[0].points.length&&
(w.resize.arrowDirection=(ua=w.resize.handleType,Ba=S[0],Ma=Ba.points[1],Ga=Ma[0],gb=Ma[1],"nw"===ua&&(0>Ga||0>gb)||"ne"===ua&&0<=Ga||"sw"===ua&&0>=Ga||"se"===ua&&(0<Ga||0<gb)?"end":"origin"));else{var aa;if(d.state.editingLinearElement&&(S=Xf.handlePointerDown(t,d.state,function(mb){return d.setState(mb)},nk,w.origin),S.hitElement&&(w.hit.element=S.hitElement),S.didAddPoint))return!0;w.hit.element=null!==(aa=w.hit.element)&&void 0!==aa?aa:d.getElementAtPosition(w.origin.x,w.origin.y);w.hit.allHitElements=
d.getElementsAtPosition(w.origin.x,w.origin.y);var wa=w.hit.element;aa=w.hit.allHitElements.some(function(mb){return d.isASelectedElement(mb)});if(null!==wa&&aa||t.shiftKey||w.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(wa),null!=wa){if(t[Ue])return d.setState(function(mb){var nb;mb=Oa(Oa({},mb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(nb={},nb[wa.id]=!0,nb)});return Ta(Ta({},mb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[wa.id]||(d.state.editingGroupId&&!wa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),aa||w.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(mb){var nb;return Qh(Ta(Ta({},mb),{},{selectedElementIds:Ta(Ta({},mb.selectedElementIds),{},(nb={},nb[wa.id]=!0,nb))}),d.scene.getElements())}),w.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var ua,
Ba,Ma,Ga,gb;return!1};this.handleTextOnPointerDown=function(t,w){var F;"text"!==(null===(F=d.state.editingElement)||void 0===F?void 0:F.type)&&(d.startTextEditing({sceneX:w.origin.x,sceneY:w.origin.y,insertAtParentCenter:!t.altKey}),Fi(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(t,w,F){if(d.state.multiElement){var S=d.state.multiElement;if("line"===S.type&&$h(S.points,d.state.zoom.value))return bf(S,{lastCommittedPoint:S.points[S.points.length-
1]}),void d.actionManager.executeAction(Of);w=S.x;t=S.y;var aa=S.lastCommittedPoint;if(1<S.points.length&&aa&&Math.hypot(aa[0]-(F.origin.x-w),aa[1]-(F.origin.y-t))<Pa.qx)return void d.actionManager.executeAction(Of);d.setState(function(Ba){var Ma;return{selectedElementIds:Ta(Ta({},Ba.selectedElementIds),{},(Ma={},Ma[S.id]=!0,Ma))}});bf(S,{lastCommittedPoint:S.points[S.points.length-1]});Gi(d.canvas,Pa.oc.POINTER)}else{t=oi(F.origin.x,F.origin.y,"draw"===w?null:d.state.gridSize);var wa=d.state;aa=
wa.currentItemStartArrowhead;wa=wa.currentItemEndArrowhead;aa="arrow"===w?[aa,wa]:[null,null];var ua=Ke({type:w,x:t[0],y:t[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:aa[0],endArrowhead:aa[1]});
d.setState(function(Ba){var Ma;return{selectedElementIds:Ta(Ta({},Ba.selectedElementIds),{},(Ma={},Ma[ua.id]=!1,Ma))}});bf(ua,{points:Zg(Zg([],ua.points),[[0,0]])});F=Wh(F.origin,d.scene);d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[ua]));d.setState({draggingElement:ua,editingElement:ua,startBoundElement:F,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(t,w){w=oi(w.origin.x,w.origin.y,d.state.gridSize);t=Hl({type:t,x:w[0],y:w[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===t.type?d.setState({selectionElement:t,draggingElement:t}):(d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[t])),d.setState({multiElement:null,draggingElement:t,
editingElement:t}))};this.updateBindingEnabledOnPointerMove=function(t){t=!t[Ue];d.state.isBindingEnabled!==t&&d.setState({isBindingEnabled:t})};this.maybeSuggestBindingAtCursor=function(t){t=Wh(t,d.scene);d.setState({suggestedBindings:null!=t?[t]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(t,w,F,S){w=Wh(F,d.scene);d.setState({suggestedBindings:null==w||(null==S?void 0:S.id)===w.id&&3>t.points.length?[]:[w]})};this.handleCanvasRef=function(t){var w,F,S;null!==t?(d.canvas=t,d.rc=
Fh.canvas(d.canvas),d.canvas.addEventListener(Pa.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Pa.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Pa.Ks.TOUCH_END,d.onTapEnd)):(null===(w=d.canvas)||void 0===w||w.removeEventListener(Pa.Ks.WHEEL,d.handleWheel),null===(F=d.canvas)||void 0===F||F.removeEventListener(Pa.Ks.TOUCH_START,d.onTapStart),null===(S=d.canvas)||void 0===S||S.removeEventListener(Pa.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var t=zb()(function(w){var F,
S,aa,wa,ua,Ba,Ma,Ga,gb,mb,nb;return Xo(this,function(Xb){switch(Xb.label){case 0:return Xb.trys.push([0,3,,4]),"image/png"!==(null==(S=w.dataTransfer.files[0])?void 0:S.type)&&"image/svg+xml"!==(null==S?void 0:S.type)?[3,2]:[4,Hm(S,d.state)];case 1:return aa=Xb.sent(),wa=aa.elements,ua=aa.appState,d.syncActionResult({elements:wa,appState:Ta(Ta({},ua||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ba=Xb.sent(),[2,d.setState({isLoading:!1,errorMessage:Ba.message})];
case 4:if(""!==(Ma=w.dataTransfer.getData(Pa.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ma),w.clientX,w.clientY),[2];if(!("application/json"===(null==(Ga=null===(F=w.dataTransfer)||void 0===F?void 0:F.files[0])?void 0:Ga.type)||null!=Ga&&Ga.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];Xb.label=5;case 5:return Xb.trys.push([5,7,,8]),gb=w.dataTransfer.items[0],mb=Ga,
[4,gb.getAsFileSystemHandle()];case 6:return mb.handle=Xb.sent(),[3,8];case 7:return nb=Xb.sent(),console.warn(nb.name,nb.message),[3,8];case 8:return Hm(Ga,d.state).then(function(Sb){return d.syncActionResult({elements:Sb.elements,appState:Ta(Ta({},Sb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Sb){d.setState({isLoading:!1,errorMessage:Sb.message})}),[3,10];case 9:(null==Ga?void 0:Ga.type)===Pa.LO.excalidrawlib||null!=Ga&&Ga.name.endsWith(".excalidrawlib")?jh.importLibrary(Ga).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Sb){return d.setState({isLoading:!1,
errorMessage:Sb.message})}):d.setState({isLoading:!1,errorMessage:Mb("alerts.couldNotLoadInvalidFile")}),Xb.label=10;case 10:return[2]}})});return function(w){return t.apply(this,arguments)}}();this.handleCanvasContextMenu=function(t){t.preventDefault();d.openContextMenu(t)};this.maybeDragNewGenericElement=function(t,w){var F=d.state.draggingElement,S=t.lastCoords;if(F)if("selection"===F.type)ii(F,d.state.elementType,t.origin.x,t.origin.y,S.x,S.y,Math.abs(t.origin.x-S.x),Math.abs(t.origin.y-S.y),
w.shiftKey,w.altKey);else{var aa=oi(S.x,S.y,d.state.gridSize);S=aa[0];aa=aa[1];ii(F,d.state.elementType,t.originInGrid.x,t.originInGrid.y,S,aa,Math.abs(t.originInGrid.x-S),Math.abs(t.originInGrid.y-aa),w.shiftKey,w.altKey);d.maybeSuggestBindingForAll([F])}};this.maybeHandleResize=function(t,w){var F=of(d.scene.getElements(),d.state),S=t.resize.handleType;d.setState({isResizing:S&&"rotation"!==S,isRotating:"rotation"===S});var aa=t.lastCoords;aa=oi(aa.x-t.resize.offset.x,aa.y-t.resize.offset.y,d.state.gridSize);
a:{var wa=t.resize.arrowDirection,ua=w.shiftKey,Ba=w.altKey;w=w.shiftKey;var Ma=aa[0],Ga=aa[1];aa=t.resize.center.x;var gb=t.resize.center.y;if(1===F.length){aa=F[0];if("rotation"===S)S=ag(aa),S=5*Math.PI/2+Math.atan2(Ga-(S[1]+S[3])/2,Ma-(S[0]+S[2])/2),ua&&(S+=Pa.ay/2,S-=S%Pa.ay),S=Hf(S),bf(aa,{angle:S}),yi(aa);else if(!Dg(aa)||2!==aa.points.length||"nw"!==S&&"ne"!==S&&"sw"!==S&&"se"!==S)if(!Xd(aa)||"nw"!==S&&"ne"!==S&&"sw"!==S&&"se"!==S){if(S){wa=t.originalElements.get(aa.id);var mb=Og(wa,wa.width,
wa.height);ua=[mb[0],mb[1]];t=[mb[2],mb[3]];mb=[(ua[0]+t[0])/2,(ua[1]+t[1])/2];gb=dj([Ma,Ga],mb,-wa.angle);Ma=Og(aa,aa.width,aa.height);var nb=Ma[2]-Ma[0],Xb=Ma[3]-Ma[1];Ma=(t[0]-ua[0])/nb;Ga=(t[1]-ua[1])/Xb;S.includes("e")&&(Ma=(gb[0]-ua[0])/nb);S.includes("s")&&(Ga=(gb[1]-ua[1])/Xb);S.includes("w")&&(Ma=(t[0]-gb[0])/nb);S.includes("n")&&(Ga=(t[1]-gb[1])/Xb);gb=wa.width;nb=wa.height;Ma*=aa.width;Ga*=aa.height;if(Ba&&(Ma=2*Ma-gb,Ga=2*Ga-nb),w){Xb=Math.abs(Ma)/gb;var Sb=Math.abs(Ga)/nb;if(1===S.length&&
(Ga*=Xb,Ma*=Sb),2===S.length)Xb=Math.max(Xb,Sb),Ma=gb*Xb*Math.sign(Ma),Ga=nb*Xb*Math.sign(Ga)}Sb=Og(wa,Ma,Ga);gb=Sb[0];nb=Sb[1];Xb=Sb[2]-gb;Sb=Sb[3]-nb;var qc=pj([],ua);if(["n","w","nw"].includes(S)&&(qc=[t[0]-Math.abs(Xb),t[1]-Math.abs(Sb)]),"ne"===S)qc=[ua[0],t[1]],qc=[qc[0],qc[1]-Math.abs(Sb)];"sw"===S&&(ua=[t[0],ua[1]],qc=[ua[0]-Math.abs(Xb),ua[1]]);w&&(["s","n"].includes(S)&&(qc[0]=mb[0]-Xb/2),["e","w"].includes(S)&&(qc[1]=mb[1]-Sb/2));0>Ma&&(S.includes("e")&&(qc[0]-=Math.abs(Xb)),S.includes("w")&&
(qc[0]+=Math.abs(Xb)));0>Ga&&(S.includes("s")&&(qc[1]-=Math.abs(Sb)),S.includes("n")&&(qc[1]+=Math.abs(Sb)));Ba&&(qc[0]=mb[0]-Math.abs(Xb)/2,qc[1]=mb[1]-Math.abs(Sb)/2);S=wa.angle;Ba=dj(qc,mb,S);w=dj([qc[0]+Math.abs(Xb)/2,qc[1]+Math.abs(Sb)/2],mb,S);qc=dj(Ba,w,-S);S=df(wa,Ma,Ga);Ba=pj([],qc);Ba[0]+=wa.x-gb;Ba[1]+=wa.y-nb;S=oc({width:Math.abs(Ma),height:Math.abs(Ga),x:Ba[0],y:Ba[1]},S);0!==S.width&&0!==S.height&&Number.isFinite(S.x)&&Number.isFinite(S.y)&&(yi(aa,{newSize:{width:S.width,height:S.height}}),
bf(aa,S))}}else{wa=ag(aa);t=wa[0];ua=wa[1];w=wa[2];wa=wa[3];Ga=Bf(Ma,Ga,(t+w)/2,(ua+wa)/2,-aa.angle);Ma=Ga[0];Ga=Ga[1];switch(S){case "se":mb=Math.max((Ma-t)/(w-t),(Ga-ua)/(wa-ua));break;case "nw":mb=Math.max((w-Ma)/(w-t),(wa-Ga)/(wa-ua));break;case "ne":mb=Math.max((Ma-t)/(w-t),(wa-Ga)/(wa-ua));break;case "sw":mb=Math.max((w-Ma)/(w-t),(Ga-ua)/(wa-ua))}0<mb&&(Ma=aa.width*mb,mb*=aa.height,Ga=Mg(aa,Ma,mb),null!==Ga&&(gb=Og(aa,Ma,mb),t=(t-gb[0])/2,ua=(ua-gb[1])/2,w=(w-gb[2])/2,wa=(wa-gb[3])/2,S={n:/^(n|ne|nw)$/.test(S)||
Ba&&/^(s|se|sw)$/.test(S),s:/^(s|se|sw)$/.test(S)||Ba&&/^(n|ne|nw)$/.test(S),w:/^(w|nw|sw)$/.test(S)||Ba&&/^(e|ne|se)$/.test(S),e:/^(e|ne|se)$/.test(S)||Ba&&/^(w|nw|sw)$/.test(S)},S=hg(S,aa.x,aa.y,aa.angle,t,ua,w,wa),bf(aa,{fontSize:Ga.size,width:Ma,height:mb,baseline:Ga.baseline,x:S[0],y:S[1]})));yi(aa)}else S=ag(aa),Ba=Bf(Ma,Ga,(S[0]+S[2])/2,(S[1]+S[3])/2,-aa.angle),S=Ba[0],Ba=Ba[1],Ba="end"===wa?[S-aa.x,Ba-aa.y]:[aa.x+aa.points[1][0]-S,aa.y+aa.points[1][1]-Ba],S=Ba[0],Ba=Ba[1],ua&&(w=aa.angle,
S=Je.apply(void 0,pj([aa.type],Bf(S,Ba,0,0,w))),Ba=Bf(S.width,S.height,0,0,-w),S=Ba[0],Ba=Ba[1]),w=hg("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},aa.x,aa.y,aa.angle,0,0,(aa.points[1][0]-S)/2,(aa.points[1][1]-Ba)/2),bf(aa,{x:w[0],y:w[1],points:[[0,0],[S,Ba]]});aa=!0}else{if(1<F.length){if("rotation"===S){aa=(kl(t,F,Ma,Ga,ua,aa,gb),!0);break a}if("nw"===S||"ne"===S||"sw"===S||"se"===S){aa=(Cl(F,S,Ma,Ga),!0);break a}}aa=!1}}return!!aa&&(d.maybeSuggestBindingForAll(F),!0)};this.openContextMenu=function(t){var w,
F=t.clientX;t=t.clientY;var S=ng({clientX:F,clientY:t},d.state),aa=S.x,wa=S.y,ua=Wf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ba=vi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());S=rg().matches;var Ma=d.scene.getElements();aa=d.getElementAtPosition(aa,wa);wa=[];(Ak&&0<Ma.length&&wa.push(pp),Wj&&0<Ma.length&&wa.push(qp),aa)?(d.state.selectedElementIds[aa.id]||d.setState({selectedElementIds:(w=
{},w[aa.id]=!0,w)}),d.state.viewModeEnabled?Dn({options:Zg([navigator.clipboard&&jn],wa),top:t,left:F,actionManager:d.actionManager,appState:d.state}):Dn({options:Zg(Zg([S&&$p,S&&navigator.clipboard&&jn,S&&navigator.clipboard&&{name:"paste",perform:function(Ga,gb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},S&&"separator"],wa),["separator",kf,af,"separator",ua&&Wf,Ba&&vi,(ua||Ba)&&"separator",Fo,"separator",pn,Rk,n,C,"separator",oa,bm]),top:t,left:F,actionManager:d.actionManager,
appState:d.state})):(w=Zg(Zg([],wa),[void 0===d.props.gridModeEnabled&&np,void 0===d.props.zenModeEnabled&&fe,void 0===d.props.viewModeEnabled&&Ss,Xn]),(Dn({options:w,top:t,left:F,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||Dn({options:[S&&navigator.clipboard&&{name:"paste",perform:function(Ga,gb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},S&&navigator.clipboard&&"separator",Ak&&0<Ma.length&&pp,Wj&&0<Ma.length&&qp,(Ak&&0<
Ma.length||Wj&&0<Ma.length)&&"separator",X,"separator",void 0===d.props.gridModeEnabled&&np,void 0===d.props.zenModeEnabled&&fe,void 0===d.props.viewModeEnabled&&Ss,Xn],top:t,left:F,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Vf(function(t){if(t.preventDefault(),!rq){var w=t.deltaX,F=t.deltaY,S=d.state,aa=S.selectedElementIds,wa=S.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){t=Math.sign(F);S=Math.abs(F);10<S&&(S=10);S*=t;0!==Object.keys(wa).length&&setTimeout(function(){d.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var ua=d.state.zoom.value-S/100;return ua+=Math.log10(Math.max(1,d.state.zoom.value))*-t,ua=Math.round(ua*Pa.V4*100)/(100*Pa.V4),d.setState(function(Ba){var Ma=Ba.zoom,Ga=Ba.offsetLeft;Ba=Ba.offsetTop;return{zoom:Xh(Pj(ua),Ma,{left:Ga,top:Ba},{x:Cp,y:Dp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(aa).length?aa:wa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?d.setState(function(Ba){return{scrollX:Ba.scrollX-
(F||w)/Ba.zoom.value}}):d.setState(function(Ba){var Ma=Ba.zoom;return{scrollX:Ba.scrollX-w/Ma.value,scrollY:Ba.scrollY-F/Ma.value}})}});this.savePointer=function(t,w,F){var S,aa;t&&w&&(t=ng({clientX:t,clientY:w},d.state),isNaN(t.x)||isNaN(t.y),null===(S=(aa=d.props).onPointerUpdate)||void 0===S||S.call(aa,{pointer:t,button:F,pointersMap:vl}))};this.resetShouldCacheIgnoreZoomDebounced=qi(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Pa.Vi.TEST&&"production"!==
Pa.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:jh}}));h(8234);h(4651);var Os=function(d){var t=d.width,w=d.height,F=d.offsetLeft,S=d.offsetTop,aa=d.onChange,wa=d.initialData,ua=d.excalidrawRef,Ba=d.onCollabButtonClick,Ma=d.isCollaborating,
Ga=d.onPointerUpdate,gb=d.onExportToBackend,mb=d.renderFooter,nb=d.langCode;nb=void 0===nb?Nd.code:nb;var Xb=d.viewModeEnabled,Sb=d.zenModeEnabled;d=d.gridModeEnabled;return(0,ea.useEffect)(function(){var qc=function(Xc){"number"==typeof Xc.scale&&1!==Xc.scale&&Xc.preventDefault()};return document.addEventListener("touchmove",qc,{passive:!1}),function(){document.removeEventListener("touchmove",qc)}},[]),U().createElement(Jh,{langCode:nb},U().createElement(dg,null,U().createElement(Wr,{width:t,height:w,
offsetLeft:F,offsetTop:S,onChange:aa,initialData:wa,excalidrawRef:ua,onCollabButtonClick:Ba,isCollaborating:Ma,onPointerUpdate:Ga,onExportToBackend:gb,renderFooter:mb,langCode:nb,viewModeEnabled:Xb,zenModeEnabled:Sb,gridModeEnabled:d})))};Os.defaultProps={lanCode:Nd.code};var Vt=(0,ea.forwardRef)(function(d,t){return U().createElement(Os,za()({},d,{excalidrawRef:t}))});const Wt=U().memo(Vt,function(d,t){d.initialData;var w=P()(d,["initialData"]),F=(t.initialData,P()(t,["initialData"]));d=Object.keys(d);
t=Object.keys(t);return d.length===t.length&&d.every(function(S){return w[S]===F[S]})});h(6009);const Xt=Wt},4698:x=>{x.exports=q},6207:x=>{x.exports=r}},a={};return m.m=p,m.n=x=>{var l=x&&x.__esModule?()=>x.default:()=>x;return m.d(l,{a:l}),l},e=Object.getPrototypeOf?x=>Object.getPrototypeOf(x):x=>x.__proto__,m.t=function(x,l){if((1&l&&(x=this(x)),8&l)||"object"==typeof x&&x&&(4&l&&x.__esModule||16&l&&"function"==typeof x.then))return x;var h=Object.create(null);m.r(h);var y={};f=f||[null,e({}),
e([]),e(e)];for(l=2&l&&x;"object"==typeof l&&!~f.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach(A=>y[A]=()=>x[A]);return y.default=()=>x,m.d(h,y),h},m.d=(x,l)=>{for(var h in l)m.o(l,h)&&!m.o(x,h)&&Object.defineProperty(x,h,{enumerable:!0,get:l[h]})},m.f={},m.e=x=>Promise.all(Object.keys(m.f).reduce((l,h)=>(m.f[h](x,l),l),[])),m.u=x=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",
196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",
736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[x]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",
317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",
869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[x]+".js",m.o=(x,l)=>Object.prototype.hasOwnProperty.call(x,l),k={},m.l=(x,l,h,y)=>{if(k[x])k[x].push(l);else{var A;if(void 0!==h){y=document.getElementsByTagName("script");for(var D=0;D<y.length;D++){var L=y[D];if(L.getAttribute("src")==x||L.getAttribute("data-webpack")=="Excalidraw:"+h){var O=L;break}}}O||(A=!0,(O=document.createElement("script")).charset="utf-8",O.timeout=120,m.nc&&O.setAttribute("nonce",m.nc),O.setAttribute("data-webpack",
"Excalidraw:"+h),O.src=x);k[x]=[l];l=(H,E)=>{O.onerror=O.onload=null;clearTimeout(I);var G=k[x];if(delete k[x],O.parentNode&&O.parentNode.removeChild(O),G&&G.forEach(Z=>Z(E)),H)return H(E)};var I=setTimeout(l.bind(null,void 0,{type:"timeout",target:O}),12E4);O.onerror=l.bind(null,O.onerror);O.onload=l.bind(null,O.onload);A&&document.head.appendChild(O)}},m.r=x=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",
{value:!0})},m.p="",(()=>{var x={163:0};m.f.j=(y,A)=>{var D=m.o(x,y)?x[y]:void 0;if(0!==D)if(D)A.push(D[2]);else{var L=new Promise((I,H)=>{D=x[y]=[I,H]});A.push(D[2]=L);A=m.p+m.u(y);var O=Error();m.l(A,I=>{if(m.o(x,y)&&(0!==(D=x[y])&&(x[y]=void 0),D)){var H=I&&("load"===I.type?"missing":I.type);I=I&&I.target&&I.target.src;O.message="Loading chunk "+y+" failed.\n("+H+": "+I+")";O.name="ChunkLoadError";O.type=H;O.request=I;D[1](O)}},"chunk-"+y,y)}};var l=(y,A)=>{for(var D,L,[O,I,H]=A,E=0,G=[];E<O.length;E++)L=
O[E],m.o(x,L)&&x[L]&&G.push(x[L][0]),x[L]=0;for(D in I)m.o(I,D)&&(m.m[D]=I[D]);H&&H(m);for(y&&y(A);G.length;)G.shift()()},h=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];h.forEach(l.bind(null,0));h.push=l.bind(null,h.push.bind(h))})(),m(3956)})()})};
'use strict';var s7b=function(a,b){var c=$APP.DA();$APP.l(c)&&$APP.hz($APP.SYa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Nk($APP.E(["Error loading ",a,": ",d]))})},u7b=function(a){var b=$APP.Wv(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Li(t7b.F(a),b);return a},v7b=new $APP.J(null,"view-mode-enabled","view-mode-enabled",-588220561),w7b=new $APP.J("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),x7b=new $APP.J(null,"viewBackgroundColor","viewBackgroundColor",1889137994),y7b=new $APP.J(null,"grid-mode-enabled","grid-mode-enabled",584978327),z7b=new $APP.J(null,"gridSize","gridSize",843108791),A7b=new $APP.J("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),B7b=new $APP.J("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),C7b=new $APP.J("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),D7b=new $APP.J(null,"zen-mode-enabled","zen-mode-enabled",-955634269),E7b=new $APP.J("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),F7b=new $APP.J(null,"appState","appState",-1920687968),G7b=new $APP.J(null,"initial-data","initial-data",-1315709804),t7b=new $APP.J("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Oca("excalidraw");var H7b=$APP.wv(551);var I7b,J7b,K7b,L7b;$APP.s_b={};I7b=$APP.BK($APP.Ka(H7b,"default"));J7b=$APP.Zk.F(null);
K7b=$APP.Qv($APP.Uv,function(a,b,c){$APP.sA($APP.CA);$APP.Zv(J7b);var d=$APP.G.B(a,t7b),e=$APP.G.B(a,E7b),f=$APP.G.B(a,w7b),g=$APP.sA($APP.cPa),m=$APP.G.B(a,A7b),n=$APP.Im.F(c);return $APP.l(b)?$APP.V("div",{onMouseDown:function(q){return $APP.uz(q)},className:"overflow-hidden"},[$APP.V("div",{style:{fontSize:10},className:"my-1"},[$APP.V("a",{onClick:$APP.dPa,className:"mr-2"},[$APP.Cv($APP.fz("Wide Mode (%s)",$APP.E([$APP.l(g)?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.$k.B(e,$APP.jd)},
className:"mr-2"},[$APP.Cv($APP.fz("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.$k.B(f,$APP.jd)},className:"mr-2"},[$APP.Cv($APP.fz("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.V("div",{onMouseDown:function(q){$APP.uz(q);return $APP.AA($APP.DY,!0)},onBlur:function(){return $APP.AA($APP.DY,!1)},className:"draw-wrap"},[$APP.Cv(function(){var q=$APP.fn.K($APP.E([new $APP.k(null,6,[$APP.hT,function(t,v){var y=$APP.Mt(t);return $APP.w(y)&&
$APP.hk.B(t,$APP.r(m))?(v=$APP.Mt(v),$APP.z0a(n,JSON.stringify($APP.Nt(new $APP.k(null,5,[$APP.Gm,"excalidraw",$APP.pR,2,$APP.Fq,$APP.n0a,$APP.L2,t,F7b,$APP.ik(v,new $APP.N(null,2,5,$APP.O,[z7b,x7b],null))],null)))),$APP.Li(m,t)):null},D7b,$APP.r(e),v7b,$APP.r(f),y7b,!1,G7b,b,$APP.Xz,$APP.r(d)],null),$APP.l(g)?new $APP.k(null,1,[$APP.Yz,650],null):new $APP.k(null,1,[$APP.Yz,500],null)]));return I7b.F?I7b.F(q):I7b.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.p6,$APP.Xv(800,t7b),$APP.Xv(!0,
E7b),$APP.Xv(!1,w7b),$APP.Xv(null,A7b),new $APP.k(null,1,[$APP.Mv,u7b],null),new $APP.k(null,1,[$APP.Ov,u7b],null)],null),"frontend.extensions.excalidraw/draw-inner");
L7b=$APP.Qv($APP.Uv,function(a,b){var c=$APP.G.B(a,C7b);a=$APP.G.B(a,B7b);a=$APP.Zv(a);c=$APP.Zv(c);var d=$APP.sA($APP.DPb);return $APP.l($APP.Im.F(b))?$APP.l(d)?(b=$APP.lT("Loading"),$APP.V("div",$APP.Cf(b)?$APP.Bv($APP.zv($APP.E([new $APP.k(null,1,[$APP.yv,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Cf(b)?null:[$APP.Cv(b)])):!1===a?K7b(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.p6,new $APP.k(null,1,[$APP.Kv,function(a){var b=$APP.Rv.F(a);b=$APP.D.G(b,
0,null);b=$APP.Im.F(b);var c=$APP.Zk.F(null),d=$APP.Zk.F(!0);$APP.l(b)&&s7b(b,function(e){if($APP.fm(e))var f=null;else try{f=JSON.parse(e)}catch(g){if(g instanceof Error)e=g,$APP.Nk($APP.E(["from json error:"])),console.dir(e),f=$APP.aK($APP.owa("Could not load this invalid excalidraw file"),$APP.Mo);else throw g;}$APP.Li(c,f);return $APP.Li(d,!1)});return $APP.P.K(a,C7b,c,$APP.E([B7b,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.t_b=$APP.Qv($APP.Tv,function(a){var b=$APP.DA(),c=$APP.sA(new $APP.N(null,2,5,$APP.O,[$APP.eK,b],null));return $APP.ZB(b)&&$APP.jd(c)&&$APP.jd($APP.ez())?null:L7b(a)},new $APP.N(null,1,5,$APP.O,[$APP.p6],null),"frontend.extensions.excalidraw/draw");$APP.Rb.Li();
}).call(this);